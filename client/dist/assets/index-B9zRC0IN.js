(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();let me=await fetch("./src/data/json/candidatures.json");me=await me.json();let Ft={};Ft.getAll=function(){return me};Ft.getAllNumero_uai=function(){const h=new Set;for(let t=0;t<me.length;t++){const e=me[t];for(let i=0;i<e.Scolarite.length;i++){const s=e.Scolarite[i];s.UAIEtablissementorigine!==void 0&&h.add(s.UAIEtablissementorigine)}}return[...h]};Ft.getLastLycees=function(){return me.filter(h=>h.Baccalaureat.TypeDiplomeCode===4&&h.Scolarite.length>0).map(h=>{let t=h.Scolarite[0];for(let e=1;e<h.Scolarite.length;e++){const i=h.Scolarite[e];new Date(i.AnneeScolaireLibelle.split("-")[0])>new Date(t.AnneeScolaireLibelle.split("-")[0])&&(t=i)}return t?t.UAIEtablissementorigine:void 0})};Ft.getLastFiliere=function(){const h={},t=me.filter(e=>e.Baccalaureat.TypeDiplomeCode===4&&e.Scolarite.length>0);for(let e=0;e<t.length;e++){const i=t[e];let s=i.Scolarite[0];for(let o=1;o<i.Scolarite.length;o++){const l=i.Scolarite[o];new Date(l.AnneeScolaireLibelle.split("-")[0])>new Date(s.AnneeScolaireLibelle.split("-")[0])&&(s=l)}let a=i.Baccalaureat.SerieDiplomeCode;a!=="Générale"&&a!=="STI2D"?a="autres":a==="Générale"?a="generale":a==="STI2D"&&(a="sti2d");const r=s?s.UAIEtablissementorigine:void 0;r&&(h[r]||(h[r]={numero_uai:r,generale:0,sti2d:0,autres:0}),h[r][a.toLowerCase()]++)}return Object.values(h)};Ft.getByFiliere=function(h){const t=[],e={};for(let i=0;i<me.length;i++){const s=me[i];let a=!1;if(s.Baccalaureat.TypeDiplomeCode===4&&(h==="autres"?a=s.Baccalaureat.SerieDiplomeCode!=="Générale"&&s.Baccalaureat.SerieDiplomeCode!=="STI2D":a=s.Baccalaureat.SerieDiplomeCode===h),a){let r=s.Scolarite[0];for(let o=1;o<s.Scolarite.length;o++){const l=s.Scolarite[o];new Date(l.AnneeScolaireLibelle.split("-")[0])>new Date(r.AnneeScolaireLibelle.split("-")[0])&&(r=l)}if(r&&r.UAIEtablissementorigine){const o=r.UAIEtablissementorigine;e[o]||(e[o]={numero_uai:o,[h]:0},t.push(e[o])),e[o][h]++}}}return t};Ft.getPostBac=function(){const h=me.filter(e=>e.Baccalaureat.TypeDiplomeCode===1).map(e=>{let i=e.Scolarite[0];for(let s=1;s<e.Scolarite.length;s++){const a=e.Scolarite[s];new Date(a.AnneeScolaireLibelle.split("-")[0])>new Date(i.AnneeScolaireLibelle.split("-")[0])&&(i=a)}if(i&&i.CommuneEtablissementOrigineCodePostal)return i.CommuneEtablissementOrigineCodePostal.substring(0,2)+"000"}).filter(e=>e!==void 0),t={};for(let e=0;e<h.length;e++){const i=h[e];t[i]||(t[i]={codePostal:i,count:0}),t[i].count++}return Object.values(t)};Ft.getType4=function(){const h=me.filter(e=>e.Baccalaureat.TypeDiplomeCode===4).map(e=>{let i=e.Scolarite[0];for(let s=1;s<e.Scolarite.length;s++){const a=e.Scolarite[s];new Date(a.AnneeScolaireLibelle.split("-")[0])>new Date(i.AnneeScolaireLibelle.split("-")[0])&&(i=a)}if(i&&i.CommuneEtablissementOrigineCodePostal){const s=i.CommuneEtablissementOrigineCodePostal;let a=e.Baccalaureat.SerieDiplomeCode;return a!=="Générale"&&a!=="STI2D"?a="autres":a==="Générale"?a="generale":a==="STI2D"&&(a="sti2d"),{codePostal:s.substring(0,2)+"000",filiere:a}}}).filter(e=>e!==void 0),t={};for(let e=0;e<h.length;e++){const i=h[e];t[i.codePostal]||(t[i.codePostal]={codePostal:i.codePostal,generale:0,sti2d:0,autres:0}),t[i.codePostal][i.filiere]++}return Object.values(t)};let hi=await fetch("./src/data/json/lycees.json");hi=await hi.json();hi=hi.map(h=>({numero_uai:h.numero_uai,appellation_officielle:h.appellation_officielle,coordonnee_x:h.coordonnee_x,coordonnee_y:h.coordonnee_y,longitude:h.longitude,latitude:h.latitude,code_commune:h.code_commune,libelle_departement:h.libelle_departement})).slice(1).sort((h,t)=>h.numero_uai.localeCompare(t.numero_uai));let je={};je.getAll=function(){return hi};je.getAllTrieNumeroUAI=function(){return hi.slice(1).sort((h,t)=>h.numero_uai.localeCompare(t.numero_uai))};je.getLycee=function(h){const t=new Set,e=je.getAllTrieNumeroUAI();function i(a){let r=0,o=e.length-1;for(;r<=o;){const l=Math.floor((r+o)/2),d=e[l].numero_uai.localeCompare(a);if(d===0)return e[l];d<0?r=l+1:o=l-1}return null}let s=[];for(let a=0;a<h.length;a++){const r=h[a],o=i(r),l=h.filter(d=>d===r).length;if(o){const d=`${o.latitude},${o.longitude}`;t.has(d)||(t.add(d),s.push({numero_uai:o.numero_uai,latitude:o.latitude,longitude:o.longitude,nom:o.appellation_officielle,count:l}))}}return s};var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}/*!
 * ApexCharts v4.2.0
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */function ka(h,t){(t==null||t>h.length)&&(t=h.length);for(var e=0,i=Array(t);e<t;e++)i[e]=h[e];return i}function Dr(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function $(h,t){if(!(h instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(h,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,Xr(i.key),i)}}function K(h,t,e){return t&&ur(h.prototype,t),e&&ur(h,e),Object.defineProperty(h,"prototype",{writable:!1}),h}function zi(h,t){var e=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!e){if(Array.isArray(h)||(e=Wa(h))||t){e&&(h=e);var i=0,s=function(){};return{s,n:function(){return i>=h.length?{done:!0}:{done:!1,value:h[i++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,r=!0,o=!1;return{s:function(){e=e.call(h)},n:function(){var l=e.next();return r=l.done,l},e:function(l){o=!0,a=l},f:function(){try{r||e.return==null||e.return()}finally{if(o)throw a}}}}function Xi(h){var t=Hr();return function(){var e,i=ys(h);if(t){var s=ys(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return function(a,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(a)}(this,e)}}function bs(h,t,e){return(t=Xr(t))in h?Object.defineProperty(h,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):h[t]=e,h}function ys(h){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(h)}function Ni(h,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(t&&t.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),t&&Ca(h,t)}function Hr(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hr=function(){return!!h})()}function fr(h,t){var e=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(h,s).enumerable})),e.push.apply(e,i)}return e}function U(h){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fr(Object(e),!0).forEach(function(i){bs(h,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(e)):fr(Object(e)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(e,i))})}return h}function Ca(h,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},Ca(h,t)}function Fr(h,t){return function(e){if(Array.isArray(e))return e}(h)||function(e,i){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,r,o,l,d=[],f=!0,u=!1;try{if(o=(s=s.call(e)).next,i===0){if(Object(s)!==s)return;f=!1}else for(;!(f=(a=o.call(s)).done)&&(d.push(a.value),d.length!==i);f=!0);}catch(p){u=!0,r=p}finally{try{if(!f&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(u)throw r}}return d}}(h,t)||Wa(h,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yt(h){return function(t){if(Array.isArray(t))return ka(t)}(h)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(h)||Wa(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(h){var t=function(e,i){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,i||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}(h,"string");return typeof t=="symbol"?t:t+""}function ci(h){return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(h)}function Wa(h,t){if(h){if(typeof h=="string")return ka(h,t);var e={}.toString.call(h).slice(8,-1);return e==="Object"&&h.constructor&&(e=h.constructor.name),e==="Map"||e==="Set"?Array.from(h):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ka(h,t):void 0}}var O=function(){function h(){$(this,h)}return K(h,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),s=t<0?0:255,a=t<0?-1*t:t,r=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),l=parseInt(i[2],10);return"rgb("+(Math.round((s-r)*a)+r)+","+(Math.round((s-o)*a)+o)+","+(Math.round((s-l)*a)+l)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),s=t<0?0:255,a=t<0?-1*t:t,r=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((s-r)*a)+r)+256*(Math.round((s-o)*a)+o)+(Math.round((s-l)*a)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return h.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&ci(t)==="object"&&!Array.isArray(t)&&t!=null}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;typeof Object.assign!="function"&&(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(a),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var d in l)l.hasOwnProperty(d)&&(r[d]=l[d])}return r});var s=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(a){i.isObject(e[a])&&a in t?s[a]=i.extend(t[a],e[a]):Object.assign(s,bs({},a,e[a]))}),s}},{key:"extendArray",value:function(t,e){var i=[];return t.map(function(s){i.push(h.extend(e,s))}),t=i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if(h.is("Array",t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if(h.is("Null",t))return null;if(h.is("Date",t))return t;if(ci(t)==="object"){var s={};for(var a in t)t.hasOwnProperty(a)&&(s[a]=this.clone(t[a]));return s}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return t===null?t:parseFloat(t)}},{key:"stripNumber",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(t)?t:parseFloat(t.toPrecision(e))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(e.length===1)return e[0];var i="",s=t<0?"-":"",a=e[0].replace(".",""),r=Number(e[1])+1;if(r<0){for(i=s+"0.";r++;)i+="0";return i+a.replace(/^-/,"")}for(r-=a.length;r--;)i+="0";return a+i}},{key:"elementExists",value:function(t){return!(!t||!t.isConnected)}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,s=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(e,i){return Array.isArray(i)&&(i=i.reduce(function(s,a){return s.length>a.length?s:a})),e.length>i.length?e:i},0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;t.substring(0,1)!=="#"&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(i[s].length===1?i[s]+i[s]:i[s],16);return e!==void 0&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],s=2*Math.PI/e,a=0;a<e;a++){var r={};r.x=t*Math.sin(a*s),r.y=-t*Math.cos(a*s),i.push(r)}return i}},{key:"polarToCartesian",value:function(t,e,i,s){var a=(s-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=t.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var s=i-t.length+1;s--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"preciseAddition",value:function(t,e){var i=(String(t).split(".")[1]||"").length,s=(String(e).split(".")[1]||"").length,a=Math.pow(10,Math.max(i,s));return(Math.round(t*a)+Math.round(e*a))/a}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isMsEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"getGCD",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,i-Math.floor(Math.log10(Math.max(t,e))));for(t=Math.round(Math.abs(t)*s),e=Math.round(Math.abs(e)*s);e;){var a=e;e=t%e,t=a}return t/s}},{key:"getPrimeFactors",value:function(t){for(var e=[],i=2;t>=2;)t%i==0?(e.push(i),t/=i):i++;return e}},{key:"mod",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,i-Math.floor(Math.log10(Math.max(t,e))));return(t=Math.round(Math.abs(t)*s))%(e=Math.round(Math.abs(e)*s))/s}}]),h}(),fi=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"animateLine",value:function(t,e,i,s){t.attr(e).animate(s).attr(i)}},{key:"animateMarker",value:function(t,e,i,s){t.attr({opacity:0}).animate(e).attr({opacity:1}).after(function(){s()})}},{key:"animateRect",value:function(t,e,i,s,a){t.attr(e).animate(s).attr(i).after(function(){return a()})}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,s=t.j,a=t.fill,r=t.pathFrom,o=t.pathTo,l=t.speed,d=t.delay,f=this.w,u=0;f.config.chart.animations.animateGradually.enabled&&(u=f.config.chart.animations.animateGradually.delay),f.config.chart.animations.dynamicAnimation.enabled&&f.globals.dataChanged&&f.config.chart.type!=="bar"&&(u=0),this.morphSVG(e,i,s,f.config.chart.type!=="line"||f.globals.comboCharts?a:"stroke",r,o,l,d*u)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){var e=t.el;e.classList.remove("apexcharts-element-hidden"),e.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),typeof e.config.chart.events.animationEnd=="function"&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,s,a,r,o,l){var d=this,f=this.w;a||(a=t.attr("pathFrom")),r||(r=t.attr("pathTo"));var u=function(p){return f.config.chart.type==="radar"&&(o=1),"M 0 ".concat(f.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=u()),(!r.trim()||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=u()),f.globals.shouldAnimate||(o=1),t.plot(a).animate(1,l).plot(a).animate(o,l).plot(r).after(function(){O.isNumber(i)?i===f.globals.series[f.globals.maxValsInArrayIndex].length-2&&f.globals.shouldAnimate&&d.animationCompleted(t):s!=="none"&&f.globals.shouldAnimate&&(!f.globals.comboCharts&&e===f.globals.series.length-1||f.globals.comboCharts)&&d.animationCompleted(t),d.showDelayedElements()})}}]),h}();const Aa={},Nr=[];function ut(h,t){if(Array.isArray(h))for(const e of h)ut(e,t);else if(typeof h!="object")Yr(Object.getOwnPropertyNames(t)),Aa[h]=Object.assign(Aa[h]||{},t);else for(const e in h)ut(e,h[e])}function Qt(h){return Aa[h]||{}}function Yr(h){Nr.push(...h)}function Ga(h,t){let e;const i=h.length,s=[];for(e=0;e<i;e++)s.push(t(h[e]));return s}function na(h){return h%360*Math.PI/180}function gi(h){return h.charAt(0).toUpperCase()+h.slice(1)}function pi(h,t,e,i){return t!=null&&e!=null||(i=i||h.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function La(h,t){const e=h.origin;let i=h.ox!=null?h.ox:h.originX!=null?h.originX:"center",s=h.oy!=null?h.oy:h.originY!=null?h.originY:"center";e!=null&&([i,s]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const a=typeof i=="string",r=typeof s=="string";if(a||r){const{height:o,width:l,x:d,y:f}=t.bbox();a&&(i=i.includes("left")?d:i.includes("right")?d+l:d+l/2),r&&(s=s.includes("top")?f:s.includes("bottom")?f+o:f+o/2)}return[i,s]}const Jl=new Set(["desc","metadata","title"]),Sa=h=>Jl.has(h.nodeName),Wr=(h,t,e={})=>{const i={...t};for(const s in i)i[s].valueOf()===e[s]&&delete i[s];Object.keys(i).length?h.node.setAttribute("data-svgjs",JSON.stringify(i)):(h.node.removeAttribute("data-svgjs"),h.node.removeAttribute("svgjs:data"))},Za="http://www.w3.org/2000/svg",ra="http://www.w3.org/2000/xmlns/",mi="http://www.w3.org/1999/xlink",yt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Yi(){return yt.window}let ja=class{};const Ze={},Va="___SYMBOL___ROOT___";function Oi(h,t=Za){return yt.document.createElementNS(t,h)}function qt(h,t=!1){if(h instanceof ja)return h;if(typeof h=="object")return oa(h);if(h==null)return new Ze[Va];if(typeof h=="string"&&h.charAt(0)!=="<")return oa(yt.document.querySelector(h));const e=t?yt.document.createElement("div"):Oi("svg");return e.innerHTML=h,h=oa(e.firstChild),e.removeChild(e.firstChild),h}function St(h,t){return t&&(t instanceof yt.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Oi(h)}function re(h){if(!h)return null;if(h.instance instanceof ja)return h.instance;if(h.nodeName==="#document-fragment")return new Ze.Fragment(h);let t=gi(h.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Ze[t]||(t="Dom"),new Ze[t](h)}let oa=re;function _t(h,t=h.name,e=!1){return Ze[t]=h,e&&(Ze[Va]=h),Yr(Object.getOwnPropertyNames(h.prototype)),h}let Ql=1e3;function Gr(h){return"Svgjs"+gi(h)+Ql++}function Zr(h){for(let t=h.children.length-1;t>=0;t--)Zr(h.children[t]);return h.id&&(h.id=Gr(h.nodeName)),h}function nt(h,t){let e,i;for(i=(h=Array.isArray(h)?h:[h]).length-1;i>=0;i--)for(e in t)h[i].prototype[e]=t[e]}function Lt(h){return function(...t){const e=t[t.length-1];return!e||e.constructor!==Object||e instanceof Array?h.apply(this,t):h.apply(this,t.slice(0,-1)).attr(e)}}ut("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const h=this.position();return this.parent().add(this.remove(),h+1),this},backward:function(){const h=this.position();return this.parent().add(this.remove(),h?h-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(h){(h=qt(h)).remove();const t=this.position();return this.parent().add(h,t),this},after:function(h){(h=qt(h)).remove();const t=this.position();return this.parent().add(h,t+1),this},insertBefore:function(h){return(h=qt(h)).before(this),this},insertAfter:function(h){return(h=qt(h)).after(this),this}});const jr=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,th=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eh=/rgb\((\d+),(\d+),(\d+)\)/,ih=/(#[a-z_][a-z0-9\-_]*)/i,sh=/\)\s*,?\s*/,ah=/\s/g,gr=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,pr=/^rgb\(/,mr=/^(\s+)?$/,xr=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nh=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Le=/[\s,]+/,Ua=/[MLHVCSQTAZ]/i;function rh(h){const t=Math.round(h),e=Math.max(0,Math.min(255,t)).toString(16);return e.length===1?"0"+e:e}function ni(h,t){for(let e=t.length;e--;)if(h[t[e]]==null)return!1;return!0}function la(h,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?h+6*(t-h)*e:e<.5?t:e<2/3?h+(t-h)*(2/3-e)*6:h}ut("Dom",{classes:function(){const h=this.attr("class");return h==null?[]:h.trim().split(Le)},hasClass:function(h){return this.classes().indexOf(h)!==-1},addClass:function(h){if(!this.hasClass(h)){const t=this.classes();t.push(h),this.attr("class",t.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(t){return t!==h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)}}),ut("Dom",{css:function(h,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const s=i.split(/\s*:\s*/);e[s[0]]=s[1]}),e;if(arguments.length<2){if(Array.isArray(h)){for(const i of h){const s=i;e[i]=this.node.style.getPropertyValue(s)}return e}if(typeof h=="string")return this.node.style.getPropertyValue(h);if(typeof h=="object")for(const i in h)this.node.style.setProperty(i,h[i]==null||mr.test(h[i])?"":h[i])}return arguments.length===2&&this.node.style.setProperty(h,t==null||mr.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ut("Dom",{data:function(h,t,e){if(h==null)return this.data(Ga(function(i,s){let a;const r=i.length,o=[];for(a=0;a<r;a++)s(i[a])&&o.push(i[a]);return o}(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(h instanceof Array){const i={};for(const s of h)i[s]=this.data(s);return i}if(typeof h=="object")for(t in h)this.data(t,h[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}}),ut("Dom",{remember:function(h,t){if(typeof arguments[0]=="object")for(const e in h)this.remember(e,h[e]);else{if(arguments.length===1)return this.memory()[h];this.memory()[h]=t}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory=this._memory||{}}});class At{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof At||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:s,sin:a,PI:r}=Math;if(t==="vibrant"){const o=24*i()+57,l=38*i()+45,d=360*i();return new At(o,l,d,"lch")}if(t==="sine"){const o=s(80*a(2*r*(e=e??i())/.5+.01)+150),l=s(50*a(2*r*e/.5+4.6)+200),d=s(100*a(2*r*e/.5+2.3)+150);return new At(o,l,d)}if(t==="pastel"){const o=8*i()+86,l=17*i()+9,d=360*i();return new At(o,l,d,"lch")}if(t==="dark"){const o=10+10*i(),l=50*i()+86,d=360*i();return new At(o,l,d,"lch")}if(t==="rgb"){const o=255*i(),l=255*i(),d=255*i();return new At(o,l,d)}if(t==="lab"){const o=100*i(),l=256*i()-128,d=256*i()-128;return new At(o,l,d,"lab")}if(t==="grey"){const o=255*i();return new At(o,o,o)}throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(gr.test(t)||pr.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,a,r]=[t,e,i].map(l=>l/255),o=Math.min(1-s,1-a,1-r);return o===1?new At(0,0,0,1,"cmyk"):new At((1-s-o)/(1-o),(1-a-o)/(1-o),(1-r-o)/(1-o),o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,a,r]=[t,e,i].map(p=>p/255),o=Math.max(s,a,r),l=Math.min(s,a,r),d=(o+l)/2,f=o===l,u=o-l;return new At(360*(f?0:o===s?((a-r)/u+(a<r?6:0))/6:o===a?((r-s)/u+2)/6:o===r?((s-a)/u+4)/6:0),100*(f?0:d>.5?u/(2-o-l):u/(o+l)),100*d,"hsl")}init(t=0,e=0,i=0,s=0,a="rgb"){if(t=t||0,this.space)for(const u in this.space)delete this[this.space[u]];if(typeof t=="number")a=typeof s=="string"?s:a,s=typeof s=="string"?0:s,Object.assign(this,{_a:t,_b:e,_c:i,_d:s,space:a});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const u=function(p,m){const v=ni(p,"rgb")?{_a:p.r,_b:p.g,_c:p.b,_d:0,space:"rgb"}:ni(p,"xyz")?{_a:p.x,_b:p.y,_c:p.z,_d:0,space:"xyz"}:ni(p,"hsl")?{_a:p.h,_b:p.s,_c:p.l,_d:0,space:"hsl"}:ni(p,"lab")?{_a:p.l,_b:p.a,_c:p.b,_d:0,space:"lab"}:ni(p,"lch")?{_a:p.l,_b:p.c,_c:p.h,_d:0,space:"lch"}:ni(p,"cmyk")?{_a:p.c,_b:p.m,_c:p.y,_d:p.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return v.space=m||v.space,v}(t,e);Object.assign(this,u)}else if(typeof t=="string")if(pr.test(t)){const u=t.replace(ah,""),[p,m,v]=eh.exec(u).slice(1,4).map(x=>parseInt(x));Object.assign(this,{_a:p,_b:m,_c:v,_d:0,space:"rgb"})}else{if(!gr.test(t))throw Error("Unsupported string format, can't construct Color");{const u=x=>parseInt(x,16),[,p,m,v]=th.exec(function(x){return x.length===4?["#",x.substring(1,2),x.substring(1,2),x.substring(2,3),x.substring(2,3),x.substring(3,4),x.substring(3,4)].join(""):x}(t)).map(u);Object.assign(this,{_a:p,_b:m,_c:v,_d:0,space:"rgb"})}}const{_a:r,_b:o,_c:l,_d:d}=this,f=this.space==="rgb"?{r,g:o,b:l}:this.space==="xyz"?{x:r,y:o,z:l}:this.space==="hsl"?{h:r,s:o,l}:this.space==="lab"?{l:r,a:o,b:l}:this.space==="lch"?{l:r,c:o,h:l}:this.space==="cmyk"?{c:r,m:o,y:l,k:d}:{};Object.assign(this,f)}lab(){const{x:t,y:e,z:i}=this.xyz();return new At(116*e-16,500*(t-e),200*(e-i),"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),s=Math.sqrt(e**2+i**2);let a=180*Math.atan2(i,e)/Math.PI;return a<0&&(a*=-1,a=360-a),new At(t,s,a,"lch")}rgb(){if(this.space==="rgb")return this;if((t=this.space)==="lab"||t==="xyz"||t==="lch"){let{x:e,y:i,z:s}=this;if(this.space==="lab"||this.space==="lch"){let{l:m,a:v,b:x}=this;if(this.space==="lch"){const{c:I,h:P}=this,T=Math.PI/180;v=I*Math.cos(T*P),x=I*Math.sin(T*P)}const y=(m+16)/116,_=v/500+y,k=y-x/200,C=16/116,M=.008856,S=7.787;e=.95047*(_**3>M?_**3:(_-C)/S),i=1*(y**3>M?y**3:(y-C)/S),s=1.08883*(k**3>M?k**3:(k-C)/S)}const a=3.2406*e+-1.5372*i+-.4986*s,r=-.9689*e+1.8758*i+.0415*s,o=.0557*e+-.204*i+1.057*s,l=Math.pow,d=.0031308,f=a>d?1.055*l(a,1/2.4)-.055:12.92*a,u=r>d?1.055*l(r,1/2.4)-.055:12.92*r,p=o>d?1.055*l(o,1/2.4)-.055:12.92*o;return new At(255*f,255*u,255*p)}if(this.space==="hsl"){let{h:e,s:i,l:s}=this;if(e/=360,i/=100,s/=100,i===0)return s*=255,new At(s,s,s);const a=s<.5?s*(1+i):s+i-s*i,r=2*s-a,o=255*la(r,a,e+1/3),l=255*la(r,a,e),d=255*la(r,a,e-1/3);return new At(o,l,d)}if(this.space==="cmyk"){const{c:e,m:i,y:s,k:a}=this,r=255*(1-Math.min(1,e*(1-a)+a)),o=255*(1-Math.min(1,i*(1-a)+a)),l=255*(1-Math.min(1,s*(1-a)+a));return new At(r,o,l)}return this;var t}toArray(){const{_a:t,_b:e,_c:i,_d:s,space:a}=this;return[t,e,i,s,a]}toHex(){const[t,e,i]=this._clamped().map(rh);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,a,r]=[t,e,i].map(y=>y/255),o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,d=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,f=(.4124*o+.3576*l+.1805*d)/.95047,u=(.2126*o+.7152*l+.0722*d)/1,p=(.0193*o+.1192*l+.9505*d)/1.08883,m=f>.008856?Math.pow(f,1/3):7.787*f+16/116,v=u>.008856?Math.pow(u,1/3):7.787*u+16/116,x=p>.008856?Math.pow(p,1/3):7.787*p+16/116;return new At(m,v,x,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:s,min:a,round:r}=Math;return[t,e,i].map(o=>s(0,a(r(o),255)))}}class kt{constructor(...t){this.init(...t)}clone(){return new kt(this)}init(t,e){const a=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=a.x==null?0:a.x,this.y=a.y==null?0:a.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){it.isMatrixLike(t)||(t=new it(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function ri(h,t,e){return Math.abs(t-h)<1e-6}class it{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,s=t.flip&&(e||t.flip==="y")?-1:1,a=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,r=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,l=t.scale&&t.scale.length?t.scale[1]*s:isFinite(t.scale)?t.scale*s:isFinite(t.scaleY)?t.scaleY*s:s,d=t.shear||0,f=t.rotate||t.theta||0,u=new kt(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),p=u.x,m=u.y,v=new kt(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),x=v.x,y=v.y,_=new kt(t.translate||t.tx||t.translateX,t.ty||t.translateY),k=_.x,C=_.y,M=new kt(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:l,skewX:a,skewY:r,shear:d,theta:f,rx:M.x,ry:M.y,tx:k,ty:C,ox:p,oy:m,px:x,py:y}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const s=t.a*e.a+t.c*e.b,a=t.b*e.a+t.d*e.b,r=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,l=t.e+t.a*e.e+t.c*e.f,d=t.f+t.b*e.e+t.d*e.f;return i.a=s,i.b=a,i.c=r,i.d=o,i.e=l,i.f=d,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const s=t||0,a=e||0;return this.translateO(-s,-a).lmultiplyO(i).translateO(s,a)}clone(){return new it(this)}decompose(t=0,e=0){const i=this.a,s=this.b,a=this.c,r=this.d,o=this.e,l=this.f,d=i*r-s*a,f=d>0?1:-1,u=f*Math.sqrt(i*i+s*s),p=Math.atan2(f*s,f*i),m=180/Math.PI*p,v=Math.cos(p),x=Math.sin(p),y=(i*a+s*r)/d,_=a*u/(y*i-s)||r*u/(y*s+i);return{scaleX:u,scaleY:_,shear:y,rotate:m,translateX:o-t+t*v*u+e*(y*v*u-x*_),translateY:l-e+t*x*u+e*(y*x*u+v*_),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new it(t);return ri(this.a,e.a)&&ri(this.b,e.b)&&ri(this.c,e.c)&&ri(this.d,e.d)&&ri(this.e,e.e)&&ri(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=it.fromArray([1,0,0,1,0,0]);return t=t instanceof Vt?t.matrixify():typeof t=="string"?it.fromArray(t.split(Le).map(parseFloat)):Array.isArray(t)?it.fromArray(t):typeof t=="object"&&it.isMatrixLike(t)?t:typeof t=="object"?new it().transform(t):arguments.length===6?it.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,s=this.d,a=this.e,r=this.f,o=t*s-e*i;if(!o)throw new Error("Cannot invert "+this);const l=s/o,d=-e/o,f=-i/o,u=t/o,p=-(l*a+f*r),m=-(d*a+u*r);return this.a=l,this.b=d,this.c=f,this.d=u,this.e=p,this.f=m,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof it?t:new it(t);return it.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof it?t:new it(t);return it.matrixMultiply(this,e,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=na(t);const s=Math.cos(t),a=Math.sin(t),{a:r,b:o,c:l,d,e:f,f:u}=this;return this.a=r*s-o*a,this.b=o*s+r*a,this.c=l*s-d*a,this.d=d*s+l*a,this.e=f*s-u*a+i*a-e*s+e,this.f=u*s+f*a-e*a-i*s+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,s=0){arguments.length===3&&(s=i,i=e,e=t);const{a,b:r,c:o,d:l,e:d,f}=this;return this.a=a*t,this.b=r*e,this.c=o*t,this.d=l*e,this.e=d*t-i*t+i,this.f=f*e-s*e+s,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:s,b:a,c:r,d:o,e:l,f:d}=this;return this.a=s+a*t,this.c=r+o*t,this.e=l+d*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,s=0){arguments.length===3&&(s=i,i=e,e=t),t=na(t),e=na(e);const a=Math.tan(t),r=Math.tan(e),{a:o,b:l,c:d,d:f,e:u,f:p}=this;return this.a=o+l*a,this.b=l+o*r,this.c=d+f*a,this.d=f+d*r,this.e=u+p*a-s*a,this.f=p+u*r-i*r,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(it.isMatrixLike(t))return new it(t).multiplyO(this);const e=it.formatTransforms(t),{x:i,y:s}=new kt(e.ox,e.oy).transform(this),a=new it().translateO(e.rx,e.ry).lmultiplyO(this).translateO(-i,-s).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i,s);if(isFinite(e.px)||isFinite(e.py)){const r=new kt(i,s).transform(a),o=isFinite(e.px)?e.px-r.x:0,l=isFinite(e.py)?e.py-r.y:0;a.translateO(o,l)}return a.translateO(e.tx,e.ty),a}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Me(){if(!Me.nodes){const h=qt().size(2,0);h.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),h.attr("focusable","false"),h.attr("aria-hidden","true");const t=h.path().node;Me.nodes={svg:h,path:t}}if(!Me.nodes.svg.node.parentNode){const h=yt.document.body||yt.document.documentElement;Me.nodes.svg.addTo(h)}return Me.nodes}function Vr(h){return!(h.width||h.height||h.x||h.y)}_t(it,"Matrix");class It{constructor(...t){this.init(...t)}addOffset(){return this.x+=yt.window.pageXOffset,this.y+=yt.window.pageYOffset,new It(this)}init(t){return t=typeof t=="string"?t.split(Le).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Vr(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width)-e,a=Math.max(this.y+this.height,t.y+t.height)-i;return new It(e,i,s,a)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof it||(t=new it(t));let e=1/0,i=-1/0,s=1/0,a=-1/0;return[new kt(this.x,this.y),new kt(this.x2,this.y),new kt(this.x,this.y2),new kt(this.x2,this.y2)].forEach(function(r){r=r.transform(t),e=Math.min(e,r.x),i=Math.max(i,r.x),s=Math.min(s,r.y),a=Math.max(a,r.y)}),new It(e,s,i-e,a-s)}}function vr(h,t,e){let i;try{if(i=t(h.node),Vr(i)&&(s=h.node)!==yt.document&&!(yt.document.documentElement.contains||function(a){for(;a.parentNode;)a=a.parentNode;return a===yt.document}).call(yt.document.documentElement,s))throw new Error("Element not in the dom")}catch{i=e(h)}var s;return i}ut({viewbox:{viewbox(h,t,e,i){return h==null?new It(this.attr("viewBox")):this.attr("viewBox",new It(h,t,e,i))},zoom(h,t){let{width:e,height:i}=this.attr(["width","height"]);if((e||i)&&typeof e!="string"&&typeof i!="string"||(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),a=e/s.width,r=i/s.height,o=Math.min(a,r);if(h==null)return o;let l=o/h;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new kt(e/2/a+s.x,i/2/r+s.y);const d=new It(s).transform(new it({scale:l,origin:t}));return this.viewbox(d)}}}),_t(It,"Box");class Ve extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}nt([Ve],{each(h,...t){return typeof h=="function"?this.map((e,i,s)=>h.call(e,e,i,s)):this.map(e=>e[h](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const oh=["toArray","constructor","each"];function qe(h,t){return new Ve(Ga((t||yt.document).querySelectorAll(h),function(e){return re(e)}))}Ve.extend=function(h){h=h.reduce((t,e)=>(oh.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),nt([Ve],h)};let lh=0;const Ur={};function qr(h){let t=h.getEventHolder();return t===yt.window&&(t=Ur),t.events||(t.events={}),t.events}function qa(h){return h.getEventTarget()}function Ae(h,t,e,i,s){const a=e.bind(i||h),r=qt(h),o=qr(r),l=qa(r);t=Array.isArray(t)?t:t.split(Le),e._svgjsListenerId||(e._svgjsListenerId=++lh),t.forEach(function(d){const f=d.split(".")[0],u=d.split(".")[1]||"*";o[f]=o[f]||{},o[f][u]=o[f][u]||{},o[f][u][e._svgjsListenerId]=a,l.addEventListener(f,a,s||!1)})}function oe(h,t,e,i){const s=qt(h),a=qr(s),r=qa(s);(typeof e!="function"||(e=e._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(Le)).forEach(function(o){const l=o&&o.split(".")[0],d=o&&o.split(".")[1];let f,u;if(e)a[l]&&a[l][d||"*"]&&(r.removeEventListener(l,a[l][d||"*"][e],i||!1),delete a[l][d||"*"][e]);else if(l&&d){if(a[l]&&a[l][d]){for(u in a[l][d])oe(r,[l,d].join("."),u);delete a[l][d]}}else if(d)for(o in a)for(f in a[o])d===f&&oe(r,[o,d].join("."));else if(l){if(a[l]){for(f in a[l])oe(r,[l,f].join("."));delete a[l]}}else{for(o in a)oe(r,o);(function(p){let m=p.getEventHolder();m===yt.window&&(m=Ur),m.events&&(m.events={})})(s)}})}class Wi extends ja{addEventListener(){}dispatch(t,e,i){return function(s,a,r,o){const l=qa(s);return a instanceof yt.window.Event||(a=new yt.window.CustomEvent(a,{detail:r,cancelable:!0,...o})),l.dispatchEvent(a),a}(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const s in i)for(const a in i[s])i[s][a](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return oe(this,t,e,i),this}on(t,e,i,s){return Ae(this,t,e,i,s),this}removeEventListener(){}}function br(){}_t(Wi,"EventTarget");const ha=400,hh=">",ch=0,dh={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Ue extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Le).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class ht{constructor(...t){this.init(...t)}convert(t){return new ht(this.value,t)}divide(t){return t=new ht(t),new ht(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(jr))&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5]):t instanceof ht&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new ht(t),new ht(this-t,this.unit||t.unit)}plus(t){return t=new ht(t),new ht(this+t,this.unit||t.unit)}times(t){return t=new ht(t),new ht(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const uh=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),$r=[];class Ie extends Wi{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=qt(t)).removeNamespace&&this.node instanceof yt.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return qt(t).put(this,e)}children(){return new Ve(Ga(this.node.children,function(t){return re(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=Zr(i)),new this.constructor(i)}each(t,e){const i=this.children();let s,a;for(s=0,a=i.length;s<a;s++)t.apply(i[s],[s,i]),e&&i[s].each(t,e);return this}element(t,e){return this.put(new Ie(Oi(t),e))}first(){return re(this.node.firstChild)}get(t){return re(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return t!==void 0||this.node.id||(this.node.id=Gr(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return re(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=re(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=re(e.node.parentNode));return e}put(t,e){return t=qt(t),this.add(t,e),t}putIn(t,e){return qt(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=qt(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,s=this.attr(e);for(const a in s)typeof s[a]=="number"&&(s[a]=Math.round(s[a]*i)/i);return this.attr(s),this}svg(t,e){return this.xml(t,e,Za)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e==null||e,this.writeDataToDom();let o=this;if(t!=null){if(o=re(o.node.cloneNode(!0)),e){const l=t(o);if(o=l||o,l===!1)return""}o.each(function(){const l=t(this),d=l||this;l===!1?this.remove():l&&this!==d&&this.replace(d)},!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e!=null&&e;const s=Oi("wrapper",i),a=yt.document.createDocumentFragment();s.innerHTML=t;for(let o=s.children.length;o--;)a.appendChild(s.firstElementChild);const r=this.parent();return e?this.replace(a)&&r:this.add(a)}}nt(Ie,{attr:function(h,t,e){if(h==null){h={},t=this.node.attributes;for(const i of t)h[i.nodeName]=xr.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return h}if(h instanceof Array)return h.reduce((i,s)=>(i[s]=this.attr(s),i),{});if(typeof h=="object"&&h.constructor===Object)for(t in h)this.attr(t,h[t]);else if(t===null)this.node.removeAttribute(h);else{if(t==null)return(t=this.node.getAttribute(h))==null?dh[h]:xr.test(t)?parseFloat(t):t;typeof(t=$r.reduce((i,s)=>s(h,i,this),t))=="number"?t=new ht(t):uh.has(h)&&At.isColor(t)?t=new At(t):t.constructor===Array&&(t=new Ue(t)),h==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,h,t.toString()):this.node.setAttribute(h,t.toString()),!this.rebuild||h!=="font-size"&&h!=="x"||this.rebuild()}return this},find:function(h){return qe(h,this.node)},findOne:function(h){return re(this.node.querySelector(h))}}),_t(Ie,"Dom");class Vt extends Ie{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new ht(t).plus(this.x()))}dy(t=0){return this.y(new ht(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=qt(t));const i=new Ve;let s=this;for(;(s=s.parent())&&s.node!==yt.document&&s.nodeName!=="#document-fragment"&&(i.push(s),e||s.node!==t.node)&&(!e||!s.matches(t));)if(s.node===this.root().node)return null;return i}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(ih);return e?qt(e[1]):null}root(){const t=this.parent(function(e){return Ze[e]}(Va));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=pi(this,t,e);return this.width(new ht(i.width)).height(new ht(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return Wr(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}nt(Vt,{bbox:function(){const h=vr(this,t=>t.getBBox(),t=>{try{const e=t.clone().addTo(Me().svg).show(),i=e.node.getBBox();return e.remove(),i}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}});return new It(h)},rbox:function(h){const t=vr(this,i=>i.getBoundingClientRect(),i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)}),e=new It(t);return h?e.transform(h.screenCTM().inverseO()):e.addOffset()},inside:function(h,t){const e=this.bbox();return h>e.x&&t>e.y&&h<e.x+e.width&&t<e.y+e.height},point:function(h,t){return new kt(h,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new it(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const h=this.rect(1,1),t=h.node.getScreenCTM();return h.remove(),new it(t)}return new it(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new it}}}),_t(Vt,"Element");const Ii={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,t){return t==="color"?h:h+"-"+t}};["fill","stroke"].forEach(function(h){const t={};let e;t[h]=function(i){if(i===void 0)return this.attr(h);if(typeof i=="string"||i instanceof At||At.isRgb(i)||i instanceof Vt)this.attr(h,i);else for(e=Ii[h].length-1;e>=0;e--)i[Ii[h][e]]!=null&&this.attr(Ii.prefix(h,Ii[h][e]),i[Ii[h][e]]);return this},ut(["Element","Runner"],t)}),ut(["Element","Runner"],{matrix:function(h,t,e,i,s,a){return h==null?new it(this):this.attr("transform",new it(h,t,e,i,s,a))},rotate:function(h,t,e){return this.transform({rotate:h,ox:t,oy:e},!0)},skew:function(h,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:h,ox:t,oy:e},!0):this.transform({skew:[h,t],ox:e,oy:i},!0)},shear:function(h,t,e){return this.transform({shear:h,ox:t,oy:e},!0)},scale:function(h,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:h,ox:t,oy:e},!0):this.transform({scale:[h,t],ox:e,oy:i},!0)},translate:function(h,t){return this.transform({translate:[h,t]},!0)},relative:function(h,t){return this.transform({relative:[h,t]},!0)},flip:function(h="both",t="center"){return"xybothtrue".indexOf(h)===-1&&(t=h,h="both"),this.transform({flip:h,origin:t},!0)},opacity:function(h){return this.attr("opacity",h)}}),ut("radius",{radius:function(h,t=h){return(this._element||this).type==="radialGradient"?this.attr("r",new ht(h)):this.rx(h).ry(t)}}),ut("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(h){return new kt(this.node.getPointAtLength(h))}}),ut(["Element","Runner"],{font:function(h,t){if(typeof h=="object"){for(t in h)this.font(t,h[t]);return this}return h==="leading"?this.leading(t):h==="anchor"?this.attr("text-anchor",t):h==="size"||h==="family"||h==="weight"||h==="stretch"||h==="variant"||h==="style"?this.attr("font-"+h,t):this.attr(h,t)}});ut("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(h,t){return h[t]=function(e){return e===null?this.off(t):this.on(t,e),this},h},{})),ut("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(sh).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(Le).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(it.fromArray(e[1])):t[e[0]].apply(t,e[1])},new it)},toParent:function(h,t){if(this===h)return this;if(Sa(this.node))return this.addTo(h,t);const e=this.screenCTM(),i=h.screenCTM().inverse();return this.addTo(h,t).untransform().transform(i.multiply(e)),this},toRoot:function(h){return this.toParent(this.root(),h)},transform:function(h,t){if(h==null||typeof h=="string"){const i=new it(this).decompose();return h==null?i:i[h]}it.isMatrixLike(h)||(h={...h,origin:La(h,this)});const e=new it(t===!0?this:t||!1).transform(h);return this.attr("transform",e)}});class $t extends Vt{flatten(){return this.each(function(){if(this instanceof $t)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,s){return s[s.length-i-1].toParent(t,e)}),this.remove()}}_t($t,"Container");class Ls extends $t{constructor(t,e=t){super(St("defs",t),e)}flatten(){return this}ungroup(){return this}}_t(Ls,"Defs");class ee extends Vt{}function $a(h){return this.attr("rx",h)}function Ka(h){return this.attr("ry",h)}function Kr(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())}function Jr(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())}function Qr(h){return this.attr("cx",h)}function to(h){return this.attr("cy",h)}function eo(h){return h==null?2*this.rx():this.rx(new ht(h).divide(2))}function io(h){return h==null?2*this.ry():this.ry(new ht(h).divide(2))}_t(ee,"Shape");var fh=Object.freeze({__proto__:null,cx:Qr,cy:to,height:io,rx:$a,ry:Ka,width:eo,x:Kr,y:Jr});class gs extends ee{constructor(t,e=t){super(St("ellipse",t),e)}size(t,e){const i=pi(this,t,e);return this.rx(new ht(i.width).divide(2)).ry(new ht(i.height).divide(2))}}nt(gs,fh),ut("Container",{ellipse:Lt(function(h=0,t=h){return this.put(new gs).size(h,t).move(0,0)})}),_t(gs,"Ellipse");class so extends Ie{constructor(t=yt.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const s=new Ie(Oi("wrapper",i));return s.add(this.node.cloneNode(!0)),s.xml(!1,i)}return super.xml(t,!1,i)}}function ao(h,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new ht(h),fy:new ht(t)}):this.attr({x1:new ht(h),y1:new ht(t)})}function no(h,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new ht(h),cy:new ht(t)}):this.attr({x2:new ht(h),y2:new ht(t)})}_t(so,"Fragment");var gh=Object.freeze({__proto__:null,from:ao,to:no});class Ei extends $t{constructor(t,e){super(St(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new It}targets(){return qe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}nt(Ei,gh),ut({Container:{gradient(...h){return this.defs().gradient(...h)}},Defs:{gradient:Lt(function(h,t){return this.put(new Ei(h)).update(t)})}}),_t(Ei,"Gradient");class Ri extends $t{constructor(t,e=t){super(St("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new It}targets(){return qe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}ut({Container:{pattern(...h){return this.defs().pattern(...h)}},Defs:{pattern:Lt(function(h,t,e){return this.put(new Ri).update(e).attr({x:0,y:0,width:h,height:t,patternUnits:"userSpaceOnUse"})})}}),_t(Ri,"Pattern");let ps=class extends ee{constructor(h,t=h){super(St("image",h),t)}load(h,t){if(!h)return this;const e=new yt.window.Image;return Ae(e,"load",function(i){const s=this.parent(Ri);this.width()===0&&this.height()===0&&this.size(e.width,e.height),s instanceof Ri&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof t=="function"&&t.call(this,i)},this),Ae(e,"load error",function(){oe(e)}),this.attr("href",e.src=h,mi)}};var yr;yr=function(h,t,e){return h!=="fill"&&h!=="stroke"||nh.test(t)&&(t=e.root().defs().image(t)),t instanceof ps&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t},$r.push(yr),ut({Container:{image:Lt(function(h,t){return this.put(new ps).size(0,0).load(h,t)})}}),_t(ps,"Image");class ze extends Ue{bbox(){let t=-1/0,e=-1/0,i=1/0,s=1/0;return this.forEach(function(a){t=Math.max(a[0],t),e=Math.max(a[1],e),i=Math.min(a[0],i),s=Math.min(a[1],s)}),new It(i,s,t-i,e-s)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+t,this[s][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Le).map(parseFloat)).length%2!=0&&t.pop();for(let i=0,s=t.length;i<s;i+=2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const s=this.bbox();for(i=this.length-1;i>=0;i--)s.width&&(this[i][0]=(this[i][0]-s.x)*t/s.width+s.x),s.height&&(this[i][1]=(this[i][1]-s.y)*e/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){it.isMatrixLike(t)||(t=new it(t));for(let e=this.length;e--;){const[i,s]=this[e];this[e][0]=t.a*i+t.c*s+t.e,this[e][1]=t.b*i+t.d*s+t.f}return this}}const ph=ze;var Ja=Object.freeze({__proto__:null,MorphArray:ph,height:function(h){const t=this.bbox();return h==null?t.height:this.size(t.width,h)},width:function(h){const t=this.bbox();return h==null?t.width:this.size(h,t.height)},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)}});let Ye=class extends ee{constructor(h,t=h){super(St("line",h),t)}array(){return new ze([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(h,t){return this.attr(this.array().move(h,t).toLine())}plot(h,t,e,i){return h==null?this.array():(h=t!==void 0?{x1:h,y1:t,x2:e,y2:i}:new ze(h).toLine(),this.attr(h))}size(h,t){const e=pi(this,h,t);return this.attr(this.array().size(e.width,e.height).toLine())}};nt(Ye,Ja),ut({Container:{line:Lt(function(...h){return Ye.prototype.plot.apply(this.put(new Ye),h[0]!=null?h:[0,0,0,0])})}}),_t(Ye,"Line");let ms=class extends $t{constructor(h,t=h){super(St("marker",h),t)}height(h){return this.attr("markerHeight",h)}orient(h){return this.attr("orient",h)}ref(h,t){return this.attr("refX",h).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(h){return this.clear(),typeof h=="function"&&h.call(this,this),this}width(h){return this.attr("markerWidth",h)}};function oi(h,t){return function(e){return e==null?this[h]:(this[h]=e,t&&t.call(this),this)}}ut({Container:{marker(...h){return this.defs().marker(...h)}},Defs:{marker:Lt(function(h,t,e){return this.put(new ms).size(h,t).ref(h/2,t/2).viewbox(0,0,h,t).attr("orient","auto").update(e)})},marker:{marker(h,t,e,i){let s=["marker"];return h!=="all"&&s.push(h),s=s.join("-"),h=arguments[1]instanceof ms?arguments[1]:this.defs().marker(t,e,i),this.attr(s,h)}}}),_t(ms,"Marker");const mh={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return 1-Math.cos(h*Math.PI/2)},bezier:function(h,t,e,i){return function(s){return s<0?h>0?t/h*s:e>0?i/e*s:0:s>1?e<1?(1-i)/(1-e)*s+(i-e)/(1-e):h<1?(1-t)/(1-h)*s+(t-h)/(1-h):1:3*s*(1-s)**2*t+3*s**2*(1-s)*i+s**3}},steps:function(h,t="end"){t=t.split("-").reverse()[0];let e=h;return t==="none"?--e:t==="both"&&++e,(i,s=!1)=>{let a=Math.floor(i*h);const r=i*a%1==0;return t!=="start"&&t!=="both"||++a,s&&r&&--a,i>=0&&a<0&&(a=0),i<=1&&a>e&&(a=e),a/e}}};class Qa{done(){return!1}}class Pa extends Qa{constructor(t=hh){super(),this.ease=mh[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class _s extends Qa{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,s){return this.stepper(t,e,i,s)}}function _r(){const h=(this._duration||500)/1e3,t=this._overshoot||0,e=Math.PI,i=Math.log(t/100+1e-10),s=-i/Math.sqrt(e*e+i*i),a=3.9/(s*h);this.d=2*s*a,this.k=a*a}nt(class extends _s{constructor(h=500,t=0){super(),this.duration(h).overshoot(t)}step(h,t,e,i){if(typeof h=="string")return h;if(i.done=e===1/0,e===1/0)return t;if(e===0)return h;e>100&&(e=16),e/=1e3;const s=i.velocity||0,a=-this.d*s-this.k*(h-t),r=h+s*e+a*e*e/2;return i.velocity=s+a*e,i.done=Math.abs(t-r)+Math.abs(s)<.002,i.done?t:r}},{duration:oi("_duration",_r),overshoot:oi("_overshoot",_r)});nt(class extends _s{constructor(h=.1,t=.01,e=0,i=1e3){super(),this.p(h).i(t).d(e).windup(i)}step(h,t,e,i){if(typeof h=="string")return h;if(i.done=e===1/0,e===1/0)return t;if(e===0)return h;const s=t-h;let a=(i.integral||0)+s*e;const r=(s-(i.error||0))/e,o=this._windup;return o!==!1&&(a=Math.max(-o,Math.min(a,o))),i.error=s,i.integral=a,i.done=Math.abs(s)<.001,i.done?t:h+(this.P*s+this.I*a+this.D*r)}},{windup:oi("_windup"),p:oi("P"),i:oi("I"),d:oi("D")});const xh={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Ma={M:function(h,t,e){return t.x=e.x=h[0],t.y=e.y=h[1],["M",t.x,t.y]},L:function(h,t){return t.x=h[0],t.y=h[1],["L",h[0],h[1]]},H:function(h,t){return t.x=h[0],["H",h[0]]},V:function(h,t){return t.y=h[0],["V",h[0]]},C:function(h,t){return t.x=h[4],t.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,t){return t.x=h[2],t.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,t){return t.x=h[2],t.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,t){return t.x=h[0],t.y=h[1],["T",h[0],h[1]]},Z:function(h,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(h,t){return t.x=h[5],t.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},ca="mlhvqtcsaz".split("");for(let h=0,t=ca.length;h<t;++h)Ma[ca[h]]=function(e){return function(i,s,a){if(e==="H")i[0]=i[0]+s.x;else if(e==="V")i[0]=i[0]+s.y;else if(e==="A")i[5]=i[5]+s.x,i[6]=i[6]+s.y;else for(let r=0,o=i.length;r<o;++r)i[r]=i[r]+(r%2?s.y:s.x);return Ma[e](i,s,a)}}(ca[h].toUpperCase());function Ta(h){return h.segment.length&&h.segment.length-1===xh[h.segment[0].toUpperCase()]}function vh(h,t){h.inNumber&&Fe(h,!1);const e=Ua.test(t);if(e)h.segment=[t];else{const i=h.lastCommand,s=i.toLowerCase(),a=i===s;h.segment=[s==="m"?a?"l":"L":i]}return h.inSegment=!0,h.lastCommand=h.segment[0],e}function Fe(h,t){if(!h.inNumber)throw new Error("Parser Error");h.number&&h.segment.push(parseFloat(h.number)),h.inNumber=t,h.number="",h.pointSeen=!1,h.hasExponent=!1,Ta(h)&&Ia(h)}function Ia(h){h.inSegment=!1,h.absolute&&(h.segment=function(t){const e=t.segment[0];return Ma[e](t.segment.slice(1),t.p,t.p0)}(h)),h.segments.push(h.segment)}function bh(h){if(!h.segment.length)return!1;const t=h.segment[0].toUpperCase()==="A",e=h.segment.length;return t&&(e===4||e===5)}function yh(h){return h.lastToken.toUpperCase()==="E"}const _h=new Set([" ",",","	",`
`,"\r","\f"]);class fe extends Ue{bbox(){return Me().path.setAttribute("d",this.toString()),new It(Me.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let s,a=this.length-1;a>=0;a--)s=this[a][0],s==="M"||s==="L"||s==="T"?(this[a][1]+=t,this[a][2]+=e):s==="H"?this[a][1]+=t:s==="V"?this[a][1]+=e:s==="C"||s==="S"||s==="Q"?(this[a][1]+=t,this[a][2]+=e,this[a][3]+=t,this[a][4]+=e,s==="C"&&(this[a][5]+=t,this[a][6]+=e)):s==="A"&&(this[a][6]+=t,this[a][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(e,i=!0){let s=0,a="";const r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new kt,p:new kt};for(;r.lastToken=a,a=e.charAt(s++);)if(r.inSegment||!vh(r,a))if(a!==".")if(isNaN(parseInt(a)))if(_h.has(a))r.inNumber&&Fe(r,!1);else if(a!=="-"&&a!=="+")if(a.toUpperCase()!=="E"){if(Ua.test(a)){if(r.inNumber)Fe(r,!1);else{if(!Ta(r))throw new Error("parser Error");Ia(r)}--s}}else r.number+=a,r.hasExponent=!0;else{if(r.inNumber&&!yh(r)){Fe(r,!1),--s;continue}r.number+=a,r.inNumber=!0}else{if(r.number==="0"||bh(r)){r.inNumber=!0,r.number=a,Fe(r,!0);continue}r.inNumber=!0,r.number+=a}else{if(r.pointSeen||r.hasExponent){Fe(r,!1),--s;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=a}return r.inNumber&&Fe(r,!1),r.inSegment&&Ta(r)&&Ia(r),r.segments}(t)}size(t,e){const i=this.bbox();let s,a;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,s=this.length-1;s>=0;s--)a=this[s][0],a==="M"||a==="L"||a==="T"?(this[s][1]=(this[s][1]-i.x)*t/i.width+i.x,this[s][2]=(this[s][2]-i.y)*e/i.height+i.y):a==="H"?this[s][1]=(this[s][1]-i.x)*t/i.width+i.x:a==="V"?this[s][1]=(this[s][1]-i.y)*e/i.height+i.y:a==="C"||a==="S"||a==="Q"?(this[s][1]=(this[s][1]-i.x)*t/i.width+i.x,this[s][2]=(this[s][2]-i.y)*e/i.height+i.y,this[s][3]=(this[s][3]-i.x)*t/i.width+i.x,this[s][4]=(this[s][4]-i.y)*e/i.height+i.y,a==="C"&&(this[s][5]=(this[s][5]-i.x)*t/i.width+i.x,this[s][6]=(this[s][6]-i.y)*e/i.height+i.y)):a==="A"&&(this[s][1]=this[s][1]*t/i.width,this[s][2]=this[s][2]*e/i.height,this[s][6]=(this[s][6]-i.x)*t/i.width+i.x,this[s][7]=(this[s][7]-i.y)*e/i.height+i.y);return this}toString(){return function(t){let e="";for(let i=0,s=t.length;i<s;i++)e+=t[i][0],t[i][1]!=null&&(e+=t[i][1],t[i][2]!=null&&(e+=" ",e+=t[i][2],t[i][3]!=null&&(e+=" ",e+=t[i][3],e+=" ",e+=t[i][4],t[i][5]!=null&&(e+=" ",e+=t[i][5],e+=" ",e+=t[i][6],t[i][7]!=null&&(e+=" ",e+=t[i][7])))));return e+" "}(this)}}const ro=h=>{const t=typeof h;return t==="number"?ht:t==="string"?At.isColor(h)?At:Le.test(h)?Ua.test(h)?fe:Ue:jr.test(h)?ht:za:Ea.indexOf(h.constructor)>-1?h.constructor:Array.isArray(h)?Ue:t==="object"?Bi:za};class Xe{constructor(t){this._stepper=t||new Pa("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(t,e){return t&&e},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(ro(t));let e=new this._type(t);return this._type===At&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===Bi&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class za{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Gi{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Gi.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Gi.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const wh=(h,t)=>h[0]<t[0]?-1:h[0]>t[0]?1:0;class Bi{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,s=e.length;i<s;++i){if(e[i+1]===t[i+1]){if(e[i+1]===At&&t[i+7]!==e[i+7]){const o=t[i+7],l=new At(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const a=new t[i+1]().toArray(),r=e[i+2]+3;e.splice(i,r,t[i],t[i+1],t[i+2],...a),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const i in t){const s=ro(t[i]),a=new s(t[i]).toArray();e.push([i,s,a.length,...a])}return e.sort(wh),this.values=e.reduce((i,s)=>i.concat(s),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),s=e.shift(),a=e.shift(),r=e.splice(0,a);t[i]=new s(r)}return t}}const Ea=[za,Gi,Bi];class li extends ee{constructor(t,e=t){super(St("path",t),e)}array(){return this._array||(this._array=new fe(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new fe(t))}size(t,e){const i=pi(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}li.prototype.MorphArray=fe,ut({Container:{path:Lt(function(h){return this.put(new li).plot(h||new fe)})}}),_t(li,"Path");var oo=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ze(this.attr("points")))},clear:function(){return delete this._array,this},move:function(h,t){return this.attr("points",this.array().move(h,t))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new ze(h))},size:function(h,t){const e=pi(this,h,t);return this.attr("points",this.array().size(e.width,e.height))}});class We extends ee{constructor(t,e=t){super(St("polygon",t),e)}}ut({Container:{polygon:Lt(function(h){return this.put(new We).plot(h||new ze)})}}),nt(We,Ja),nt(We,oo),_t(We,"Polygon");class Ge extends ee{constructor(t,e=t){super(St("polyline",t),e)}}ut({Container:{polyline:Lt(function(h){return this.put(new Ge).plot(h||new ze)})}}),nt(Ge,Ja),nt(Ge,oo),_t(Ge,"Polyline");class xs extends ee{constructor(t,e=t){super(St("rect",t),e)}}nt(xs,{rx:$a,ry:Ka}),ut({Container:{rect:Lt(function(h,t){return this.put(new xs).size(h,t)})}}),_t(xs,"Rect");class da{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=t.next!==void 0?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Ct={nextDraw:null,frames:new da,timeouts:new da,immediates:new da,timer:()=>yt.window.performance||yt.window.Date,transforms:[],frame(h){const t=Ct.frames.push({run:h});return Ct.nextDraw===null&&(Ct.nextDraw=yt.window.requestAnimationFrame(Ct._draw)),t},timeout(h,t){t=t||0;const e=Ct.timer().now()+t,i=Ct.timeouts.push({run:h,time:e});return Ct.nextDraw===null&&(Ct.nextDraw=yt.window.requestAnimationFrame(Ct._draw)),i},immediate(h){const t=Ct.immediates.push(h);return Ct.nextDraw===null&&(Ct.nextDraw=yt.window.requestAnimationFrame(Ct._draw)),t},cancelFrame(h){h!=null&&Ct.frames.remove(h)},clearTimeout(h){h!=null&&Ct.timeouts.remove(h)},cancelImmediate(h){h!=null&&Ct.immediates.remove(h)},_draw(h){let t=null;const e=Ct.timeouts.last();for(;(t=Ct.timeouts.shift())&&(h>=t.time?t.run():Ct.timeouts.push(t),t!==e););let i=null;const s=Ct.frames.last();for(;i!==s&&(i=Ct.frames.shift());)i.run(h);let a=null;for(;a=Ct.immediates.shift();)a();Ct.nextDraw=Ct.timeouts.first()||Ct.frames.first()?yt.window.requestAnimationFrame(Ct._draw):null}},kh=function(h){const t=h.start,e=h.runner.duration();return{start:t,duration:e,end:t+e,runner:h.runner}},Ch=function(){const h=yt.window;return(h.performance||h.Date).now()};class lo extends Wi{constructor(t=Ch){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(kh);let s=0;const a=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")s=a;else if(i==="absolute"||i==="start")s=e,e=0;else if(i==="now")s=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(t.id);l&&(s=l.start+e,e=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();s=l?l.start:this._time}}t.unschedule(),t.timeline(this);const r=t.persist(),o={persist:r===null?this._persist:r,start:s+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((l,d)=>l.start-d.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Ct.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Ct.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const s=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let r=this._runners.length;r--;){const o=this._runners[r],l=o.runner;this._time-o.start<=0&&l.reset()}let a=!1;for(let r=0,o=this._runners.length;r<o;r++){const l=this._runners[r],d=l.runner;let f=s;const u=this._time-l.start;if(u<=0){a=!0;continue}u<f&&(f=u),d.active()&&(d.step(f).done?l.persist!==!0&&d.duration()-d.time()+this._time+l.persist<this._time&&(d.unschedule(),--r,--o):a=!0)}return a&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ut({Element:{timeline:function(h){return h==null?(this._timeline=this._timeline||new lo,this._timeline):(this._timeline=h,this)}}});class te extends Wi{constructor(t){super(),this.id=te.id++,t=typeof(t=t??ha)=="function"?new _s(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof _s,this._stepper=this._isDeclarative?t:new Pa,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new it,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,i){let s=1,a=!1,r=0;return e=e??ch,i=i||"last",typeof(t=t??ha)!="object"||t instanceof Qa||(e=t.delay??e,i=t.when??i,a=t.swing||a,s=t.times??s,r=t.wait??r,t=t.duration??ha),{duration:t,delay:e,swing:a,times:s,wait:r,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const s=te.sanitise(t,e,i),a=new te(s.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new it,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Pa(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const a=Math.floor(this._time/e),r=(this._time-a*e)/this._duration;return Math.min(a+r,this._times)}const i=t%1,s=e*Math.floor(t)+this._duration*i;return this.time(s)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,s=this._wait,a=this._times,r=this._swing,o=this._reverse;let l;if(t==null){const u=function(m){const v=r*Math.floor(m%(2*(s+i))/(s+i)),x=v&&!o||!v&&o,y=Math.pow(-1,x)*(m%(s+i))/i+x;return Math.max(Math.min(y,1),0)},p=a*(s+i)-s;return l=e<=0?Math.round(u(1e-5)):e<p?u(e):Math.round(u(p-1e-5)),l}const d=Math.floor(this.loops()),f=r&&d%2==0;return l=d+(f&&!o||o&&f?t:1-t),this.loops(l)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,s){return this._queue.push({initialiser:t||br,runner:e||br,retarget:i,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof lo||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const s=this.duration(),a=this._lastTime<=0&&this._time>0,r=this._lastTime<s&&this._time>=s;this._lastTime=this._time,a&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!r&&this._time>=s,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new it,l=this._run(o?t:e),this.fire("step",this)),this.done=this.done||l&&o,r&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return t===void 0?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,i=this._queue.length;e<i;++e){const s=this._queue[e],a=this._isDeclarative||!s.initialised&&t;t=!s.finished,a&&t&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,s=this._queue.length;i<s;++i){const a=this._queue[i],r=a.runner.call(this,t);a.finished=a.finished||r===!0,e=e&&a.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const a=this._queue.indexOf(this._history[t].caller);return this._queue.splice(a,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}te.id=0;class ws{constructor(t=new it,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}nt([te,ws],{mergeWith(h){return new ws(h.transforms.lmultiply(this.transforms),h.id)}});const ho=(h,t)=>h.lmultiplyO(t),co=h=>h.transforms;function Ah(){const h=this._transformationRunners.runners.map(co).reduce(ho,new it);this.transform(h),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Lh{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new ws).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const s=i.mergeWith(t);this.edit(t.id,s),t=s,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}ut({Element:{animate(h,t,e){const i=te.sanitise(h,t,e),s=this.timeline();return new te(i.duration).loop(i).element(this).timeline(s.play()).schedule(i.delay,i.when)},delay(h,t){return this.animate(0,h,t)},_clearTransformRunnersBefore(h){this._transformationRunners.clearBefore(h.id)},_currentTransform(h){return this._transformationRunners.runners.filter(t=>t.id<=h.id).map(co).reduce(ho,new it)},_addRunner(h){this._transformationRunners.add(h),Ct.cancelImmediate(this._frameId),this._frameId=Ct.immediate(Ah.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Lh().add(new ws(new it(this))))}}});nt(te,{attr(h,t){return this.styleAttr("attr",h,t)},css(h,t){return this.styleAttr("css",h,t)},styleAttr(h,t,e){if(typeof t=="string")return this.styleAttr(h,{[t]:e});let i=t;if(this._tryRetarget(h,i))return this;let s=new Xe(this._stepper).to(i),a=Object.keys(i);return this.queue(function(){s=s.from(this.element()[h](a))},function(r){return this.element()[h](s.at(r).valueOf()),s.done()},function(r){const o=Object.keys(r),l=(d=a,o.filter(u=>!d.includes(u)));var d;if(l.length){const u=this.element()[h](l),p=new Bi(s.from()).valueOf();Object.assign(p,u),s.from(p)}const f=new Bi(s.to()).valueOf();Object.assign(f,r),s.to(f),a=o,i=r}),this._rememberMorpher(h,s),this},zoom(h,t){if(this._tryRetarget("zoom",h,t))return this;let e=new Xe(this._stepper).to(new ht(h));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,s){t=s,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(h,t,e){if(t=h.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",h))return this;const i=it.isMatrixLike(h);e=h.affine!=null?h.affine:e??!i;const s=new Xe(this._stepper).type(e?Gi:it);let a,r,o,l,d;return this.queue(function(){r=r||this.element(),a=a||La(h,r),d=new it(t?void 0:r),r._addRunner(this),t||r._clearTransformRunnersBefore(this)},function(f){t||this.clearTransform();const{x:u,y:p}=new kt(a).transform(r._currentTransform(this));let m=new it({...h,origin:[u,p]}),v=this._isDeclarative&&o?o:d;if(e){m=m.decompose(u,p),v=v.decompose(u,p);const y=m.rotate,_=v.rotate,k=[y-360,y,y+360],C=k.map(I=>Math.abs(I-_)),M=Math.min(...C),S=C.indexOf(M);m.rotate=k[S]}t&&(i||(m.rotate=h.rotate||0),this._isDeclarative&&l&&(v.rotate=l)),s.from(v),s.to(m);const x=s.at(f);return l=x.rotate,o=new it(x),this.addTransform(o),r._addRunner(this),s.done()},function(f){(f.origin||"center").toString()!==(h.origin||"center").toString()&&(a=La(f,r)),h={...f,origin:a}},!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(h){return this._queueNumber("x",h)},y(h){return this._queueNumber("y",h)},ax(h){return this._queueNumber("ax",h)},ay(h){return this._queueNumber("ay",h)},dx(h=0){return this._queueNumberDelta("x",h)},dy(h=0){return this._queueNumberDelta("y",h)},dmove(h,t){return this.dx(h).dy(t)},_queueNumberDelta(h,t){if(t=new ht(t),this._tryRetarget(h,t))return this;const e=new Xe(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[h](),e.from(i),e.to(i+t)},function(s){return this.element()[h](e.at(s)),e.done()},function(s){e.to(i+new ht(s))}),this._rememberMorpher(h,e),this},_queueObject(h,t){if(this._tryRetarget(h,t))return this;const e=new Xe(this._stepper).to(t);return this.queue(function(){e.from(this.element()[h]())},function(i){return this.element()[h](e.at(i)),e.done()}),this._rememberMorpher(h,e),this},_queueNumber(h,t){return this._queueObject(h,new ht(t))},cx(h){return this._queueNumber("cx",h)},cy(h){return this._queueNumber("cy",h)},move(h,t){return this.x(h).y(t)},amove(h,t){return this.ax(h).ay(t)},center(h,t){return this.cx(h).cy(t)},size(h,t){let e;return h&&t||(e=this._element.bbox()),h||(h=e.width/e.height*t),t||(t=e.height/e.width*h),this.width(h).height(t)},width(h){return this._queueNumber("width",h)},height(h){return this._queueNumber("height",h)},plot(h,t,e,i){if(arguments.length===4)return this.plot([h,t,e,i]);if(this._tryRetarget("plot",h))return this;const s=new Xe(this._stepper).type(this._element.MorphArray).to(h);return this.queue(function(){s.from(this._element.array())},function(a){return this._element.plot(s.at(a)),s.done()}),this._rememberMorpher("plot",s),this},leading(h){return this._queueNumber("leading",h)},viewbox(h,t,e,i){return this._queueObject("viewbox",new It(h,t,e,i))},update(h){return typeof h!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset),this)}}),nt(te,{rx:$a,ry:Ka,from:ao,to:no}),_t(te,"Runner");class Oa extends $t{constructor(t,e=t){super(St("svg",t),e),this.namespace()}defs(){return this.isRoot()?re(this.node.querySelector("defs"))||this.put(new Ls):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof yt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Za,version:"1.1"}).attr("xmlns:xlink",mi,ra):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,ra).attr("xmlns:svgjs",null,ra)}root(){return this.isRoot()?this:super.root()}}ut({Container:{nested:Lt(function(){return this.put(new Oa)})}}),_t(Oa,"Svg",!0);let Ra=class extends $t{constructor(h,t=h){super(St("symbol",h),t)}};ut({Container:{symbol:Lt(function(){return this.put(new Ra)})}}),_t(Ra,"Symbol");var uo=Object.freeze({__proto__:null,amove:function(h,t){return this.ax(h).ay(t)},ax:function(h){return this.attr("x",h)},ay:function(h){return this.attr("y",h)},build:function(h){return this._build=!!h,this},center:function(h,t,e=this.bbox()){return this.cx(h,e).cy(t,e)},cx:function(h,t=this.bbox()){return h==null?t.cx:this.attr("x",this.attr("x")+h-t.cx)},cy:function(h,t=this.bbox()){return h==null?t.cy:this.attr("y",this.attr("y")+h-t.cy)},length:function(){return this.node.getComputedTextLength()},move:function(h,t,e=this.bbox()){return this.x(h,e).y(t,e)},plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(yt.document.createTextNode(h)),this},x:function(h,t=this.bbox()){return h==null?t.x:this.attr("x",this.attr("x")+h-t.x)},y:function(h,t=this.bbox()){return h==null?t.y:this.attr("y",this.attr("y")+h-t.y)}});class ge extends ee{constructor(t,e=t){super(St("text",t),e),this.dom.leading=this.dom.leading??new ht(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new ht(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const s=this.dom.leading;this.each(function(a){if(Sa(this.node))return;const r=yt.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=s*new ht(r);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",a?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new ht(t.leading||1.3),this}writeDataToDom(){return Wr(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let s=0,a=e.length;s<a;++s)e[s].nodeName==="textPath"||Sa(e[s])?s===0&&(i=s+1):(s!==i&&e[s].nodeType!==3&&re(e[s]).dom.newLined===!0&&(t+=`
`),t+=e[s].textContent);return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else for(let e=0,i=(t=(t+"").split(`
`)).length;e<i;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}nt(ge,uo),ut({Container:{text:Lt(function(h=""){return this.put(new ge).text(h)}),plain:Lt(function(h=""){return this.put(new ge).plain(h)})}}),_t(ge,"Text");class vs extends ee{constructor(t,e=t){super(St("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof ge))return this;const e=t.index(this),i=yt.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=t.dom.leading*new ht(i);return this.dy(e?s:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}nt(vs,uo),ut({Tspan:{tspan:Lt(function(h=""){const t=new vs;return this._build||this.clear(),this.put(t).text(h)})},Text:{newLine:function(h=""){return this.tspan(h).newLine()}}}),_t(vs,"Tspan");class ua extends ee{constructor(t,e=t){super(St("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new ht(t).divide(2))}}nt(ua,{x:Kr,y:Jr,cx:Qr,cy:to,width:eo,height:io}),ut({Container:{circle:Lt(function(h=0){return this.put(new ua).size(h).move(0,0)})}}),_t(ua,"Circle");class fa extends $t{constructor(t,e=t){super(St("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return qe("svg [clip-path*="+this.id()+"]")}}ut({Container:{clip:Lt(function(){return this.defs().put(new fa)})},Element:{clipper(){return this.reference("clip-path")},clipWith(h){const t=h instanceof fa?h:this.parent().clip().add(h);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),_t(fa,"ClipPath");class wr extends Vt{constructor(t,e=t){super(St("foreignObject",t),e)}}ut({Container:{foreignObject:Lt(function(h,t){return this.put(new wr).size(h,t)})}}),_t(wr,"ForeignObject");var fo=Object.freeze({__proto__:null,dmove:function(h,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof Yi().SVGSVGElement?new It(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const s=new it(e),a=s.translate(h,t).transform(s.inverse()),r=new kt(i.x,i.y).transform(a);e.move(r.x,r.y)}),this},dx:function(h){return this.dmove(h,0)},dy:function(h){return this.dmove(0,h)},height:function(h,t=this.bbox()){return h==null?t.height:this.size(t.width,h,t)},move:function(h=0,t=0,e=this.bbox()){const i=h-e.x,s=t-e.y;return this.dmove(i,s)},size:function(h,t,e=this.bbox()){const i=pi(this,h,t,e),s=i.width/e.width,a=i.height/e.height;return this.children().forEach(r=>{const o=new kt(e).transform(new it(r).inverse());r.scale(s,a,o.x,o.y)}),this},width:function(h,t=this.bbox()){return h==null?t.width:this.size(h,t.height,t)},x:function(h,t=this.bbox()){return h==null?t.x:this.move(h,t.y,t)},y:function(h,t=this.bbox()){return h==null?t.y:this.move(t.x,h,t)}});class Te extends $t{constructor(t,e=t){super(St("g",t),e)}}nt(Te,fo),ut({Container:{group:Lt(function(){return this.put(new Te)})}}),_t(Te,"G");class us extends $t{constructor(t,e=t){super(St("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,mi)}}nt(us,fo),ut({Container:{link:Lt(function(h){return this.put(new us).to(h)})},Element:{unlink(){const h=this.linker();if(!h)return this;const t=h.parent();if(!t)return this.remove();const e=t.index(h);return t.add(this,e),h.remove(),this},linkTo(h){let t=this.linker();return t||(t=new us,this.wrap(t)),typeof h=="function"?h.call(t,t):t.to(h),this},linker(){const h=this.parent();return h&&h.node.nodeName.toLowerCase()==="a"?h:null}}}),_t(us,"A");class ga extends $t{constructor(t,e=t){super(St("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return qe("svg [mask*="+this.id()+"]")}}ut({Container:{mask:Lt(function(){return this.defs().put(new ga)})},Element:{masker(){return this.reference("mask")},maskWith(h){const t=h instanceof ga?h:this.parent().mask().add(h);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),_t(ga,"Mask");class kr extends Vt{constructor(t,e=t){super(St("stop",t),e)}update(t){return(typeof t=="number"||t instanceof ht)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new ht(t.offset)),this}}ut({Gradient:{stop:function(h,t,e){return this.put(new kr).update(h,t,e)}}}),_t(kr,"Stop");class pa extends Vt{constructor(t,e=t){super(St("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText(function(i,s){if(!i)return"";if(!s)return i;let a=i+"{";for(const r in s)a+=r.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+s[r]+";";return a+="}",a}(t,e))}}ut("Dom",{style(h,t){return this.put(new pa).rule(h,t)},fontface(h,t,e){return this.put(new pa).font(h,t,e)}}),_t(pa,"Style");class ma extends ge{constructor(t,e=t){super(St("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}ut({Container:{textPath:Lt(function(h,t){return h instanceof ge||(h=this.text(h)),h.path(t)})},Text:{path:Lt(function(h,t=!0){const e=new ma;let i;if(h instanceof li||(h=this.defs().path(h)),e.attr("href","#"+h,mi),t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:Lt(function(h){return h instanceof ge||(h=new ge().addTo(this.parent()).text(h)),h.path(this)}),targets(){return qe("svg textPath").filter(h=>(h.attr("href")||"").includes(this.id()))}}}),ma.prototype.MorphArray=fe,_t(ma,"TextPath");class Cr extends ee{constructor(t,e=t){super(St("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,mi)}}ut({Container:{use:Lt(function(h,t){return this.put(new Cr).use(h,t)})}}),_t(Cr,"Use");const Sh=qt;nt([Oa,Ra,ps,Ri,ms],Qt("viewbox")),nt([Ye,Ge,We,li],Qt("marker")),nt(ge,Qt("Text")),nt(li,Qt("Path")),nt(Ls,Qt("Defs")),nt([ge,vs],Qt("Tspan")),nt([xs,gs,Ei,te],Qt("radius")),nt(Wi,Qt("EventTarget")),nt(Ie,Qt("Dom")),nt(Vt,Qt("Element")),nt(ee,Qt("Shape")),nt([$t,so],Qt("Container")),nt(Ei,Qt("Gradient")),nt(te,Qt("Runner")),Ve.extend([...new Set(Nr)]),function(h=[]){Ea.push(...[].concat(h))}([ht,At,It,it,Ue,ze,fe,kt]),nt(Ea,{to(h){return new Xe().type(this.constructor).from(this.toArray()).to(h)},fromArray(h){return this.init(h),this},toConsumable(){return this.toArray()},morph(h,t,e,i,s){return this.fromArray(h.map(function(a,r){return i.step(a,t[r],e,s[r],s)}))}});class Mt extends Vt{constructor(t){super(St("filter",t),t),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(t,e){return!(t=super.put(t,e)).attr("in")&&this.$autoSetIn&&t.attr("in",this.$source),t.attr("result")||t.attr("result",t.id()),t}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return qe('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class tn extends Vt{constructor(t,e){super(t,e),this.result(this.id())}in(t){if(t==null){const e=this.attr("in");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in",t)}result(t){return this.attr("result",t)}toString(){return this.result()}}const ne=h=>function(...t){for(let e=h.length;e--;)t[e]!=null&&this.attr(h[e],t[e])},Ph={blend:ne(["in","in2","mode"]),colorMatrix:ne(["type","values"]),composite:ne(["in","in2","operator"]),convolveMatrix:function(h){h=new Ue(h).toString(),this.attr({order:Math.sqrt(h.split(" ").length),kernelMatrix:h})},diffuseLighting:ne(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ne(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ne(["in","dx","dy","stdDeviation"]),flood:ne(["flood-color","flood-opacity"]),gaussianBlur:function(h=0,t=h){this.attr("stdDeviation",h+" "+t)},image:function(h){this.attr("href",h,mi)},morphology:ne(["operator","radius"]),offset:ne(["dx","dy"]),specularLighting:ne(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ne([]),turbulence:ne(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(h=>{const t=gi(h),e=Ph[h];Mt[t+"Effect"]=class extends tn{constructor(i){super(St("fe"+t,i),i)}update(i){return e.apply(this,i),this}},Mt.prototype[h]=Lt(function(i,...s){const a=new Mt[t+"Effect"];return i==null?this.put(a):(typeof i=="function"?i.call(a,a):s.unshift(i),this.put(a).update(s))})}),nt(Mt,{merge(h){const t=this.put(new Mt.MergeEffect);return typeof h=="function"?(h.call(t,t),t):((h instanceof Array?h:[...arguments]).forEach(e=>{e instanceof Mt.MergeNode?t.put(e):t.mergeNode(e)}),t)},componentTransfer(h={}){const t=this.put(new Mt.ComponentTransferEffect);if(typeof h=="function")return h.call(t,t),t;h.r||h.g||h.b||h.a||(h={r:h,g:h,b:h,a:h});for(const e in h)t.add(new Mt["Func"+e.toUpperCase()](h[e]));return t}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(h=>{const t=gi(h);Mt[t]=class extends tn{constructor(e){super(St("fe"+t,e),e)}}});["funcR","funcG","funcB","funcA"].forEach(function(h){const t=Mt[gi(h)],e=Lt(function(){return this.put(new t)});Mt.ComponentTransferEffect.prototype[h]=e});["distantLight","pointLight","spotLight"].forEach(h=>{const t=Mt[gi(h)],e=Lt(function(){return this.put(new t)});Mt.DiffuseLightingEffect.prototype[h]=e,Mt.SpecularLightingEffect.prototype[h]=e}),nt(Mt.MergeEffect,{mergeNode(h){return this.put(new Mt.MergeNode).attr("in",h)}}),nt(Ls,{filter:function(h){const t=this.put(new Mt);return typeof h=="function"&&h.call(t,t),t}}),nt($t,{filter:function(h){return this.defs().filter(h)}}),nt(Vt,{filterWith:function(h){const t=h instanceof Mt?h:this.defs().filter(h);return this.attr("filter",t)},unfilter:function(h){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Mh={blend:function(h,t){return this.parent()&&this.parent().blend(this,h,t)},colorMatrix:function(h,t){return this.parent()&&this.parent().colorMatrix(h,t).in(this)},componentTransfer:function(h){return this.parent()&&this.parent().componentTransfer(h).in(this)},composite:function(h,t){return this.parent()&&this.parent().composite(this,h,t)},convolveMatrix:function(h){return this.parent()&&this.parent().convolveMatrix(h).in(this)},diffuseLighting:function(h,t,e,i){return this.parent()&&this.parent().diffuseLighting(h,e,i).in(this)},displacementMap:function(h,t,e,i){return this.parent()&&this.parent().displacementMap(this,h,t,e,i)},dropShadow:function(h,t,e){return this.parent()&&this.parent().dropShadow(this,h,t,e).in(this)},flood:function(h,t){return this.parent()&&this.parent().flood(h,t)},gaussianBlur:function(h,t){return this.parent()&&this.parent().gaussianBlur(h,t).in(this)},image:function(h){return this.parent()&&this.parent().image(h)},merge:function(h){return h=h instanceof Array?h:[...h],this.parent()&&this.parent().merge(this,...h)},morphology:function(h,t){return this.parent()&&this.parent().morphology(h,t).in(this)},offset:function(h,t){return this.parent()&&this.parent().offset(h,t).in(this)},specularLighting:function(h,t,e,i,s){return this.parent()&&this.parent().specularLighting(h,e,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(h,t,e,i,s){return this.parent()&&this.parent().turbulence(h,t,e,i,s).in(this)}};nt(tn,Mh),nt(Mt.MergeEffect,{in:function(h){return h instanceof Mt.MergeNode?this.add(h,0):this.add(new Mt.MergeNode().in(h),0),this}}),nt([Mt.CompositeEffect,Mt.BlendEffect,Mt.DisplacementMapEffect],{in2:function(h){if(h==null){const t=this.attr("in2");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in2",h)}}),Mt.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var jt=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),new Mt().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"applyFilter",value:function(t,e,i){var s,a=this,r=this.w;if(t.unfilter(!0),i!=="none"){var o,l,d=r.config.chart.dropShadow,f=i==="lighten"?2:.3;t.filterWith(function(u){u.colorMatrix({type:"matrix",values:`
          `.concat(f,` 0 0 0 0
          0 `).concat(f,` 0 0 0
          0 0 `).concat(f,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&a.addShadow(u,e,d,"brightness")}),!d.noUserSpaceOnUse&&((o=t.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((s=t.filterer())===null||s===void 0?void 0:s.node)}else this.getDefaultFilter(t,e)}},{key:"addShadow",value:function(t,e,i,s){var a,r=this.w,o=i.blur,l=i.top,d=i.left,f=i.color,u=i.opacity;if(f=Array.isArray(f)?f[e]:f,((a=r.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.length)>0&&r.config.chart.dropShadow.enabledOnSeries.indexOf(e)===-1)return t;t.offset({in:s,dx:d,dy:l,result:"offset"}),t.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),t.flood({"flood-color":f,"flood-opacity":u,result:"flood"}),t.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),t.merge(["shadow",s])}},{key:"dropShadow",value:function(t,e){var i,s,a,r,o,l=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=this.w;return t.unfilter(!0),O.isMsEdge()&&f.config.chart.type==="radialBar"||((i=f.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((a=f.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.indexOf(d))===-1?t:(t.filterWith(function(u){l.addShadow(u,d,e,"SourceGraphic")}),e.noUserSpaceOnUse||(r=t.filterer())===null||r===void 0||(o=r.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((s=t.filterer())===null||s===void 0?void 0:s.node),t)}},{key:"setSelectionFilter",value:function(t,e,i){var s=this.w;if(s.globals.selectedDataPoints[e]!==void 0&&s.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=s.config.states.active.filter;a!=="none"&&this.applyFilter(t,e,a.type)}}},{key:"_scaleFilterSize",value:function(t){t&&function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),h}(),Y=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"roundPathCorners",value:function(t,e){function i(T,E,R){var B=E.x-T.x,H=E.y-T.y,X=Math.sqrt(B*B+H*H);return s(T,E,Math.min(1,R/X))}function s(T,E,R){return{x:T.x+(E.x-T.x)*R,y:T.y+(E.y-T.y)*R}}function a(T,E){T.length>2&&(T[T.length-2]=E.x,T[T.length-1]=E.y)}function r(T){return{x:parseFloat(T[T.length-2]),y:parseFloat(T[T.length-1])}}t.indexOf("NaN")>-1&&(t="");var o=t.split(/[,\s]/).reduce(function(T,E){var R=E.match("([a-zA-Z])(.+)");return R?(T.push(R[1]),T.push(R[2])):T.push(E),T},[]).reduce(function(T,E){return parseFloat(E)==E&&T.length?T[T.length-1].push(E):T.push([E]),T},[]),l=[];if(o.length>1){var d=r(o[0]),f=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(f=["L",d.x,d.y],o[o.length-1]=f),l.push(o[0]);for(var u=1;u<o.length;u++){var p=l[l.length-1],m=o[u],v=m==f?o[1]:o[u+1];if(v&&p&&p.length>2&&m[0]=="L"&&v.length>2&&v[0]=="L"){var x,y,_=r(p),k=r(m),C=r(v);x=i(k,_,e),y=i(k,C,e),a(m,x),m.origPoint=k,l.push(m);var M=s(x,k,.5),S=s(k,y,.5),I=["C",M.x,M.y,S.x,S.y,y.x,y.y];I.origPoint=k,l.push(I)}else l.push(m)}if(f){var P=r(l[l.length-1]);l.push(["Z"]),a(l[0],P)}}else l=o;return l.reduce(function(T,E){return T+E.join(" ")+" "},"")}},{key:"drawLine",value:function(t,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:s,stroke:a,"stroke-dasharray":r,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,u=this.w.globals.dom.Paper.rect();return u.attr({x:t,y:e,width:i>0?i:0,height:s>0?s:0,rx:a,ry:a,opacity:o,"stroke-width":l!==null?l:0,stroke:d!==null?d:"none","stroke-dasharray":f}),u.node.setAttribute("fill",r),u}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:s,stroke:e,"stroke-width":i})}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t<0&&(t=0);var i=this.w.globals.dom.Paper.circle(2*t);return e!==null&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,i=e===void 0?"":e,s=t.stroke,a=s===void 0?"#a8a8a8":s,r=t.strokeWidth,o=r===void 0?1:r,l=t.fill,d=t.fillOpacity,f=d===void 0?1:d,u=t.strokeOpacity,p=u===void 0?1:u,m=t.classes,v=t.strokeLinecap,x=v===void 0?null:v,y=t.strokeDashArray,_=y===void 0?0:y,k=this.w;return x===null&&(x=k.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(k.globals.gridHeight)),k.globals.dom.Paper.path(i).attr({fill:l,"fill-opacity":f,stroke:a,"stroke-opacity":p,"stroke-linecap":x,"stroke-width":o,"stroke-dasharray":_,class:m})}},{key:"group",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=this.w.globals.dom.Paper.group();return t!==null&&e.attr(t),e}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=null;return i===null?s=[" L",t,e].join(" "):i==="H"?s=[" H",t].join(" "):i==="V"&&(s=[" V",e].join(" ")),s}},{key:"curve",value:function(t,e,i,s,a,r){var o=["C",t,e,i,s,a,r].join(" ");return o}},{key:"quadraticCurve",value:function(t,e,i,s){return["Q",t,e,i,s].join(" ")}},{key:"arc",value:function(t,e,i,s,a,r,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var d=[l,t,e,i,s,a,r,o].join(" ");return d}},{key:"renderPaths",value:function(t){var e,i=t.j,s=t.realIndex,a=t.pathFrom,r=t.pathTo,o=t.stroke,l=t.strokeWidth,d=t.strokeLinecap,f=t.fill,u=t.animationDelay,p=t.initialSpeed,m=t.dataChangeSpeed,v=t.className,x=t.chartType,y=t.shouldClipToGrid,_=y===void 0||y,k=t.bindEventsOnPaths,C=k===void 0||k,M=t.drawShadow,S=M===void 0||M,I=this.w,P=new jt(this.ctx),T=new fi(this.ctx),E=this.w.config.chart.animations.enabled,R=E&&this.w.config.chart.animations.dynamicAnimation.enabled,B=!!(E&&!I.globals.resized||R&&I.globals.dataChanged&&I.globals.shouldAnimate);B?e=a:(e=r,I.globals.animationEnded=!0);var H=I.config.stroke.dashArray,X=0;X=Array.isArray(H)?H[s]:I.config.stroke.dashArray;var N=this.drawPath({d:e,stroke:o,strokeWidth:l,fill:f,fillOpacity:1,classes:v,strokeLinecap:d,strokeDashArray:X});N.attr("index",s),_&&(x==="bar"&&!I.globals.isHorizontal||I.globals.comboCharts?N.attr({"clip-path":"url(#gridRectBarMask".concat(I.globals.cuid,")")}):N.attr({"clip-path":"url(#gridRectMask".concat(I.globals.cuid,")")})),I.config.chart.dropShadow.enabled&&S&&P.dropShadow(N,I.config.chart.dropShadow,s),C&&(N.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,N)),N.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,N)),N.node.addEventListener("mousedown",this.pathMouseDown.bind(this,N))),N.attr({pathTo:r,pathFrom:a});var q={el:N,j:i,realIndex:s,pathFrom:a,pathTo:r,fill:f,strokeWidth:l,delay:u};return!E||I.globals.resized||I.globals.dataChanged?!I.globals.resized&&I.globals.dataChanged||T.showDelayedElements():T.animatePathsGradually(U(U({},q),{},{speed:p})),I.globals.dataChanged&&R&&B&&T.animatePathsGradually(U(U({},q),{},{speed:m})),N}},{key:"drawPattern",value:function(t,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(e,i,function(r){t==="horizontalLines"?r.line(0,0,i,0).stroke({color:s,width:a+1}):t==="verticalLines"?r.line(0,0,0,e).stroke({color:s,width:a+1}):t==="slantedLines"?r.line(0,0,e,i).stroke({color:s,width:a}):t==="squares"?r.rect(e,i).fill("none").stroke({color:s,width:a}):t==="circles"&&r.circle(e).fill("none").stroke({color:s,width:a})})}},{key:"drawGradient",value:function(t,e,i,s,a){var r,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,u=this.w;e.length<9&&e.indexOf("#")===0&&(e=O.hexToRgba(e,s)),i.length<9&&i.indexOf("#")===0&&(i=O.hexToRgba(i,a));var p=0,m=1,v=1,x=null;l!==null&&(p=l[0]!==void 0?l[0]/100:0,m=l[1]!==void 0?l[1]/100:1,v=l[2]!==void 0?l[2]/100:1,x=l[3]!==void 0?l[3]/100:null);var y=!(u.config.chart.type!=="donut"&&u.config.chart.type!=="pie"&&u.config.chart.type!=="polarArea"&&u.config.chart.type!=="bubble");if(r=d&&d.length!==0?u.globals.dom.Paper.gradient(y?"radial":"linear",function(C){(Array.isArray(d[f])?d[f]:d).forEach(function(M){C.stop(M.offset/100,M.color,M.opacity)})}):u.globals.dom.Paper.gradient(y?"radial":"linear",function(C){C.stop(p,e,s),C.stop(m,i,a),C.stop(v,i,a),x!==null&&C.stop(x,e,s)}),y){var _=u.globals.gridWidth/2,k=u.globals.gridHeight/2;u.config.chart.type!=="bubble"?r.attr({gradientUnits:"userSpaceOnUse",cx:_,cy:k,r:o}):r.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else t==="vertical"?r.from(0,0).to(0,1):t==="diagonal"?r.from(0,0).to(1,1):t==="horizontal"?r.from(0,1).to(1,1):t==="diagonal2"&&r.from(1,0).to(0,1);return r}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,s=t.fontSize,a=t.fontFamily,r=this.getTextRects(e,s,a),o=r.width/e.length,l=Math.floor(i/o);return i<r.width?e.slice(0,l-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,s=t.y,a=t.text,r=t.textAnchor,o=t.fontSize,l=t.fontFamily,d=t.fontWeight,f=t.foreColor,u=t.opacity,p=t.maxWidth,m=t.cssClass,v=m===void 0?"":m,x=t.isPlainText,y=x===void 0||x,_=t.dominantBaseline,k=_===void 0?"auto":_,C=this.w;a===void 0&&(a="");var M=a;r||(r="start"),f&&f.length||(f=C.config.chart.foreColor),l=l||C.config.chart.fontFamily,d=d||"regular";var S,I={maxWidth:p,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(a)?S=C.globals.dom.Paper.text(function(P){for(var T=0;T<a.length;T++)M=a[T],p&&(M=e.getTextBasedOnMaxWidth(U({text:a[T]},I))),T===0?P.tspan(M):P.tspan(M).newLine()}):(p&&(M=this.getTextBasedOnMaxWidth(U({text:a},I))),S=y?C.globals.dom.Paper.plain(a):C.globals.dom.Paper.text(function(P){return P.tspan(M)})),S.attr({x:i,y:s,"text-anchor":r,"dominant-baseline":k,"font-size":o,"font-family":l,"font-weight":d,fill:f,class:"apexcharts-text "+v}),S.node.style.fontFamily=l,S.node.style.opacity=u,S}},{key:"getMarkerPath",value:function(t,e,i,s){var a="";switch(i){case"cross":a="M ".concat(t-(s/=1.4)," ").concat(e-s," L ").concat(t+s," ").concat(e+s,"  M ").concat(t-s," ").concat(e+s," L ").concat(t+s," ").concat(e-s);break;case"plus":a="M ".concat(t-(s/=1.12)," ").concat(e," L ").concat(t+s," ").concat(e,"  M ").concat(t," ").concat(e-s," L ").concat(t," ").concat(e+s);break;case"star":case"sparkle":var r=5;s*=1.15,i==="sparkle"&&(s/=1.1,r=4);for(var o=Math.PI/r,l=0;l<=2*r;l++){var d=l*o,f=l%2==0?s:s/2;a+=(l===0?"M":"L")+(t+f*Math.sin(d))+","+(e-f*Math.cos(d))}a+="Z";break;case"triangle":a="M ".concat(t," ").concat(e-s,` 
             L `).concat(t+s," ").concat(e+s,` 
             L `).concat(t-s," ").concat(e+s,` 
             Z`);break;case"square":case"rect":a="M ".concat(t-(s/=1.125)," ").concat(e-s,` 
           L `).concat(t+s," ").concat(e-s,` 
           L `).concat(t+s," ").concat(e+s,` 
           L `).concat(t-s," ").concat(e+s,` 
           Z`);break;case"diamond":s*=1.05,a="M ".concat(t," ").concat(e-s,` 
             L `).concat(t+s," ").concat(e,` 
             L `).concat(t," ").concat(e+s,` 
             L `).concat(t-s," ").concat(e,` 
            Z`);break;case"line":a="M ".concat(t-(s/=1.1)," ").concat(e,` 
           L `).concat(t+s," ").concat(e);break;default:s*=2,a="M ".concat(t,", ").concat(e,` 
           m -`).concat(s/2,`, 0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 ").concat(s,`,0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 -").concat(s,",0")}return a}},{key:"drawMarkerShape",value:function(t,e,i,s,a){var r=this.drawPath({d:this.getMarkerPath(t,e,i,s,a),stroke:a.pointStrokeColor,strokeDashArray:a.pointStrokeDashArray,strokeWidth:a.pointStrokeWidth,fill:a.pointFillColor,fillOpacity:a.pointFillOpacity,strokeOpacity:a.pointStrokeOpacity});return r.attr({cx:t,cy:e,shape:a.shape,class:a.class?a.class:""}),r}},{key:"drawMarker",value:function(t,e,i){t=t||0;var s=i.pSize||0;return O.isNumber(e)||(s=0,e=0),this.drawMarkerShape(t,e,i?.shape,s,U(U({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,s=new jt(this.ctx),a=parseInt(t.node.getAttribute("index"),10),r=parseInt(t.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}]),(i.config.states.active.filter.type==="none"||t.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;s.applyFilter(t,a,o.type)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,s=new jt(this.ctx),a=parseInt(t.node.getAttribute("index"),10),r=parseInt(t.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:r,w:i}]),i.config.states.active.filter.type!=="none"&&t.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&s.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,s=new jt(this.ctx),a=parseInt(t.node.getAttribute("index"),10),r=parseInt(t.node.getAttribute("j"),10),o="false";if(t.node.getAttribute("selected")==="true"){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(r)>-1){var l=i.globals.selectedDataPoints[a].indexOf(r);i.globals.selectedDataPoints[a].splice(l,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var d=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),f=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),u=function(v){Array.prototype.forEach.call(v,function(x){x.node.setAttribute("selected","false"),s.getDefaultFilter(x,a)})};u(d),u(f)}t.node.setAttribute("selected","true"),o="true",i.globals.selectedDataPoints[a]===void 0&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(r)}if(o==="true"){var p=i.config.states.active.filter;if(p!=="none")s.applyFilter(t,a,p.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var m=i.config.states.hover.filter;s.applyFilter(t,a,m.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?s.getDefaultFilter(t,a):(m=i.config.states.hover.filter,s.applyFilter(t,a,m.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:r,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&typeof t.getBBox=="function"&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,s){var a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],r=this.w,o=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});s&&o.attr("transform",s),r.globals.dom.Paper.add(o);var l=o.bbox();return a||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if(typeof t.getComputedTextLength=="function"&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var s=e.length-3;s>0;s-=3)if(t.getSubStringLength(0,s)<=i/1.1)return void(t.textContent=e.substring(0,s)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),h}(),zt=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.w,i=[];if(e.globals.series.length===0)return i;for(var s=0;s<e.globals.series[e.globals.maxValsInArrayIndex].length;s++){for(var a=0,r=0;r<e.globals.series.length;r++)e.globals.series[r][s]!==void 0&&t.indexOf(r)===-1&&(a+=e.globals.series[r][s]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t===null?this.w.config.series.reduce(function(e,i){return e+i},0):this.w.globals.series[t].reduce(function(e,i){return e+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var t=this,e=this.w,i=[];return e.globals.seriesGroups.forEach(function(s){var a=[];e.config.series.forEach(function(o,l){s.indexOf(e.globals.seriesNames[l])>-1&&a.push(l)});var r=e.globals.series.map(function(o,l){return a.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});i.push(t.getStackedSeriesTotals(r))}),i}},{key:"setSeriesYAxisMappings",value:function(){var t=this.w.globals,e=this.w.config,i=[],s=[],a=[],r=t.series.length>e.yaxis.length||e.yaxis.some(function(u){return Array.isArray(u.seriesName)});e.series.forEach(function(u,p){a.push(p),s.push(null)}),e.yaxis.forEach(function(u,p){i[p]=[]});var o=[];e.yaxis.forEach(function(u,p){var m=!1;if(u.seriesName){var v=[];Array.isArray(u.seriesName)?v=u.seriesName:v.push(u.seriesName),v.forEach(function(x){e.series.forEach(function(y,_){if(y.name===x){var k=_;p===_||r?!r||a.indexOf(_)>-1?i[p].push([p,_]):console.warn("Series '"+y.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[_].push([_,p]),k=p),m=!0,(k=a.indexOf(k))!==-1&&a.splice(k,1)}})})}m||o.push(p)}),i=i.map(function(u,p){var m=[];return u.forEach(function(v){s[v[1]]=v[0],m.push(v[1])}),m});for(var l=e.yaxis.length-1,d=0;d<o.length&&(l=o[d],i[l]=[],a);d++){var f=a[0];a.shift(),i[l].push(f),s[f]=l}a.forEach(function(u){i[l].push(u),s[u]=l}),t.seriesYAxisMap=i.map(function(u){return u}),t.seriesYAxisReverseMap=s.map(function(u){return u}),t.seriesYAxisMap.forEach(function(u,p){u.forEach(function(m){e.series[m]&&e.series[m].group===void 0&&(e.series[m].group="apexcharts-axis-".concat(p.toString()))})})}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(t===null?this.w.config.series.filter(function(e){return e!==null}):this.w.config.series[t].data.filter(function(e){return e!==null})).length===0}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(e,i,s){return e===s[0]})}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map(function(s,a){return e.config.xaxis.labels.formatter(s-e.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach(function(i){e=Math.max(e,i)}),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach(function(i){e=Math.max(e,i.size)}),e>0&&(t.config.markers.hover.size>0?e=t.config.markers.hover.size:e+=t.config.markers.hover.sizeOffset),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(e,i){var s=0;if(Array.isArray(e))for(var a=0;a<e.length;a++)s+=e[a];else s+=e;return s})}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map(function(s,a){for(var r=0,o=0;o<s.length;o++)i.globals.seriesX[a][o]>t&&i.globals.seriesX[a][o]<e&&(r+=s[o]);return r})}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map(function(e,i){var s=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var r=t.globals.stackedSeriesTotals[a],o=0;r&&(o=100*e[a]/r),s.push(o)}else{var l=100*e/t.globals.seriesTotals.reduce(function(d,f){return d+f},0);s.push(l)}return s})}},{key:"getCalculatedRatios",value:function(){var t,e,i,s=this,a=this.w,r=a.globals,o=[],l=0,d=[],f=.1,u=0;if(r.yRange=[],r.isMultipleYAxis)for(var p=0;p<r.minYArr.length;p++)r.yRange.push(Math.abs(r.minYArr[p]-r.maxYArr[p])),d.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var m=0;m<r.yRange.length;m++)o.push(r.yRange[m]/r.gridHeight);if(e=r.xRange/r.gridWidth,t=r.yRange/r.gridWidth,i=r.xRange/r.gridHeight,(l=r.zRange/r.gridHeight*16)||(l=1),r.minY!==Number.MIN_VALUE&&Math.abs(r.minY)!==0&&(r.hasNegs=!0),a.globals.seriesYAxisReverseMap.length>0){var v=function(y,_){var k=a.config.yaxis[a.globals.seriesYAxisReverseMap[_]],C=y<0?-1:1;return y=Math.abs(y),k.logarithmic&&(y=s.getBaseLog(k.logBase,y)),-C*y/o[_]};if(r.isMultipleYAxis){d=[];for(var x=0;x<o.length;x++)d.push(v(r.minYArr[x],x))}else(d=[]).push(v(r.minY,0)),r.minY!==Number.MIN_VALUE&&Math.abs(r.minY)!==0&&(f=-r.minY/t,u=r.minX/e)}else(d=[]).push(0),f=0,u=0;return{yRatio:o,invertedYRatio:t,zRatio:l,xRatio:e,invertedXRatio:i,baseLineInvertedY:f,baseLineY:d,baseLineX:u}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map(function(s,a){var r=i.globals.seriesYAxisReverseMap[a];return i.config.yaxis[r]&&i.config.yaxis[r].logarithmic?s.map(function(o){return o===null?null:e.getLogVal(i.config.yaxis[r].logBase,o,a)}):s}),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(t,e){if(t===null)return null;var i=this.w,s=i.globals.seriesYAxisReverseMap[e];return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?this.getLogVal(i.config.yaxis[s].logBase,t,e):t}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(e<=0)return 0;var s=this.w,a=s.globals.minYArr[i]===0?-1:this.getBaseLog(t,s.globals.minYArr[i]),r=(s.globals.maxYArr[i]===0?0:this.getBaseLog(t,s.globals.maxYArr[i]))-a;return e<1?e/r:(this.getBaseLog(t,e)-a)/r}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map(function(a,r){var o=i.globals.seriesYAxisReverseMap[r];if(i.config.yaxis[o]&&e.w.config.yaxis[o].logarithmic){var l,d=-Number.MAX_VALUE,f=Number.MIN_VALUE;return s.seriesLog.forEach(function(u,p){u.forEach(function(m){i.config.yaxis[p]&&i.config.yaxis[p].logarithmic&&(d=Math.max(m,d),f=Math.min(m,f))})}),l=Math.pow(s.yRange[r],Math.abs(f-d)/s.yRange[r]),s.yLogRatio[r]=l/s.gridHeight,l}}),s.invalidLogScale?t.slice():s.yLogRatio}},{key:"drawSeriesByGroup",value:function(t,e,i,s){var a=this.w,r=[];return t.series.length>0&&e.forEach(function(o){var l=[],d=[];t.i.forEach(function(f,u){a.config.series[f].group===o&&(l.push(t.series[u]),d.push(f))}),l.length>0&&r.push(s.draw(l,i,d))}),r}}],[{key:"checkComboSeries",value:function(t,e){var i=!1,s=0,a=0;return e===void 0&&(e="line"),t.length&&t[0].type!==void 0&&t.forEach(function(r){r.type!=="bar"&&r.type!=="column"&&r.type!=="candlestick"&&r.type!=="boxPlot"||s++,r.type!==void 0&&r.type!==e&&a++}),a>0&&(i=!0),{comboBarCount:s,comboCharts:i}}},{key:"extendArrayProps",value:function(t,e,i){var s,a,r,o,l,d;return(s=e)!==null&&s!==void 0&&s.yaxis&&(e=t.extendYAxis(e,i)),(a=e)!==null&&a!==void 0&&a.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),(r=e)!==null&&r!==void 0&&(o=r.annotations)!==null&&o!==void 0&&o.xaxis&&(e=t.extendXAxisAnnotations(e)),(l=e)!==null&&l!==void 0&&(d=l.annotations)!==null&&d!==void 0&&d.points&&(e=t.extendPointAnnotations(e))),e}}]),h}(),Ss=function(){function h(t){$(this,h),this.w=t.w,this.annoCtx=t}return K(h,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(t.label.orientation==="vertical"){var s=e!==null?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(a!==null){var r=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-r.height+4);var o=t.label.position==="top"?r.width:-r.width;a.setAttribute("y",parseFloat(a.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(a),d=l.x,f=l.y;a.setAttribute("transform","rotate(-90 ".concat(d," ").concat(f,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||!String(e.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),r=e.label.style.padding,o=r.left,l=r.right,d=r.top,f=r.bottom;if(e.label.orientation==="vertical"){var u=[o,l,d,f];d=u[0],f=u[1],o=u[2],l=u[3]}var p=a.left-s.left-o,m=a.top-s.top-d,v=this.annoCtx.graphics.drawRect(p-i.globals.barPadForNumericAxis,m,a.width+o+l,a.height+d+f,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&v.node.classList.add(e.id),v}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(s,a,r){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(a,"']"));if(o){var l=o.parentNode,d=t.addBackgroundToAnno(o,s);d&&(l.insertBefore(d.node,o),s.label.mouseEnter&&d.node.addEventListener("mouseenter",s.label.mouseEnter.bind(t,s)),s.label.mouseLeave&&d.node.addEventListener("mouseleave",s.label.mouseLeave.bind(t,s)),s.label.click&&d.node.addEventListener("click",s.label.click.bind(t,s)))}};e.config.annotations.xaxis.forEach(function(s,a){return i(s,a,"xaxis")}),e.config.annotations.yaxis.forEach(function(s,a){return i(s,a,"yaxis")}),e.config.annotations.points.forEach(function(s,a){return i(s,a,"point")})}},{key:"getY1Y2",value:function(t,e){var i,s=this.w,a=t==="y1"?e.y:e.y2,r=!1;if(this.annoCtx.invertAxis){var o=s.config.xaxis.convertedCatToNumeric?s.globals.categoryLabels:s.globals.labels,l=o.indexOf(a),d=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));i=d?parseFloat(d.getAttribute("y")):(s.globals.gridHeight/o.length-1)*(l+1)-s.globals.barHeight,e.seriesIndex!==void 0&&s.globals.barHeight&&(i-=s.globals.barHeight/2*(s.globals.series.length-1)-s.globals.barHeight*e.seriesIndex)}else{var f,u=s.globals.seriesYAxisMap[e.yAxisIndex][0],p=s.config.yaxis[e.yAxisIndex].logarithmic?new zt(this.annoCtx.ctx).getLogVal(s.config.yaxis[e.yAxisIndex].logBase,a,u)/s.globals.yLogRatio[u]:(a-s.globals.minYArr[u])/(s.globals.yRange[u]/s.globals.gridHeight);i=s.globals.gridHeight-Math.min(Math.max(p,0),s.globals.gridHeight),r=p>s.globals.gridHeight||p<0,!e.marker||e.y!==void 0&&e.y!==null||(i=0),(f=s.config.yaxis[e.yAxisIndex])!==null&&f!==void 0&&f.reversed&&(i=p)}return typeof a=="string"&&a.includes("px")&&(i=parseFloat(a)),{yP:i,clipped:r}}},{key:"getX1X2",value:function(t,e){var i=this.w,s=t==="x1"?e.x:e.x2,a=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,r=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,l=!1,d=this.annoCtx.inversedReversedAxis?(r-s)/(o/i.globals.gridWidth):(s-a)/(o/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(d=this.getStringX(s)),typeof s=="string"&&s.includes("px")&&(d=parseFloat(s)),s==null&&e.marker&&(d=i.globals.gridWidth),e.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*e.seriesIndex),d>i.globals.gridWidth?(d=i.globals.gridWidth,l=!0):d<0&&(d=0,l=!0),{x:d,clipped:l}}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var s=e.globals.labels.map(function(r){return Array.isArray(r)?r.join(" "):r}).indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(s+1,")"));return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),h}(),Th=function(){function h(t){$(this,h),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ss(this.annoCtx)}return K(h,[{key:"addXaxisAnnotation",value:function(t,e,i){var s,a=this.w,r=this.helpers.getX1X2("x1",t),o=r.x,l=r.clipped,d=!0,f=t.label.text,u=t.strokeDashArray;if(O.isNumber(o)){if(t.x2===null||t.x2===void 0){if(!l){var p=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,u,t.borderWidth);e.appendChild(p.node),t.id&&p.node.classList.add(t.id)}}else{var m=this.helpers.getX1X2("x2",t);if(s=m.x,d=m.clipped,!l||!d){if(s<o){var v=o;o=s,s=v}var x=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,s-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,u);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(x.node),t.id&&x.node.classList.add(t.id)}}if(!l||!d){var y=this.annoCtx.graphics.getTextRects(f,parseFloat(t.label.style.fontSize)),_=t.label.position==="top"?4:t.label.position==="center"?a.globals.gridHeight/2+(t.label.orientation==="vertical"?y.width/2:0):a.globals.gridHeight,k=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:_+t.label.offsetY-(t.label.orientation==="vertical"?t.label.position==="top"?y.width/2-12:-y.width/2:0),text:f,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});k.attr({rel:i}),e.appendChild(k.node),this.annoCtx.helpers.setOrientations(t,i)}}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map(function(s,a){t.addXaxisAnnotation(s,i.node,a)}),i}}]),h}(),Zt=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return K(h,[{key:"isValidDate",value:function(t){return typeof t!="number"&&!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(Yt(i.months)),r=[""].concat(Yt(i.shortMonths)),o=[""].concat(Yt(i.days)),l=[""].concat(Yt(i.shortDays));function d(T,E){var R=T+"";for(E=E||2;R.length<E;)R="0"+R;return R}var f=s?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+f)).replace(/(^|[^\\])yy/g,"$1"+f.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+f);var u=(s?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+r[0])).replace(/(^|[^\\])MM/g,"$1"+d(u))).replace(/(^|[^\\])M/g,"$1"+u);var p=s?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+d(p))).replace(/(^|[^\\])d/g,"$1"+p);var m=s?t.getUTCHours():t.getHours(),v=m>12?m-12:m===0?12:m;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+d(m))).replace(/(^|[^\\])H/g,"$1"+m)).replace(/(^|[^\\])hh+/g,"$1"+d(v))).replace(/(^|[^\\])h/g,"$1"+v);var x=s?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+d(x))).replace(/(^|[^\\])m/g,"$1"+x);var y=s?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+d(y))).replace(/(^|[^\\])s/g,"$1"+y);var _=s?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+d(_,3)),_=Math.round(_/10),e=e.replace(/(^|[^\\])ff/g,"$1"+d(_)),_=Math.round(_/10);var k=m<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+_)).replace(/(^|[^\\])TT+/g,"$1"+k)).replace(/(^|[^\\])T/g,"$1"+k.charAt(0));var C=k.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var M=-t.getTimezoneOffset(),S=s||!M?"Z":M>0?"+":"-";if(!s){var I=(M=Math.abs(M))%60;S+=d(Math.floor(M/60))+":"+d(I)}e=e.replace(/(^|[^\\])K/g,"$1"+S);var P=(s?t.getUTCDay():t.getDay())+1;return e=(e=(e=(e=(e=e.replace(new RegExp(o[0],"g"),o[P])).replace(new RegExp(l[0],"g"),l[P])).replace(new RegExp(a[0],"g"),a[u])).replace(new RegExp(r[0],"g"),r[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var s=this.w;s.config.xaxis.min!==void 0&&(t=s.config.xaxis.min),s.config.xaxis.max!==void 0&&(e=s.config.xaxis.max);var a=this.getDate(t),r=this.getDate(e),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var s=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=O.monthMod(t),!0){case this.months30.indexOf(t)>-1:t===2&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),h}(),Zi=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return K(h,[{key:"xLabelFormat",value:function(t,e,i,s){var a=this.w;if(a.config.xaxis.type==="datetime"&&a.config.xaxis.labels.formatter===void 0&&a.config.tooltip.x.formatter===void 0){var r=new Zt(this.ctx);return r.formatDate(r.getDate(e),a.config.tooltip.x.format)}return t(e,i,s)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(e){return e}):t}},{key:"defaultYFormatter",value:function(t,e,i){var s=this.w;if(O.isNumber(t))if(s.globals.yValueDecimal!==0)t=t.toFixed(e.decimalsInFloat!==void 0?e.decimalsInFloat:s.globals.yValueDecimal);else{var a=t.toFixed(0);t=t==a?a:t.toFixed(1)}return t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttKeyFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttZFormatter=function(i){return i},e.globals.legendFormatter=function(i){return t.defaultGeneralFormatter(i)},e.config.xaxis.labels.formatter!==void 0?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(i){if(O.isNumber(i)){if(!e.config.xaxis.convertedCatToNumeric&&e.config.xaxis.type==="numeric"){if(O.isNumber(e.config.xaxis.decimalsInFloat))return i.toFixed(e.config.xaxis.decimalsInFloat);var s=e.globals.maxX-e.globals.minX;return s>0&&s<100?i.toFixed(1):i.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof e.config.tooltip.x.formatter=="function"?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,typeof e.config.xaxis.tooltip.formatter=="function"&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||e.config.tooltip.y.formatter!==void 0)&&(e.globals.ttVal=e.config.tooltip.y),e.config.tooltip.z.formatter!==void 0&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),e.config.legend.formatter!==void 0&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach(function(i,s){i.labels.formatter!==void 0?e.globals.yLabelFormatters[s]=i.labels.formatter:e.globals.yLabelFormatters[s]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map(function(r){return t.defaultYFormatter(r,i,s)}):t.defaultYFormatter(a,i,s):a}}),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if(t.config.chart.type==="heatmap"){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce(function(i,s){return i.length>s.length?i:s},0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),h}(),Ee=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"getLabel",value:function(t,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,d=t[s]===void 0?"":t[s],f=d,u=l.globals.xLabelFormatter,p=l.config.xaxis.labels.formatter,m=!1,v=new Zi(this.ctx),x=d;o&&(f=v.xLabelFormat(u,d,x,{i:s,dateFormatter:new Zt(this.ctx).formatDate,w:l}),p!==void 0&&(f=p(d,t[s],{i:s,dateFormatter:new Zt(this.ctx).formatDate,w:l})));var y,_;e.length>0?(y=e[s].unit,_=null,e.forEach(function(S){S.unit==="month"?_="year":S.unit==="day"?_="month":S.unit==="hour"?_="day":S.unit==="minute"&&(_="hour")}),m=_===y,i=e[s].position,f=e[s].value):l.config.xaxis.type==="datetime"&&p===void 0&&(f=""),f===void 0&&(f=""),f=Array.isArray(f)?f:f.toString();var k=new Y(this.ctx),C={};C=l.globals.rotateXLabels&&o?k.getTextRects(f,parseInt(r,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):k.getTextRects(f,parseInt(r,10));var M=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(f)&&(String(f)==="NaN"||a.indexOf(f)>=0&&M)&&(f=""),{x:i,text:f,textRect:C,isBold:m}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var s=this.w,a=s.config.xaxis.tickAmount;return a==="dataPoints"&&(a=Math.round(s.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,s,a){var r=this.w;if(t===0&&r.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&r.globals.skipLastTimelinelabel&&(e.text=""),r.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var o=a[a.length-1];e.x<o.textRect.width/(r.globals.rotateXLabels?Math.abs(r.config.xaxis.labels.rotate)/12:1.01)+o.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"yAxisAllSeriesCollapsed",value:function(t){var e=this.w.globals;return!e.seriesYAxisMap[t].some(function(i){return e.collapsedSeriesIndices.indexOf(i)===-1})}},{key:"translateYAxisIndex",value:function(t){var e=this.w,i=e.globals,s=e.config.yaxis;return i.series.length>s.length||s.some(function(a){return Array.isArray(a.seriesName)})?t:i.seriesYAxisReverseMap[t]}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=e.config.yaxis[t];if(!i.show||this.yAxisAllSeriesCollapsed(t))return!0;if(!i.showForNullSeries){var s=e.globals.seriesYAxisMap[t],a=new zt(this.ctx);return s.every(function(r){return a.isSeriesNull(r)})}return!1}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,s,a,r,o){var l=this.w,d=new Y(this.ctx),f=l.globals.translateY+l.config.yaxis[a].labels.offsetY;if(l.globals.isBarHorizontal?f=0:l.config.chart.type==="heatmap"&&(f+=r/2),s.show&&e>0){l.config.yaxis[a].opposite===!0&&(t+=s.width);for(var u=e;u>=0;u--){var p=d.drawLine(t+i.offsetX-s.width+s.offsetX,f+s.offsetY,t+i.offsetX+s.offsetX,f+s.offsetY,s.color);o.add(p),f+=r}}}}]),h}(),Ih=function(){function h(t){$(this,h),this.w=t.w,this.annoCtx=t,this.helpers=new Ss(this.annoCtx),this.axesUtils=new Ee(this.annoCtx)}return K(h,[{key:"addYaxisAnnotation",value:function(t,e,i){var s,a=this.w,r=t.strokeDashArray,o=this.helpers.getY1Y2("y1",t),l=o.yP,d=o.clipped,f=!0,u=!1,p=t.label.text;if(t.y2===null||t.y2===void 0){if(!d){u=!0;var m=this.annoCtx.graphics.drawLine(0+t.offsetX,l+t.offsetY,this._getYAxisAnnotationWidth(t),l+t.offsetY,t.borderColor,r,t.borderWidth);e.appendChild(m.node),t.id&&m.node.classList.add(t.id)}}else{if(s=(o=this.helpers.getY1Y2("y2",t)).yP,f=o.clipped,s>l){var v=l;l=s,s=v}if(!d||!f){u=!0;var x=this.annoCtx.graphics.drawRect(0+t.offsetX,s+t.offsetY,this._getYAxisAnnotationWidth(t),l-s,0,t.fillColor,t.opacity,1,t.borderColor,r);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(x.node),t.id&&x.node.classList.add(t.id)}}if(u){var y=t.label.position==="right"?a.globals.gridWidth:t.label.position==="center"?a.globals.gridWidth/2:0,_=this.annoCtx.graphics.drawText({x:y+t.label.offsetX,y:(s??l)+t.label.offsetY-3,text:p,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});_.attr({rel:i}),e.appendChild(_.node)}}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.forEach(function(s,a){s.yAxisIndex=t.axesUtils.translateYAxisIndex(s.yAxisIndex),t.axesUtils.isYAxisHidden(s.yAxisIndex)&&t.axesUtils.yAxisAllSeriesCollapsed(s.yAxisIndex)||t.addYaxisAnnotation(s,i.node,a)}),i}}]),h}(),zh=function(){function h(t){$(this,h),this.w=t.w,this.annoCtx=t,this.helpers=new Ss(this.annoCtx)}return K(h,[{key:"addPointAnnotation",value:function(t,e,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(t.seriesIndex)>-1)){var s=this.helpers.getX1X2("x1",t),a=s.x,r=s.clipped,o=(s=this.helpers.getY1Y2("y1",t)).yP,l=s.clipped;if(O.isNumber(a)&&!l&&!r){var d={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},f=this.annoCtx.graphics.drawMarker(a+t.marker.offsetX,o+t.marker.offsetY,d);e.appendChild(f.node);var u=t.label.text?t.label.text:"",p=this.annoCtx.graphics.drawText({x:a+t.label.offsetX,y:o+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:u,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(p.attr({rel:i}),e.appendChild(p.node),t.customSVG.SVG){var m=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});m.attr({transform:"translate(".concat(a+t.customSVG.offsetX,", ").concat(o+t.customSVG.offsetY,")")}),m.node.innerHTML=t.customSVG.SVG,e.appendChild(m.node)}if(t.image.path){var v=t.image.width?t.image.width:20,x=t.image.height?t.image.height:20;f=this.annoCtx.addImage({x:a+t.image.offsetX-v/2,y:o+t.image.offsetY-x/2,width:v,height:x,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&f.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&f.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&f.node.addEventListener("click",t.click.bind(this,t))}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map(function(s,a){t.addPointAnnotation(s,i.node,a)}),i}}]),h}(),go={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Ne=function(){function h(){$(this,h),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return K(h,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[go],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)/t.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(t){return t},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return t!==null?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),h}(),Eh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.graphics=new Y(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ss(this),this.xAxisAnnotations=new Th(this),this.yAxisAnnotations=new Ih(this),this.pointsAnnotations=new zh(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return K(h,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts&&t.globals.dataPoints){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,r=[e,i,s],o=[i.node,e.node,s.node],l=0;l<3;l++)t.globals.dom.elGraphical.add(r[l]),!a||t.globals.resized||t.globals.dataChanged||t.config.chart.type!=="scatter"&&t.config.chart.type!=="bubble"&&t.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map(function(e,i){t.addImage(e,i)})}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map(function(e,i){t.addText(e,i)})}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,s=t.y,a=t.text,r=t.textAnchor,o=t.foreColor,l=t.fontSize,d=t.fontFamily,f=t.fontWeight,u=t.cssClass,p=t.backgroundColor,m=t.borderWidth,v=t.strokeDashArray,x=t.borderRadius,y=t.borderColor,_=t.appendTo,k=_===void 0?".apexcharts-svg":_,C=t.paddingLeft,M=C===void 0?4:C,S=t.paddingRight,I=S===void 0?4:S,P=t.paddingBottom,T=P===void 0?2:P,E=t.paddingTop,R=E===void 0?2:E,B=this.w,H=this.graphics.drawText({x:i,y:s,text:a,textAnchor:r||"start",fontSize:l||"12px",fontWeight:f||"regular",fontFamily:d||B.config.chart.fontFamily,foreColor:o||B.config.chart.foreColor,cssClass:u}),X=B.globals.dom.baseEl.querySelector(k);X&&X.appendChild(H.node);var N=H.bbox();if(a){var q=this.graphics.drawRect(N.x-M,N.y-R,N.width+M+I,N.height+T+R,x,p||"transparent",1,m,y,v);X.insertBefore(q.node,H.node)}}},{key:"addImage",value:function(t,e){var i=this.w,s=t.path,a=t.x,r=a===void 0?0:a,o=t.y,l=o===void 0?0:o,d=t.width,f=d===void 0?20:d,u=t.height,p=u===void 0?20:u,m=t.appendTo,v=m===void 0?".apexcharts-svg":m,x=i.globals.dom.Paper.image(s);x.size(f,p).move(r,l);var y=i.globals.dom.baseEl.querySelector(v);return y&&y.appendChild(x.node),x}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,s=t.context,a=t.type,r=t.contextMethod,o=s,l=o.w,d=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),f=d.childNodes.length+1,u=new Ne,p=Object.assign({},a==="xaxis"?u.xAxisAnnotation:a==="yaxis"?u.yAxisAnnotation:u.pointAnnotation),m=O.extend(p,e);switch(a){case"xaxis":this.addXaxisAnnotation(m,d,f);break;case"yaxis":this.addYaxisAnnotation(m,d,f);break;case"point":this.addPointAnnotation(m,d,f)}var v=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(f,"']")),x=this.helpers.addBackgroundToAnno(v,m);return x&&d.insertBefore(x.node,v),i&&l.globals.memory.methodsToExec.push({context:o,id:m.id?m.id:O.randomId(),method:r,label:"addAnnotation",params:e}),s}},{key:"clearAnnotations",value:function(t){for(var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),s=e.globals.memory.methodsToExec.length-1;s>=0;s--)e.globals.memory.methodsToExec[s].label!=="addText"&&e.globals.memory.methodsToExec[s].label!=="addAnnotation"||e.globals.memory.methodsToExec.splice(s,1);i=O.listToArray(i),Array.prototype.forEach.call(i,function(a){for(;a.firstChild;)a.removeChild(a.firstChild)})}},{key:"removeAnnotation",value:function(t,e){var i=t.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(e));s&&(i.globals.memory.methodsToExec.map(function(a,r){a.id===e&&i.globals.memory.methodsToExec.splice(r,1)}),Array.prototype.forEach.call(s,function(a){a.parentElement.removeChild(a)}))}}]),h}(),xa=function(h){var t,e=h.isTimeline,i=h.ctx,s=h.seriesIndex,a=h.dataPointIndex,r=h.y1,o=h.y2,l=h.w,d=l.globals.seriesRangeStart[s][a],f=l.globals.seriesRangeEnd[s][a],u=l.globals.labels[a],p=l.config.series[s].name?l.config.series[s].name:"",m=l.globals.ttKeyFormatter,v=l.config.tooltip.y.title.formatter,x={w:l,seriesIndex:s,dataPointIndex:a,start:d,end:f};typeof v=="function"&&(p=v(p,x)),(t=l.config.series[s].data[a])!==null&&t!==void 0&&t.x&&(u=l.config.series[s].data[a].x),e||l.config.xaxis.type==="datetime"&&(u=new Zi(i).xLabelFormat(l.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new Zt(i).formatDate,w:l})),typeof m=="function"&&(u=m(u,x)),Number.isFinite(r)&&Number.isFinite(o)&&(d=r,f=o);var y="",_="",k=l.globals.colors[s];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var C=new Zt(i);y=C.formatDate(C.getDate(d),l.config.tooltip.x.format),_=C.formatDate(C.getDate(f),l.config.tooltip.x.format)}else y=d,_=f;else y=l.config.tooltip.x.formatter(d),_=l.config.tooltip.x.formatter(f);return{start:d,end:f,startVal:y,endVal:_,ylabel:u,color:k,seriesName:p}},va=function(h){var t=h.color,e=h.seriesName,i=h.ylabel,s=h.start,a=h.end,r=h.seriesIndex,o=h.dataPointIndex,l=h.ctx.tooltip.tooltipLabels.getFormatters(r);s=l.yLbFormatter(s),a=l.yLbFormatter(a);var d=l.yLbFormatter(h.w.globals.series[r][o]),f=`<span class="value start-value">
  `.concat(s,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(a,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(e||"")+'</span></div><div> <span class="category">'+i+": </span> "+(h.w.globals.comboCharts?h.w.config.series[r].type==="rangeArea"||h.w.config.series[r].type==="rangeBar"?f:"<span>".concat(d,"</span>"):f)+" </div></div>"},Di=function(){function h(t){$(this,h),this.opts=t}return K(h,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),O.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t,e){var i=e.w.config.series[e.seriesIndex].name;return t!==null?i+": "+t:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),U(U({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,s=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,s=e.dataPointIndex,a=e.w,r=function(){var o=a.globals.seriesRangeStart[i][s];return a.globals.seriesRangeEnd[i][s]-o};return a.globals.comboCharts?a.config.series[i].type==="rangeBar"||a.config.series[i].type==="rangeArea"?r():t:r()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(e){var i=xa(U(U({},e),{},{isTimeline:!0})),s=i.color,a=i.seriesName,r=i.ylabel,o=i.startVal,l=i.endVal;return va(U(U({},e),{},{color:s,seriesName:a,ylabel:r,start:o,end:l}))}(t):function(e){var i=xa(e),s=i.color,a=i.seriesName,r=i.ylabel,o=i.start,l=i.end;return va(U(U({},e),{},{color:s,seriesName:a,ylabel:r,start:o,end:l}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var e,i;return(e=t.plotOptions.bar)!==null&&e!==void 0&&e.barHeight||(t.plotOptions.bar.barHeight=2),(i=t.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(e){var i=xa(e),s=i.color,a=i.seriesName,r=i.ylabel,o=i.start,l=i.end;return va(U(U({},e),{},{color:s,seriesName:a,ylabel:r,start:o,end:l}))}(t)}}}}},{key:"brush",value:function(t){return O.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach(function(i,s){t.yaxis[s].min=0,t.yaxis[s].max=100}),t.chart.type==="bar"&&(t.dataLabels.formatter=e||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),t}},{key:"stackedBars",value:function(){var t=this.bar();return U(U({},t),{},{plotOptions:U(U({},t.plotOptions),{},{bar:U(U({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(r){return O.isNumber(r)?Math.floor(r):r};var s=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map(function(r){return Array.isArray(r)?r:String(r)})),a&&a.length&&(t.xaxis.labels.formatter=function(r){return O.isNumber(r)?s(a[Math.floor(r)-1]):s(r)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(t,e,i,s,a){var r=t.globals.seriesCandleO[e][i],o=t.globals.seriesCandleH[e][i],l=t.globals.seriesCandleM[e][i],d=t.globals.seriesCandleL[e][i],f=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?`<div class="apexcharts-custom-tooltip">
          `.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+r+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(s[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+f+"</span></div></div>"}}]),h}(),Hi=function(){function h(t){$(this,h),this.opts=t}return K(h,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,s=new Ne,a=new Di(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var r=s.init(),o={};if(i&&ci(i)==="object"){var l,d,f,u,p,m,v,x,y,_,k={};k=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?a[i.chart.type]():a.line(),(l=i.plotOptions)!==null&&l!==void 0&&(d=l.bar)!==null&&d!==void 0&&d.isFunnel&&(k=a.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(k=a.stackedBars()),(f=i.chart.brush)!==null&&f!==void 0&&f.enabled&&(k=a.brush(k)),(u=i.plotOptions)!==null&&u!==void 0&&(p=u.line)!==null&&p!==void 0&&p.isSlopeChart&&(k=a.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=a.stacked100(i)),(m=i.plotOptions)!==null&&m!==void 0&&(v=m.bar)!==null&&v!==void 0&&v.isDumbbell&&(i=a.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((x=(i=this.checkForCatToNumericXAxis(this.chartType,k,i)).chart.sparkline)!==null&&x!==void 0&&x.enabled||(y=window.Apex.chart)!==null&&y!==void 0&&(_=y.sparkline)!==null&&_!==void 0&&_.enabled)&&(k=a.sparkline(k)),o=O.extend(r,k)}var C=O.extend(o,window.Apex);return r=O.extend(C,i),r=this.handleUserInputErrors(r)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var s,a,r=new Di(i),o=(t==="bar"||t==="boxPlot")&&((s=i.plotOptions)===null||s===void 0||(a=s.bar)===null||a===void 0?void 0:a.horizontal),l=t==="pie"||t==="polarArea"||t==="donut"||t==="radar"||t==="radialBar"||t==="heatmap",d=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",f=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return o||l||!d||f==="between"||(i=r.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new Ne;(t.yaxis===void 0||!t.yaxis||Array.isArray(t.yaxis)&&t.yaxis.length===0)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=O.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[O.extend(i.yAxis,t.yaxis)]:t.yaxis=O.extendArray(t.yaxis,i.yAxis);var s=!1;t.yaxis.forEach(function(r){r.logarithmic&&(s=!0)});var a=t.series;return e&&!a&&(a=e.config.series),s&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map(function(r,o){if(r.name||(a[o].name="series-".concat(o+1)),t.yaxis[o])return t.yaxis[o].seriesName=a[o].name,t.yaxis[o];var l=O.extend(i.yAxis,t.yaxis[0]);return l.show=!1,l})),s&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),t}},{key:"extendAnnotations",value:function(t){return t.annotations===void 0&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),t=this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new Ne;return t.annotations.yaxis=O.extendArray(t.annotations.yaxis!==void 0?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new Ne;return t.annotations.xaxis=O.extendArray(t.annotations.xaxis!==void 0?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new Ne;return t.annotations.points=O.extendArray(t.annotations.points!==void 0?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&t.theme.mode==="dark"&&(t.tooltip||(t.tooltip={}),t.tooltip.theme!=="light"&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(e.chart.type==="bar"&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return e.chart.type!=="bar"&&e.chart.type!=="rangeBar"||e.tooltip.shared&&e.xaxis.crosshairs.width==="barWidth"&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),e.chart.type!=="candlestick"&&e.chart.type!=="boxPlot"||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),h}(),po=function(){function h(){$(this,h)}return K(h,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.barGroups=[],t.lineGroups=[],t.areaGroups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.lastWheelExecution=0,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0,t.multiAxisTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:t.chart.toolbar.autoSelected==="zoom"&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:t.chart.toolbar.autoSelected==="pan"&&t.chart.toolbar.tools.pan,selectionEnabled:t.chart.toolbar.autoSelected==="selection"&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:t.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=O.extend({},t),e.initialSeries=O.clone(t.series),e.lastXAxis=O.clone(e.initialConfig.xaxis),e.lastYAxis=O.clone(e.initialConfig.yaxis),e}}]),h}(),Oh=function(){function h(t){$(this,h),this.opts=t}return K(h,[{key:"init",value:function(){var t=new Hi(this.opts).init({responsiveOverride:!1});return{config:t,globals:new po().init(t)}}}]),h}(),pe=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return K(h,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,s=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),r=s>a?s:a,o=t.image,l=0,d=0;t.width===void 0&&t.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(l=i.fill.image.width+1,d=i.fill.image.height):(l=r+1,d=r):(l=t.width,d=t.height);var f=document.createElementNS(e.globals.SVGNS,"pattern");Y.setAttrs(f,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:l+"px",height:d+"px"});var u=document.createElementNS(e.globals.SVGNS,"image");f.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",o),Y.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:d+"px"}),u.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(f)}},{key:"getSeriesIndex",value:function(t){var e=this.w,i=e.config.chart.type;return(i==="bar"||i==="rangeBar")&&e.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(t,e){var i,s=this.w,a=null,r=null,o=zi(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;l>=e.threshold?(a===null||l>a)&&(a=l):(r===null||l<r)&&(r=l)}}catch(u){o.e(u)}finally{o.f()}a===null&&(a=e.threshold),r===null&&(r=e.threshold);var d=a-e.threshold+(e.threshold-r);d===0&&(d=1);var f=100-(e.threshold-r)/d*100;return[{offset:f=Math.max(0,Math.min(f,100)),color:e.colorAboveThreshold,opacity:s.config.fill.opacity},{offset:0,color:e.colorBelowThreshold,opacity:s.config.fill.opacity}]}},{key:"fillPath",value:function(t){var e,i,s,a=this.w;this.opts=t;var r,o,l,d=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var f=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,u=this.getFillColors()[this.seriesIndex];a.globals.seriesColors[this.seriesIndex]!==void 0&&(u=a.globals.seriesColors[this.seriesIndex]),typeof u=="function"&&(u=u({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:a}));var p,m,v,x=t.fillType?t.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,_=x==="gradient"||f;t.color&&(u=t.color),(e=a.config.series[this.seriesIndex])!==null&&e!==void 0&&(i=e.data)!==null&&i!==void 0&&(s=i[t.dataPointIndex])!==null&&s!==void 0&&s.fillColor&&(u=(p=a.config.series[this.seriesIndex])===null||p===void 0||(m=p.data)===null||m===void 0||(v=m[t.dataPointIndex])===null||v===void 0?void 0:v.fillColor),u||(u="#fff",console.warn("undefined color - ApexCharts"));var k=u;if(u.indexOf("rgb")===-1?u.indexOf("#")===-1?k=u:u.length<9&&(k=O.hexToRgba(u,y)):u.indexOf("rgba")>-1?y=O.getOpacityFromRGBA(u):k=O.hexToRgba(O.rgb2hex(u),y),t.opacity&&(y=t.opacity),x==="pattern"&&(o=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:o,fillColor:u,fillOpacity:y,defaultColor:k})),_){var C=Yt(d.fill.gradient.colorStops)||[],M=d.fill.gradient.type;f&&(C[this.seriesIndex]=this.computeColorStops(a.globals.series[this.seriesIndex],d.plotOptions.line.colors),M="vertical"),l=this.handleGradientFill({type:M,fillConfig:t.fillConfig,fillColor:u,fillOpacity:y,colorStops:C,i:this.seriesIndex})}if(x==="image"){var S=d.fill.image.src,I=t.patternID?t.patternID:"",P="pattern".concat(a.globals.cuid).concat(t.seriesNumber+1).concat(I);this.patternIDs.indexOf(P)===-1&&(this.clippedImgArea({opacity:y,image:Array.isArray(S)?t.seriesNumber<S.length?S[t.seriesNumber]:S[0]:S,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:P}),this.patternIDs.push(P)),r="url(#".concat(P,")")}else r=_?l:x==="pattern"?o:k;return t.solid&&(r=k),r}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,s=[];return t.globals.comboCharts?t.config.series[this.seriesIndex].type==="line"?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors):e.chart.type==="line"?Array.isArray(t.globals.stroke.colors)?s=t.globals.stroke.colors:s.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?s=t.globals.fill.colors:s.push(t.globals.fill.colors),i.fillColors!==void 0&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,s=t.fillColor,a=t.fillOpacity,r=t.defaultColor,o=this.w.config.fill;e&&(o=e);var l=this.opts,d=new Y(this.ctx),f=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,u=s;return Array.isArray(o.pattern.style)?i=o.pattern.style[l.seriesNumber]!==void 0?d.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,u,f,a):r:i=d.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,u,f,a),i}},{key:"handleGradientFill",value:function(t){var e=t.type,i=t.fillColor,s=t.fillOpacity,a=t.fillConfig,r=t.colorStops,o=t.i,l=this.w.config.fill;a&&(l=U(U({},l),a));var d=this.opts,f=new Y(this.ctx),u=new O;e=e||l.gradient.type;var p,m=i,v=l.gradient.opacityFrom===void 0?s:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;m.indexOf("rgba")>-1&&(v=O.getOpacityFromRGBA(m));var x=l.gradient.opacityTo===void 0?s:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)p=l.gradient.shade==="dark"?u.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i):u.shadeColor(parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?O.rgb2hex(i):i);else if(l.gradient.gradientToColors[d.seriesNumber]){var y=l.gradient.gradientToColors[d.seriesNumber];p=y,y.indexOf("rgba")>-1&&(x=O.getOpacityFromRGBA(y))}else p=i;if(l.gradient.gradientFrom&&(m=l.gradient.gradientFrom),l.gradient.gradientTo&&(p=l.gradient.gradientTo),l.gradient.inverseColors){var _=m;m=p,p=_}return m.indexOf("rgb")>-1&&(m=O.rgb2hex(m)),p.indexOf("rgb")>-1&&(p=O.rgb2hex(p)),f.drawGradient(e,m,p,v,x,d.size,l.gradient.stops,r,o)}}]),h}(),xi=function(){function h(t,e){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)t.globals.markers.size[e]===void 0&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map(function(i){return t.config.markers.size})}},{key:"plotChartMarkers",value:function(t,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0&&arguments[4],r=this.w,o=e,l=t,d=null,f=new Y(this.ctx),u=r.config.markers.discrete&&r.config.markers.discrete.length;if(Array.isArray(l.x))for(var p=0;p<l.x.length;p++){var m=void 0,v=i,x=!O.isNumber(l.y[p]);i===1&&p===0&&(v=0),i===1&&p===1&&(v=1);var y="apexcharts-marker";if(r.config.chart.type!=="line"&&r.config.chart.type!=="area"||r.globals.comboCharts||r.config.tooltip.intersect||(y+=" no-pointer-events"),(Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0)||a||u){x||(y+=" w".concat(O.randomId()));var _=this.getMarkerConfig({cssClass:y,seriesIndex:e,dataPointIndex:v});r.config.series[o].data[v]&&(r.config.series[o].data[v].fillColor&&(_.pointFillColor=r.config.series[o].data[v].fillColor),r.config.series[o].data[v].strokeColor&&(_.pointStrokeColor=r.config.series[o].data[v].strokeColor)),s!==void 0&&(_.pSize=s),(l.x[p]<-r.globals.markers.largestSize||l.x[p]>r.globals.gridWidth+r.globals.markers.largestSize||l.y[p]<-r.globals.markers.largestSize||l.y[p]>r.globals.gridHeight+r.globals.markers.largestSize)&&(_.pSize=0),!x&&((r.globals.markers.size[e]>0||a||u)&&!d&&(d=f.group({class:a||u?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),(m=f.drawMarker(l.x[p],l.y[p],_)).attr("rel",v),m.attr("j",v),m.attr("index",e),m.node.setAttribute("default-marker-size",_.pSize),new jt(this.ctx).setSelectionFilter(m,e,v),this.addEvents(m),d&&d.add(m))}else r.globals.pointsArray[e]===void 0&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([l.x[p],l.y[p]])}return d}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,s=t.dataPointIndex,a=s===void 0?null:s,r=t.radius,o=r===void 0?null:r,l=t.size,d=l===void 0?null:l,f=t.strokeWidth,u=f===void 0?null:f,p=this.w,m=this.getMarkerStyle(i),v=d===null?p.globals.markers.size[i]:d,x=p.config.markers;return a!==null&&x.discrete.length&&x.discrete.map(function(y){y.seriesIndex===i&&y.dataPointIndex===a&&(m.pointStrokeColor=y.strokeColor,m.pointFillColor=y.fillColor,v=y.size,m.pointShape=y.shape)}),{pSize:o===null?v:o,pRadius:o!==null?o:x.radius,pointStrokeWidth:u!==null?u:Array.isArray(x.strokeWidth)?x.strokeWidth[i]:x.strokeWidth,pointStrokeColor:m.pointStrokeColor,pointFillColor:m.pointFillColor,shape:m.pointShape||(Array.isArray(x.shape)?x.shape[i]:x.shape),class:e,pointStrokeOpacity:Array.isArray(x.strokeOpacity)?x.strokeOpacity[i]:x.strokeOpacity,pointStrokeDashArray:Array.isArray(x.strokeDashArray)?x.strokeDashArray[i]:x.strokeDashArray,pointFillOpacity:Array.isArray(x.fillOpacity)?x.fillOpacity[i]:x.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new Y(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,s=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[t]:s,pointFillColor:Array.isArray(i)?i[t]:i}}}]),h}(),mo=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return K(h,[{key:"draw",value:function(t,e,i){var s=this.w,a=new Y(this.ctx),r=i.realIndex,o=i.pointsPos,l=i.zRatio,d=i.elParent,f=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(f.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(o.x))for(var u=0;u<o.x.length;u++){var p=e+1,m=!0;e===0&&u===0&&(p=0),e===0&&u===1&&(p=1);var v=s.globals.markers.size[r];if(l!==1/0){var x=s.config.plotOptions.bubble;v=s.globals.seriesZ[r][p],x.zScaling&&(v/=l),x.minBubbleRadius&&v<x.minBubbleRadius&&(v=x.minBubbleRadius),x.maxBubbleRadius&&v>x.maxBubbleRadius&&(v=x.maxBubbleRadius)}var y=o.x[u],_=o.y[u];if(v=v||0,_!==null&&s.globals.series[r][p]!==void 0||(m=!1),m){var k=this.drawPoint(y,_,v,r,p,e);f.add(k)}d.add(f)}}},{key:"drawPoint",value:function(t,e,i,s,a,r){var o=this.w,l=s,d=new fi(this.ctx),f=new jt(this.ctx),u=new pe(this.ctx),p=new xi(this.ctx),m=new Y(this.ctx),v=p.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:a,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[s]&&o.config.series[s].type==="bubble"?i:null}),x=u.fillPath({seriesNumber:s,dataPointIndex:a,color:v.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[s][r]}),y=m.drawMarker(t,e,v);if(o.config.series[l].data[a]&&o.config.series[l].data[a].fillColor&&(x=o.config.series[l].data[a].fillColor),y.attr({fill:x}),o.config.chart.dropShadow.enabled){var _=o.config.chart.dropShadow;f.dropShadow(y,_,s)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var k=o.config.chart.animations.speed;d.animateMarker(y,k,o.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(y)},100)})}return y.attr({rel:a,j:a,index:s,"default-marker-size":v.pSize}),f.setSelectionFilter(y,s,a),p.addEvents(y),y.node.classList.add("apexcharts-marker"),y}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),h}(),di=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"dataLabelsCorrection",value:function(t,e,i,s,a,r,o){var l=this.w,d=!1,f=new Y(this.ctx).getTextRects(i,o),u=f.width,p=f.height;e<0&&(e=0),e>l.globals.gridHeight+p&&(e=l.globals.gridHeight+p/2),l.globals.dataLabelsRects[s]===void 0&&(l.globals.dataLabelsRects[s]=[]),l.globals.dataLabelsRects[s].push({x:t,y:e,width:u,height:p});var m=l.globals.dataLabelsRects[s].length-2,v=l.globals.lastDrawnDataLabelsIndexes[s]!==void 0?l.globals.lastDrawnDataLabelsIndexes[s][l.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(l.globals.dataLabelsRects[s][m]!==void 0){var x=l.globals.dataLabelsRects[s][v];(t>x.x+x.width||e>x.y+x.height||e+p<x.y||t+u<x.x)&&(d=!0)}return(a===0||r)&&(d=!0),{x:t,y:e,textRects:f,drawnextLabel:d}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,s=t.pos,a=t.i,r=t.j,o=t.isRangeStart,l=t.strokeWidth,d=l===void 0?2:l,f=this.w,u=new Y(this.ctx),p=f.config.dataLabels,m=0,v=0,x=r,y=null;if(f.globals.collapsedSeriesIndices.indexOf(a)!==-1||!p.enabled||!Array.isArray(s.x))return y;y=u.group({class:"apexcharts-data-labels"});for(var _=0;_<s.x.length;_++)if(m=s.x[_]+p.offsetX,v=s.y[_]+p.offsetY+d,!isNaN(m)){r===1&&_===0&&(x=0),r===1&&_===1&&(x=1);var k=f.globals.series[a][x];i==="rangeArea"&&(k=o?f.globals.seriesRangeStart[a][x]:f.globals.seriesRangeEnd[a][x]);var C="",M=function(I){return f.config.dataLabels.formatter(I,{ctx:e.ctx,seriesIndex:a,dataPointIndex:x,w:f})};f.config.chart.type==="bubble"?(C=M(k=f.globals.seriesZ[a][x]),v=s.y[_],v=new mo(this.ctx).centerTextInBubble(v,a,x).y):k!==void 0&&(C=M(k));var S=f.config.dataLabels.textAnchor;f.globals.isSlopeChart&&(S=x===0?"end":x===f.config.series[a].data.length-1?"start":"middle"),this.plotDataLabelsText({x:m,y:v,text:C,i:a,j:x,parent:y,offsetCorrection:!0,dataLabelsConfig:f.config.dataLabels,textAnchor:S})}return y}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new Y(this.ctx),s=t.x,a=t.y,r=t.i,o=t.j,l=t.text,d=t.textAnchor,f=t.fontSize,u=t.parent,p=t.dataLabelsConfig,m=t.color,v=t.alwaysDrawDataLabel,x=t.offsetCorrection,y=t.className,_=null;if(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(r)<0)return _;var k={x:s,y:a,drawnextLabel:!0,textRects:null};x&&(k=this.dataLabelsCorrection(s,a,l,r,o,v,parseInt(p.style.fontSize,10))),e.globals.zoomed||(s=k.x,a=k.y),k.textRects&&(s<-20-k.textRects.width||s>e.globals.gridWidth+k.textRects.width+30)&&(l="");var C=e.globals.dataLabels.style.colors[r];((e.config.chart.type==="bar"||e.config.chart.type==="rangeBar")&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(C=e.globals.dataLabels.style.colors[o]),typeof C=="function"&&(C=C({series:e.globals.series,seriesIndex:r,dataPointIndex:o,w:e})),m&&(C=m);var M=p.offsetX,S=p.offsetY;if(e.config.chart.type!=="bar"&&e.config.chart.type!=="rangeBar"||(M=0,S=0),e.globals.isSlopeChart&&(o!==0&&(M=-2*p.offsetX+5),o!==0&&o!==e.config.series[r].data.length-1&&(M=0)),k.drawnextLabel){if((_=i.drawText({width:100,height:parseInt(p.style.fontSize,10),x:s+M,y:a+S,foreColor:C,textAnchor:d||p.textAnchor,text:l,fontSize:f||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"})).attr({class:y||"apexcharts-datalabel",cx:s,cy:a}),p.dropShadow.enabled){var I=p.dropShadow;new jt(this.ctx).dropShadow(_,I)}u.add(_),e.globals.lastDrawnDataLabelsIndexes[r]===void 0&&(e.globals.lastDrawnDataLabelsIndexes[r]=[]),e.globals.lastDrawnDataLabelsIndexes[r].push(o)}return _}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,s=i.config.dataLabels.background,a=s.padding,r=s.padding/2,o=e.width,l=e.height,d=new Y(this.ctx).drawRect(e.x-a,e.y-r/2,o+2*a,l+r,s.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new jt(this.ctx).dropShadow(d,s.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var t=this.w;if(t.config.chart.type!=="bubble")for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var s=e[i],a=s.getBBox(),r=null;if(a.width&&a.height&&(r=this.addBackgroundToDataLabel(s,a)),r){s.parentNode.insertBefore(r.node,s);var o=s.getAttribute("fill");t.config.chart.animations.enabled&&!t.globals.resized&&!t.globals.dataChanged?r.animate().attr({fill:o}):r.attr({fill:o}),s.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<e.length;s++)i&&i.insertBefore(e[s],i.nextSibling)}}]),h}(),le=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return K(h,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(O.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function s(a){for(var r=0;r<a.length;r++)a[r].index===e&&t.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w,a=O.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,t&&(e&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"highlightSeries",value:function(t){var e=this.w,i=this.getSeriesByName(t),s=parseInt(i?.getAttribute("data:realIndex"),10),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),r=null,o=null,l=null;if(e.globals.axisCharts||e.config.chart.type==="radialBar")if(e.globals.axisCharts){r=e.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"']")),o=e.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(s,"']"));var d=e.globals.seriesYAxisReverseMap[s];l=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else r=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"']"));else r=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"'] path"));for(var f=0;f<a.length;f++)a[f].classList.add(this.legendInactiveClass);if(r)e.globals.axisCharts||r.parentNode.classList.remove(this.legendInactiveClass),r.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var u=0;u<a.length;u++)a[u].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(t.type==="mousemove"){var a=parseInt(e.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[a])}else if(t.type==="mouseout")for(var r=0;r<s.length;r++)s[r].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),r=function(d){for(var f=0;f<a.length;f++)a[f].classList[d](i.legendInactiveClass)};if(t.type==="mousemove"){var o=parseInt(e.getAttribute("rel"),10)-1;r("add");var l=s.config.plotOptions.heatmap.colorScale.ranges;(function(d,f){for(var u=0;u<a.length;u++){var p=Number(a[u].getAttribute("val"));p>=d.from&&(p<d.to||d.to===f&&p===f)&&a[u].classList.remove(i.legendInactiveClass)}})(l[o],l.reduce(function(d,f){return Math.max(d,f.to)},0))}else t.type==="mouseout"&&r("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1){for(var a=i.config.series.map(function(o,l){return o.data&&o.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!i.globals.comboCharts||e.length===0||e.length&&e.indexOf(i.config.series[l].type)>-1)?l:-1}),r=t==="asc"?0:a.length-1;t==="asc"?r<a.length:r>=0;t==="asc"?r++:r--)if(a[r]!==-1){s=a[r];break}}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(t,e){return t.type==="bar"||t.type==="column"?e:-1}).filter(function(t){return t!==-1}):this.w.config.series.map(function(t,e){return e})}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(r,o,l){for(var d=r[o].childNodes,f={type:l,paths:[],realIndex:r[o].getAttribute("data:realIndex")},u=0;u<d.length;u++)if(d[u].hasAttribute("pathTo")){var p=d[u].getAttribute("pathTo");f.paths.push({d:p})}t.globals.previousPaths.push(f)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(r){for(var o,l=(o=r,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),d=0;d<l.length;d++)e(l,d,r)});var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(r){for(var o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(r,"'] rect")),l=[],d=function(u){var p=function(v){return o[u].getAttribute(v)},m={x:parseFloat(p("x")),y:parseFloat(p("y")),width:parseFloat(p("width")),height:parseFloat(p("height"))};l.push({rect:m,color:o[u].getAttribute("color")})},f=0;f<o.length;f++)d(f);t.globals.previousPaths.push(l)},a=0;a<i.length;a++)s(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new Y(this.ctx),s=t.globals.svgWidth/2,a=t.globals.svgHeight/2,r="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,e.align==="left"?(s=10,r="start"):e.align==="right"&&(s=t.globals.svgWidth-10,r="end"),e.verticalAlign==="top"?a=50:e.verticalAlign==="bottom"&&(a=t.globals.svgHeight-50),s+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,e.text!==void 0&&e.text!==""){var o=i.drawText({x:s,y:a,text:e.text,textAnchor:r,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(t[i].length===0)for(var s=0;s<t[e.globals.maxValsInArrayIndex].length;s++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map(function(e){return e.length>0?e:[]});return t}}]),h}(),en=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new zt(this.ctx)}return K(h,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new le(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].x!==void 0&&t[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new le(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==void 0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,s=this.w.globals,a=i.chart.type==="boxPlot"||i.series[e].type==="boxPlot",r=0;r<t[e].data.length;r++)if(t[e].data[r][1]!==void 0&&(Array.isArray(t[e].data[r][1])&&t[e].data[r][1].length===4&&!a?this.twoDSeries.push(O.parseNumber(t[e].data[r][1][3])):t[e].data[r].length>=5?this.twoDSeries.push(O.parseNumber(t[e].data[r][4])):this.twoDSeries.push(O.parseNumber(t[e].data[r][1])),s.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var o=new Date(t[e].data[r][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(t[e].data[r][0]);for(var l=0;l<t[e].data.length;l++)t[e].data[l][2]!==void 0&&(this.threeDSeries.push(t[e].data[l][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,s=this.w.globals,a=new Zt(this.ctx),r=e;s.collapsedSeriesIndices.indexOf(e)>-1&&(r=this.activeSeriesIndex);for(var o=0;o<t[e].data.length;o++)t[e].data[o].y!==void 0&&(Array.isArray(t[e].data[o].y)?this.twoDSeries.push(O.parseNumber(t[e].data[o].y[t[e].data[o].y.length-1])):this.twoDSeries.push(O.parseNumber(t[e].data[o].y))),t[e].data[o].goals!==void 0&&Array.isArray(t[e].data[o].goals)?(this.seriesGoals[e]===void 0&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[o].goals)):(this.seriesGoals[e]===void 0&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var l=0;l<t[r].data.length;l++){var d=typeof t[r].data[l].x=="string",f=Array.isArray(t[r].data[l].x),u=!f&&!!a.isValidDate(t[r].data[l].x);if(d||u)if(d||i.xaxis.convertedCatToNumeric){var p=s.isBarHorizontal&&s.isRangeData;i.xaxis.type!=="datetime"||p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[r].data[l].x),isNaN(t[r].data[l].x)||this.w.config.xaxis.type==="category"||typeof t[r].data[l].x=="string"||(s.isXNumeric=!0)):this.twoDSeriesX.push(a.parseDate(t[r].data[l].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(a.parseDate(t[r].data[l].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[r].data[l].x)));else f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[r].data[l].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[r].data[l].x))}if(t[e].data[0]&&t[e].data[0].z!==void 0){for(var m=0;m<t[e].data.length;m++)this.threeDSeries.push(t[e].data[m].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(s.start===void 0?[]:s.start),i.seriesRangeEnd.push(s.end===void 0?[]:s.end),i.seriesRange.push(s.rangeUniques),i.seriesRange.forEach(function(a,r){a&&a.forEach(function(o,l){o.y.forEach(function(d,f){for(var u=0;u<o.y.length;u++)if(f!==u){var p=d.y1,m=d.y2,v=o.y[u].y1;p<=o.y[u].y2&&v<=m&&(o.overlaps.indexOf(d.rangeName)<0&&o.overlaps.push(d.rangeName),o.overlaps.indexOf(o.y[u].rangeName)<0&&o.overlaps.push(o.y[u].rangeName))}})})}),s}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=s.o,i.seriesCandleH[e]=s.h,i.seriesCandleM[e]=s.m,i.seriesCandleL[e]=s.l,i.seriesCandleC[e]=s.c,s}},{key:"handleRangeDataFormat",value:function(t,e,i){var s=[],a=[],r=e[i].data.filter(function(f,u,p){return u===p.findIndex(function(m){return m.x===f.x})}).map(function(f,u){return{x:f.x,overlaps:[],y:[]}});if(t==="array")for(var o=0;o<e[i].data.length;o++)Array.isArray(e[i].data[o])?(s.push(e[i].data[o][1][0]),a.push(e[i].data[o][1][1])):(s.push(e[i].data[o]),a.push(e[i].data[o]));else if(t==="xy")for(var l=function(f){var u=Array.isArray(e[i].data[f].y),p=O.randomId(),m=e[i].data[f].x,v={y1:u?e[i].data[f].y[0]:e[i].data[f].y,y2:u?e[i].data[f].y[1]:e[i].data[f].y,rangeName:p};e[i].data[f].rangeName=p;var x=r.findIndex(function(y){return y.x===m});r[x].y.push(v),s.push(v.y1),a.push(v.y2)},d=0;d<e[i].data.length;d++)l(d);return{start:s,end:a,rangeUniques:r}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var s=this.w,a=s.config.chart.type==="boxPlot"||s.config.series[i].type==="boxPlot",r=[],o=[],l=[],d=[],f=[];if(t==="array")if(a&&e[i].data[0].length===6||!a&&e[i].data[0].length===5)for(var u=0;u<e[i].data.length;u++)r.push(e[i].data[u][1]),o.push(e[i].data[u][2]),a?(l.push(e[i].data[u][3]),d.push(e[i].data[u][4]),f.push(e[i].data[u][5])):(d.push(e[i].data[u][3]),f.push(e[i].data[u][4]));else for(var p=0;p<e[i].data.length;p++)Array.isArray(e[i].data[p][1])&&(r.push(e[i].data[p][1][0]),o.push(e[i].data[p][1][1]),a?(l.push(e[i].data[p][1][2]),d.push(e[i].data[p][1][3]),f.push(e[i].data[p][1][4])):(d.push(e[i].data[p][1][2]),f.push(e[i].data[p][1][3])));else if(t==="xy")for(var m=0;m<e[i].data.length;m++)Array.isArray(e[i].data[m].y)&&(r.push(e[i].data[m].y[0]),o.push(e[i].data[m].y[1]),a?(l.push(e[i].data[m].y[2]),d.push(e[i].data[m].y[3]),f.push(e[i].data[m].y[4])):(d.push(e[i].data[m].y[2]),f.push(e[i].data[m].y[3])));return{o:r,h:o,m:l,l:d,c:f}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,r=new Zt(i),o=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar=s.chart.type==="rangeBar"&&a.isBarHorizontal,a.hasXaxisGroups=s.xaxis.type==="category"&&s.xaxis.group.groups.length>0,a.hasXaxisGroups&&(a.groups=s.xaxis.group.groups),t.forEach(function(m,v){m.name!==void 0?a.seriesNames.push(m.name):a.seriesNames.push("series-"+parseInt(v+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],d=Yt(new Set(s.series.map(function(m){return m.group})));s.series.forEach(function(m,v){var x=d.indexOf(m.group);l[x]||(l[x]=[]),l[x].push(a.seriesNames[v])}),a.seriesGroups=l;for(var f=function(){for(var m=0;m<o.length;m++)if(typeof o[m]=="string"){if(!r.isValidDate(o[m]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(r.parseDate(o[m]))}else e.twoDSeriesX.push(o[m])},u=0;u<t.length;u++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],t[u].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"&&t[u].type!=="rangeBar"&&t[u].type!=="rangeArea"||(a.isRangeData=!0,s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"||this.handleRangeData(t,u)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,u):this.isFormatXY()&&this.handleFormatXY(t,u),s.chart.type!=="candlestick"&&t[u].type!=="candlestick"&&s.chart.type!=="boxPlot"&&t[u].type!=="boxPlot"||this.handleCandleStickBoxData(t,u),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,u!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{s.xaxis.type==="datetime"?(a.isXNumeric=!0,f(),a.seriesX.push(this.twoDSeriesX)):s.xaxis.type==="numeric"&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var p=t[u].data.map(function(m){return O.parseNumber(m)});a.series.push(p)}a.seriesZ.push(this.threeDSeries),t[u].color!==void 0?a.seriesColors.push(t[u].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)e.seriesNames[s]===void 0&&e.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(s){s.forEach(function(a){i.labels.indexOf(a.x)<0&&a.x&&i.labels.push(a.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),e.xaxis.convertedCatToNumeric&&(new Di(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,s=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map(function(u,p){return u.data.filter(function(m,v,x){return x.findIndex(function(y){return y.x===m.x})===v})}),r=a.reduce(function(u,p,m,v){return v[u].length>p.length?u:m},0),o=0;o<a[r].length;o++)s.push(o+1);else for(var l=0;l<e.series[e.maxValsInArrayIndex].length;l++)s.push(l+1);e.seriesX=[];for(var d=0;d<t.length;d++)e.seriesX.push(s);this.w.globals.isBarHorizontal||(e.isXNumeric=!0)}if(s.length===0){s=e.axisCharts?[]:e.series.map(function(u,p){return p+1});for(var f=0;f<t.length;f++)e.seriesX.push(s)}e.labels=s,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=s.map(function(u){return i.xaxis.labels.formatter(u)})),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,s=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),i.chart.stacked){var a=new le(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),s.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(t);for(var r=this.coreUtils.getCategoryLabels(s.labels),o=0;o<r.length;o++)if(Array.isArray(r[o])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this.w,e=[];t.globals.seriesYAxisMap.forEach(function(i,s){var a=0;i.forEach(function(r){t.globals.collapsedSeriesIndices.indexOf(r)!==-1&&a++}),a>0&&a==i.length&&e.push(s)}),t.globals.ignoreYAxisIndexes=e.map(function(i){return i})}}]),h}(),ks=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),s=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",s*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"getSvgString",value:function(){var t=this;return new Promise(function(e){var i=t.w,s=i.config.chart.toolbar.export.width,a=i.config.chart.toolbar.export.scale||s/i.globals.svgWidth;a||(a=1);var r=t.w.globals.dom.Paper.svg(),o=t.w.globals.dom.Paper.node.cloneNode(!0);a!==1&&t.scaleSvgNode(o,a),t.convertImagesToBase64(o).then(function(){r=new XMLSerializer().serializeToString(o),e(r.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(t){var e=this,i=t.getElementsByTagName("image"),s=Array.from(i).map(function(a){var r=a.getAttributeNS("http://www.w3.org/1999/xlink","href");return r&&!r.startsWith("data:")?e.getBase64FromUrl(r).then(function(o){a.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(s)}},{key:"getBase64FromUrl",value:function(t){return new Promise(function(e,i){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0),e(a.toDataURL())},s.onerror=i,s.src=t})}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,function(a){a.setAttribute("width",0)}),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var t=this;return new Promise(function(e){t.cleanup(),t.getSvgString().then(function(i){var s=new Blob([i],{type:"image/svg+xml;charset=utf-8"});e(URL.createObjectURL(s))})})}},{key:"dataURI",value:function(t){var e=this;return new Promise(function(i){var s=e.w,a=t?t.scale||t.width/s.globals.svgWidth:1;e.cleanup();var r=document.createElement("canvas");r.width=s.globals.svgWidth*a,r.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var o=s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",l=r.getContext("2d");l.fillStyle=o,l.fillRect(0,0,r.width*a,r.height*a),e.getSvgString().then(function(d){var f="data:image/svg+xml,"+encodeURIComponent(d),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(l.drawImage(u,0,0),r.msToBlob){var p=r.msToBlob();i({blob:p})}else{var m=r.toDataURL("image/png");i({imgURI:m})}},u.src=f})})}},{key:"exportToSVG",value:function(){var t=this;this.svgUrl().then(function(e){t.triggerDownload(e,t.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var t=this,e=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,s=e?{scale:e}:i?{width:i}:void 0;this.dataURI(s).then(function(a){var r=a.imgURI,o=a.blob;o?navigator.msSaveOrOpenBlob(o,t.w.globals.chartID+".png"):t.triggerDownload(r,t.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,s=t.fileName,a=t.columnDelimiter,r=a===void 0?",":a,o=t.lineDelimiter,l=o===void 0?`
`:o,d=this.w;i||(i=d.config.series);var f=[],u=[],p="",m=d.globals.series.map(function(S,I){return d.globals.collapsedSeriesIndices.indexOf(I)===-1?S:[]}),v=function(S){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(S):d.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():O.isNumber(S)?S:S.split(r).join("")},x=function(S){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(S):S},y=Math.max.apply(Math,Yt(i.map(function(S){return S.data?S.data.length:0}))),_=new en(this.ctx),k=new Ee(this.ctx),C=function(S){var I="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var P=d.globals.yLabelFormatters[0],T=new le(e.ctx).getActiveConfigSeriesIndex();I=P(d.globals.labels[S],{seriesIndex:T,dataPointIndex:S,w:d})}else I=k.getLabel(d.globals.labels,d.globals.timescaleLabels,0,S).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?I=d.config.xaxis.categories[S]:d.config.labels.length&&(I=d.config.labels[S]))}else I=d.config.labels[S];return I===null?"nullvalue":(Array.isArray(I)&&(I=I.join(" ")),O.isNumber(I)?I:I.split(r).join(""))},M=function(S,I){if(f.length&&I===0&&u.push(f.join(r)),S.data){S.data=S.data.length&&S.data||Yt(Array(y)).map(function(){return""});for(var P=0;P<S.data.length;P++){f=[];var T=C(P);if(T!=="nullvalue"){if(T||(_.isFormatXY()?T=i[I].data[P].x:_.isFormat2DArray()&&(T=i[I].data[P]?i[I].data[P][0]:"")),I===0){f.push(v(T));for(var E=0;E<d.globals.series.length;E++){var R,B=_.isFormatXY()?(R=i[E].data[P])===null||R===void 0?void 0:R.y:m[E][P];f.push(x(B))}}(d.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(f.pop(),f.push(d.globals.seriesCandleO[I][P]),f.push(d.globals.seriesCandleH[I][P]),f.push(d.globals.seriesCandleL[I][P]),f.push(d.globals.seriesCandleC[I][P])),(d.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(f.pop(),f.push(d.globals.seriesCandleO[I][P]),f.push(d.globals.seriesCandleH[I][P]),f.push(d.globals.seriesCandleM[I][P]),f.push(d.globals.seriesCandleL[I][P]),f.push(d.globals.seriesCandleC[I][P])),d.config.chart.type==="rangeBar"&&(f.pop(),f.push(d.globals.seriesRangeStart[I][P]),f.push(d.globals.seriesRangeEnd[I][P])),f.length&&u.push(f.join(r))}}}};f.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(f.push("minimum"),f.push("q1"),f.push("median"),f.push("q3"),f.push("maximum")):d.config.chart.type==="candlestick"?(f.push("open"),f.push("high"),f.push("low"),f.push("close")):d.config.chart.type==="rangeBar"?(f.push("minimum"),f.push("maximum")):i.map(function(S,I){var P=(S.name?S.name:"series-".concat(I))+"";d.globals.axisCharts&&f.push(P.split(r).join("")?P.split(r).join(""):"series-".concat(I))}),d.globals.axisCharts||(f.push(d.config.chart.toolbar.export.csv.headerValue),u.push(f.join(r))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?i.map(function(S,I){d.globals.axisCharts?M(S,I):((f=[]).push(v(d.globals.labels[I])),f.push(x(m[I])),u.push(f.join(r)))}):function(){var S=new Set,I={};i.forEach(function(P,T){P?.data.forEach(function(E){var R,B;if(_.isFormatXY())R=E.x,B=E.y;else{if(!_.isFormat2DArray())return;R=E[0],B=E[1]}I[R]||(I[R]=Array(i.length).fill("")),I[R][T]=x(B),S.add(R)})}),f.length&&u.push(f.join(r)),Array.from(S).sort().forEach(function(P){u.push([v(P),I[P].join(r)])})}(),p+=u.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+p),s||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var s=document.createElement("a");s.href=t,s.download=(e||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),h}(),Fi=function(){function h(t,e){$(this,h),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.axesUtils=new Ee(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return K(h,[{key:"drawXaxis",value:function(){var t=this.w,e=new Y(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),s=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(s);for(var a=[],r=0;r<this.xaxisLabels.length;r++)a.push(this.xaxisLabels[r]);if(this.drawXAxisLabelAndGroup(!0,e,s,a,t.globals.isXNumeric,function(v,x){return x}),t.globals.hasXaxisGroups){var o=t.globals.groups;a=[];for(var l=0;l<o.length;l++)a.push(o[l].title);var d={};t.config.xaxis.group.style&&(d.xaxisFontSize=t.config.xaxis.group.style.fontSize,d.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,d.xaxisForeColors=t.config.xaxis.group.style.colors,d.fontWeight=t.config.xaxis.group.style.fontWeight,d.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,s,a,!1,function(v,x){return o[v].cols*x},d)}if(t.config.xaxis.title.text!==void 0){var f=e.group({class:"apexcharts-xaxis-title"}),u=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(t.config.xaxis.position==="bottom"?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});f.add(u),i.add(f)}if(t.config.xaxis.axisBorder.show){var p=t.globals.barPadForNumericAxis,m=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(m):i.add(m)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,s,a,r){var o,l=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},f=[],u=[],p=this.w,m=d.xaxisFontSize||this.xaxisFontSize,v=d.xaxisFontFamily||this.xaxisFontFamily,x=d.xaxisForeColors||this.xaxisForeColors,y=d.fontWeight||p.config.xaxis.labels.style.fontWeight,_=d.cssClass||p.config.xaxis.labels.style.cssClass,k=p.globals.padHorizontal,C=s.length,M=p.config.xaxis.type==="category"?p.globals.dataPoints:C;if(M===0&&C>M&&(M=C),a){var S=M>1?M-1:M;o=p.globals.gridWidth/Math.min(S,C-1),k=k+r(0,o)/2+p.config.xaxis.labels.offsetX}else o=p.globals.gridWidth/M,k=k+r(0,o)+p.config.xaxis.labels.offsetX;for(var I=function(T){var E=k-r(T,o)/2+p.config.xaxis.labels.offsetX;T===0&&C===1&&o/2===k&&M===1&&(E=p.globals.gridWidth/2);var R=l.axesUtils.getLabel(s,p.globals.timescaleLabels,E,T,f,m,t),B=28;if(p.globals.rotateXLabels&&t&&(B=22),p.config.xaxis.title.text&&p.config.xaxis.position==="top"&&(B+=parseFloat(p.config.xaxis.title.style.fontSize)+2),t||(B=B+parseFloat(m)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),R=p.config.xaxis.tickAmount!==void 0&&p.config.xaxis.tickAmount!=="dataPoints"&&p.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(T,R,C):l.axesUtils.checkForOverflowingLabels(T,R,C,f,u),p.config.xaxis.labels.show){var H=e.drawText({x:R.x,y:l.offY+p.config.xaxis.labels.offsetY+B-(p.config.xaxis.position==="top"?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:R.text,textAnchor:"middle",fontWeight:R.isBold?600:y,fontSize:m,fontFamily:v,foreColor:Array.isArray(x)?t&&p.config.xaxis.convertedCatToNumeric?x[p.globals.minX+T-1]:x[T]:x,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+_});if(i.add(H),H.on("click",function(N){if(typeof p.config.chart.events.xAxisLabelClick=="function"){var q=Object.assign({},p,{labelIndex:T});p.config.chart.events.xAxisLabelClick(N,l.ctx,q)}}),t){var X=document.createElementNS(p.globals.SVGNS,"title");X.textContent=Array.isArray(R.text)?R.text.join(" "):R.text,H.node.appendChild(X),R.text!==""&&(f.push(R.text),u.push(R))}}T<C-1&&(k+=r(T+1,o))},P=0;P<=C-1;P++)I(P)}},{key:"drawXaxisInversed",value:function(t){var e,i,s=this,a=this.w,r=new Y(this.ctx),o=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,l=r.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),d=r.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(d);var f=[];if(a.config.yaxis[t].show)for(var u=0;u<this.xaxisLabels.length;u++)f.push(this.xaxisLabels[u]);e=a.globals.gridHeight/f.length,i=-e/2.2;var p=a.globals.yLabelFormatters[0],m=a.config.yaxis[0].labels;if(m.show)for(var v=function(S){var I=f[S]===void 0?"":f[S];I=p(I,{seriesIndex:t,dataPointIndex:S,w:a});var P=s.axesUtils.getYAxisForeColor(m.style.colors,t),T=0;Array.isArray(I)&&(T=I.length/2*parseInt(m.style.fontSize,10));var E=m.offsetX-15,R="end";s.yaxis.opposite&&(R="start"),a.config.yaxis[0].labels.align==="left"?(E=m.offsetX,R="start"):a.config.yaxis[0].labels.align==="center"?(E=m.offsetX,R="middle"):a.config.yaxis[0].labels.align==="right"&&(R="end");var B=r.drawText({x:E,y:i+e+m.offsetY-T,text:I,textAnchor:R,foreColor:Array.isArray(P)?P[S]:P,fontSize:m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+m.style.cssClass,maxWidth:m.maxWidth});d.add(B),B.on("click",function(N){if(typeof a.config.chart.events.xAxisLabelClick=="function"){var q=Object.assign({},a,{labelIndex:S});a.config.chart.events.xAxisLabelClick(N,s.ctx,q)}});var H=document.createElementNS(a.globals.SVGNS,"title");if(H.textContent=Array.isArray(I)?I.join(" "):I,B.node.appendChild(H),a.config.yaxis[t].labels.rotate!==0){var X=r.rotateAroundCenter(B.node);B.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(X.y,")"))}i+=e},x=0;x<=f.length-1;x++)v(x);if(a.config.yaxis[0].title.text!==void 0){var y=r.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),_=r.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});y.add(_),l.add(y)}var k=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(k=a.globals.gridWidth);var C=a.config.xaxis.axisBorder;if(C.show){var M=r.drawLine(a.globals.padHorizontal+C.offsetX+k,1+C.offsetY,a.globals.padHorizontal+C.offsetX+k,a.globals.gridHeight+C.offsetY,C.color,0);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(M):l.add(M)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,f.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,l),l}},{key:"drawXaxisTicks",value:function(t,e,i){var s=this.w,a=t;if(!(t<0||t-2>s.globals.gridWidth)){var r=this.offY+s.config.xaxis.axisTicks.offsetY;if(e=e+r+s.config.xaxis.axisTicks.height,s.config.xaxis.position==="top"&&(e=r-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var o=new Y(this.ctx).drawLine(t+s.config.xaxis.axisTicks.offsetX,r+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,e+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,s=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)s=this.xaxisLabels[a].position,e.push(s);else for(var r=i,o=0;o<r;o++){var l=r;t.globals.isXNumeric&&t.config.chart.type!=="bar"&&(l-=1),s+=t.globals.gridWidth/l,e.push(s)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new Y(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var o=0;o<s.length;o++){var l=e.rotateAroundCenter(s[o]);l.y=l.y-1,l.x=l.x+1,s[o].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),s[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var d=s[o].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,function(m){e.placeTextWithEllipsis(m,m.textContent,t.globals.xAxisLabelsHeight-(t.config.legend.position==="bottom"?20:10))})}else(function(){for(var m=t.globals.gridWidth/(t.globals.labels.length+1),v=0;v<s.length;v++){var x=s[v].childNodes;t.config.xaxis.labels.trim&&t.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(x,function(y){e.placeTextWithEllipsis(y,y.textContent,m)})}})();if(a.length>0){var f=a[a.length-1].getBBox(),u=a[0].getBBox();f.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),u.x+u.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var p=0;p<r.length;p++)e.placeTextWithEllipsis(r[p],r[p].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),h}(),xo=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new Ee(t),this.isRangeBar=e.globals.seriesRange.length&&e.globals.isBarHorizontal,e.globals.timescaleLabels.length>0&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}return K(h,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=this.w,i=new Y(this.ctx);t||(t=i.group({class:"apexcharts-grid"}));var s=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(s),t}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var t=this.renderGrid();return this.drawGridArea(t.el),t}return null}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new Y(this.ctx),s=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Yt(t.config.stroke.width)):t.config.stroke.width,a=function(f){var u=document.createElementNS(e.SVGNS,"clipPath");return u.setAttribute("id",f),u};e.dom.elGridRectMask=a("gridRectMask".concat(e.cuid)),e.dom.elGridRectBarMask=a("gridRectBarMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=a("gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=a("forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=a("nonForecastMask".concat(e.cuid));var r=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(t.config.chart.type)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(r=Math.max(t.config.grid.padding.left,e.barPadForNumericAxis),o=Math.max(t.config.grid.padding.right,e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(0,0,e.gridWidth,e.gridHeight,0,"#fff"),e.dom.elGridRectBar=i.drawRect(-s/2-r-2,-s/2-2,e.gridWidth+s+o+r+4,e.gridHeight+s+4,0,"#fff");var l=t.globals.markers.largestSize;e.dom.elGridRectMarker=i.drawRect(-l,-l,e.gridWidth+2*l,e.gridHeight+2*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectBarMask.appendChild(e.dom.elGridRectBar.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var d=e.dom.baseEl.querySelector("defs");d.appendChild(e.dom.elGridRectMask),d.appendChild(e.dom.elGridRectBarMask),d.appendChild(e.dom.elGridRectMarkerMask),d.appendChild(e.dom.elForecastMask),d.appendChild(e.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,r=t.y2,o=t.xCount,l=t.parent,d=this.w;if(!(e===0&&d.globals.skipFirstTimelinelabel||e===o-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:s,x2:a,y2:r,xCount:o,parent:l});var f=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var u=d.globals.groups;if(u){for(var p=0,m=0;p<e&&m<u.length;m++)p+=u[m].cols;p===e&&(f=.6*d.globals.xAxisLabelsHeight)}}new Fi(this.ctx).drawXaxisTicks(i,f,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,s=t.y1,a=t.x2,r=t.y2,o=t.xCount,l=t.parent,d=this.w,f=l.node.classList.contains("apexcharts-gridlines-horizontal"),u=d.globals.barPadForNumericAxis,p=s===0&&r===0||i===0&&a===0||s===d.globals.gridHeight&&r===d.globals.gridHeight||d.globals.isBarHorizontal&&(e===0||e===o-1),m=new Y(this).drawLine(i-(f?u:0),s,a+(f?u:0),r,d.config.grid.borderColor,d.config.grid.strokeDashArray);m.node.classList.add("apexcharts-gridline"),p&&d.config.grid.show?this.elGridBorders.add(m):l.add(m)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,s=t.y1,a=t.x2,r=t.y2,o=t.type,l=this.w,d=new Y(this.ctx),f=l.globals.barPadForNumericAxis,u=l.config.grid[o].colors[e],p=d.drawRect(i-(o==="row"?f:0),s,a+(o==="row"?2*f:0),r,0,u,l.config.grid[o].opacity);this.elg.add(p),p.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),p.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,s=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var r,o=a.globals.padHorizontal,l=a.globals.gridHeight;a.globals.timescaleLabels.length?function(v){for(var x=v.xC,y=v.x1,_=v.y1,k=v.x2,C=v.y2,M=0;M<x;M++)y=e.xaxisLabels[M].position,k=e.xaxisLabels[M].position,e._drawGridLines({i:M,x1:y,y1:_,x2:k,y2:C,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:o,y1:0,x2:r,y2:l}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),function(v){for(var x=v.xC,y=v.x1,_=v.y1,k=v.x2,C=v.y2,M=0;M<x+(a.globals.isXNumeric?0:1);M++)M===0&&x===1&&a.globals.dataPoints===1&&(k=y=a.globals.gridWidth/2),e._drawGridLines({i:M,x1:y,y1:_,x2:k,y2:C,xCount:i,parent:e.elgridLinesV}),k=y+=a.globals.gridWidth/(a.globals.isXNumeric?x-1:x)}({xC:i,x1:o,y1:0,x2:r,y2:l}))}if(a.config.grid.yaxis.lines.show){var d=0,f=0,u=a.globals.gridWidth,p=s+1;this.isRangeBar&&(p=a.globals.labels.length);for(var m=0;m<p+(this.isRangeBar?1:0);m++)this._drawGridLine({i:m,xCount:p+(this.isRangeBar?1:0),x1:0,y1:d,x2:u,y2:f,parent:this.elgridLinesH}),f=d+=a.globals.gridHeight/(this.isRangeBar?p:s)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,a=i.globals.padHorizontal,r=i.globals.gridHeight,o=0;o<e+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:e+1,x1:a,y1:0,x2:s,y2:r,parent:this.elgridLinesV}),new Fi(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),s=a+=i.globals.gridWidth/e;if(i.config.grid.yaxis.lines.show)for(var l=0,d=0,f=i.globals.gridWidth,u=0;u<i.globals.dataPoints+1;u++)this._drawGridLine({i:u,xCount:i.globals.dataPoints+1,x1:0,y1:l,x2:f,y2:d,parent:this.elgridLinesH}),d=l+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=t.globals,i=new Y(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s=0;s<e.seriesYAxisMap.length&&e.ignoreYAxisIndexes.includes(s);)s++;s===e.seriesYAxisMap.length&&(s=0);var a,r=e.yAxisScale[s].result.length-1;if(!e.isBarHorizontal||this.isRangeBar){var o,l,d;a=this.xaxisLabels.length,this.isRangeBar&&(r=e.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(a=t.config.xaxis.tickAmount),((o=e.yAxisScale)===null||o===void 0||(l=o[s])===null||l===void 0||(d=l.result)===null||d===void 0?void 0:d.length)>0&&t.config.xaxis.type!=="datetime"&&(a=e.yAxisScale[s].result.length-1)),this._drawXYLines({xCount:a,tickAmount:r})}else a=r,r=e.xTickAmount,this._drawInvertedXYLines({xCount:a,tickAmount:r});return this.drawGridBands(a,r),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.gridWidth/a}}},{key:"drawGridBands",value:function(t,e){var i,s,a=this,r=this.w;if(((i=r.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&function(v,x,y,_,k,C){for(var M=0,S=0;M<x;M++,S++)S>=r.config.grid[v].colors.length&&(S=0),a._drawGridBandRect({c:S,x1:y,y1:_,x2:k,y2:C,type:v}),_+=r.globals.gridHeight/e}("row",e,0,0,r.globals.gridWidth,r.globals.gridHeight/e),((s=r.config.grid.column.colors)===null||s===void 0?void 0:s.length)>0){var o=r.globals.isBarHorizontal||r.config.xaxis.tickPlacement!=="on"||r.config.xaxis.type!=="category"&&!r.config.xaxis.convertedCatToNumeric?t:t-1;r.globals.isXNumeric&&(o=r.globals.xAxisScale.result.length-1);for(var l=r.globals.padHorizontal,d=r.globals.padHorizontal+r.globals.gridWidth/o,f=r.globals.gridHeight,u=0,p=0;u<t;u++,p++){var m;p>=r.config.grid.column.colors.length&&(p=0),r.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[u].position,d=(((m=this.xaxisLabels[u+1])===null||m===void 0?void 0:m.position)||r.globals.gridWidth)-this.xaxisLabels[u].position),this._drawGridBandRect({c:p,x1:l,y1:0,x2:d,y2:f,type:"column"}),l+=r.globals.gridWidth/o}}}}]),h}(),vo=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.coreUtils=new zt(this.ctx)}return K(h,[{key:"niceScale",value:function(t,e){var i,s,a,r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,d=this.w,f=d.globals;f.isBarHorizontal?(i=d.config.xaxis,s=Math.max((f.svgWidth-100)/25,2)):(i=d.config.yaxis[o],s=Math.max((f.svgHeight-100)/15,2)),O.isNumber(s)||(s=10),a=i.min!==void 0&&i.min!==null,r=i.max!==void 0&&i.min!==null;var u=i.stepSize!==void 0&&i.stepSize!==null,p=i.tickAmount!==void 0&&i.tickAmount!==null,m=p?i.tickAmount:f.niceScaleDefaultTicks[Math.min(Math.round(s/2),f.niceScaleDefaultTicks.length-1)];if(f.isMultipleYAxis&&!p&&f.multiAxisTickAmount>0&&(m=f.multiAxisTickAmount,p=!0),m=m==="dataPoints"?f.dataPoints-1:Math.abs(Math.round(m)),(t===Number.MIN_VALUE&&e===0||!O.isNumber(t)&&!O.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)&&(t=O.isNumber(i.min)?i.min:0,e=O.isNumber(i.max)?i.max:t+m,f.allSeriesCollapsed=!1),t>e){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var v=e;e=t,t=v}else t===e&&(t=t===0?0:t-1,e=e===0?2:e+1);var x=[];m<1&&(m=1);var y=m,_=Math.abs(e-t);!a&&t>0&&t/_<.15&&(t=0,a=!0),!r&&e<0&&-e/_<.15&&(e=0,r=!0);var k=(_=Math.abs(e-t))/y,C=k,M=Math.floor(Math.log10(C)),S=Math.pow(10,M),I=Math.ceil(C/S);if(k=C=(I=f.niceScaleAllowedMagMsd[f.yValueDecimal===0?0:1][I])*S,f.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(k=i.stepSize,u=!0):u&&(k=i.stepSize),u&&i.forceNiceScale){var P=Math.floor(Math.log10(k));k*=Math.pow(10,M-P)}if(a&&r){var T=_/y;if(p)if(u)if(O.mod(_,k)!=0){var E=O.getGCD(k,T);k=T/E<10?E:T}else O.mod(k,T)==0?k=T:(T=k,p=!1);else k=T;else if(u)O.mod(_,k)==0?T=k:k=T;else if(O.mod(_,k)==0)T=k;else{T=_/(y=Math.ceil(_/k));var R=O.getGCD(_,k);_/R<s&&(T=R),k=T}y=Math.round(_/k)}else{if(a||r){if(r)if(p)t=e-k*y;else{var B=t;t=k*Math.floor(t/k),Math.abs(e-t)/O.getGCD(_,k)>s&&(t=e-k*m,t+=k*Math.floor((B-t)/k))}else if(a)if(p)e=t+k*y;else{var H=e;e=k*Math.ceil(e/k),Math.abs(e-t)/O.getGCD(_,k)>s&&(e=t+k*m,e+=k*Math.ceil((H-e)/k))}}else if(f.isMultipleYAxis&&p){var X=k*Math.floor(t/k),N=X+k*y;N<e&&(k*=2),N=e,e=(t=X)+k*y,_=Math.abs(e-t),t>0&&t<Math.abs(N-e)&&(t=0,e=k*y),e<0&&-e<Math.abs(X-t)&&(e=0,t=-k*y)}else t=k*Math.floor(t/k),e=k*Math.ceil(e/k);_=Math.abs(e-t),k=O.getGCD(_,k),y=Math.round(_/k)}if(p||a||r||(y=Math.ceil((_-l)/(k+l)))>16&&O.getPrimeFactors(y).length<2&&y++,!p&&i.forceNiceScale&&f.yValueDecimal===0&&y>_&&(y=_,k=Math.round(_/y)),y>s&&(!p&&!u||i.forceNiceScale)){var q=O.getPrimeFactors(y),V=q.length-1,tt=y;t:for(var G=0;G<V;G++)for(var at=0;at<=V-G;at++){for(var Z=Math.min(at+G,V),J=tt,ft=1,pt=at;pt<=Z;pt++)ft*=q[pt];if((J/=ft)<s){tt=J;break t}}k=tt===y?_:_/tt,y=Math.round(_/k)}f.isMultipleYAxis&&f.multiAxisTickAmount==0&&f.ignoreYAxisIndexes.indexOf(o)<0&&(f.multiAxisTickAmount=y);var rt=t-k,lt=k*l;do rt+=k,x.push(O.stripNumber(rt,7));while(e-rt>lt);return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,r=Math.abs(e-t),o=[];if(t===e)return{result:o=[t],niceMin:o[0],niceMax:o[o.length-1]};(i=this._adjustTicksForSmallRange(i,s,r))==="dataPoints"&&(i=this.w.globals.dataPoints-1),a||(a=r/i),a=Math.round(10*(a+Number.EPSILON))/10,i===Number.MAX_VALUE&&(i=5,a=1);for(var l=t;i>=0;)o.push(l),l=O.preciseAddition(l,a),i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),r=Math.floor(Math.log(t)/Math.log(i));r<a;r++)s.push(Math.pow(i,r));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var s=[],a=Math.log(e)/Math.log(i),r=Math.log(t)/Math.log(i),o=a-r,l=Math.round(o),d=o/l,f=0,u=r;f<l;f++,u+=d)s.push(Math.pow(i,u));return s.push(Math.pow(i,a)),{result:s,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var s=t;if(e!==void 0&&this.w.config.yaxis[e].labels.formatter&&this.w.config.yaxis[e].tickAmount===void 0){var a=Number(this.w.config.yaxis[e].labels.formatter(1));O.isNumber(a)&&this.w.globals.yValueDecimal===0&&(s=Math.ceil(i))}return s<t?s:t}},{key:"setYScaleForIndex",value:function(t,e,i){var s=this.w.globals,a=this.w.config,r=s.isBarHorizontal?a.xaxis:a.yaxis[t];s.yAxisScale[t]===void 0&&(s.yAxisScale[t]=[]);var o=Math.abs(i-e);r.logarithmic&&o<=5&&(s.invalidLogScale=!0),r.logarithmic&&o>5?(s.allSeriesCollapsed=!1,s.yAxisScale[t]=r.forceNiceScale?this.logarithmicScaleNice(e,i,r.logBase):this.logarithmicScale(e,i,r.logBase)):i!==-Number.MAX_VALUE&&O.isNumber(i)&&e!==Number.MAX_VALUE&&O.isNumber(e)?(s.allSeriesCollapsed=!1,s.yAxisScale[t]=this.niceScale(e,i,t)):s.yAxisScale[t]=this.niceScale(Number.MIN_VALUE,0,t)}},{key:"setXScale",value:function(t,e){var i=this.w,s=i.globals,a=Math.abs(e-t);if(e!==-Number.MAX_VALUE&&O.isNumber(e)){var r=s.xTickAmount+1;a<10&&a>1&&(r=a),s.xAxisScale=this.linearScale(t,e,r,0,i.config.xaxis.stepSize)}else s.xAxisScale=this.linearScale(0,10,10);return s.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var t=this,e=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var s=i.seriesYAxisMap,a=i.minYArr,r=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],s.forEach(function(o,l){var d=[];o.forEach(function(f){var u=e.series[f].group;d.indexOf(u)<0&&d.push(u)}),o.length>0?function(){var f,u,p=Number.MAX_VALUE,m=-Number.MAX_VALUE,v=p,x=m;if(e.chart.stacked)(function(){var k=new Array(i.dataPoints).fill(0),C=[],M=[],S=[];d.forEach(function(){C.push(k.map(function(){return Number.MIN_VALUE})),M.push(k.map(function(){return Number.MIN_VALUE})),S.push(k.map(function(){return Number.MIN_VALUE}))});for(var I=function(T){!f&&e.series[o[T]].type&&(f=e.series[o[T]].type);var E=o[T];u=e.series[E].group?e.series[E].group:"axis-".concat(l),!(i.collapsedSeriesIndices.indexOf(E)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(E)<0)||(i.allSeriesCollapsed=!1,d.forEach(function(R,B){if(e.series[E].group===R)for(var H=0;H<i.series[E].length;H++){var X=i.series[E][H];X>=0?M[B][H]+=X:S[B][H]+=X,C[B][H]+=X,v=Math.min(v,X),x=Math.max(x,X)}})),f!=="bar"&&f!=="column"||i.barGroups.push(u)},P=0;P<o.length;P++)I(P);f||(f=e.chart.type),f==="bar"||f==="column"?d.forEach(function(T,E){p=Math.min(p,Math.min.apply(null,S[E])),m=Math.max(m,Math.max.apply(null,M[E]))}):(d.forEach(function(T,E){v=Math.min(v,Math.min.apply(null,C[E])),x=Math.max(x,Math.max.apply(null,C[E]))}),p=v,m=x),p===Number.MIN_VALUE&&m===Number.MIN_VALUE&&(m=-Number.MAX_VALUE)})();else for(var y=0;y<o.length;y++){var _=o[y];p=Math.min(p,a[_]),m=Math.max(m,r[_]),!(i.collapsedSeriesIndices.indexOf(_)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(_)<0)||(i.allSeriesCollapsed=!1)}e.yaxis[l].min!==void 0&&(p=typeof e.yaxis[l].min=="function"?e.yaxis[l].min(p):e.yaxis[l].min),e.yaxis[l].max!==void 0&&(m=typeof e.yaxis[l].max=="function"?e.yaxis[l].max(m):e.yaxis[l].max),i.barGroups=i.barGroups.filter(function(k,C,M){return M.indexOf(k)===C}),t.setYScaleForIndex(l,p,m),o.forEach(function(k){a[k]=i.yAxisScale[l].niceMin,r[k]=i.yAxisScale[l].niceMax})}():t.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),h}(),Ba=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.scales=new vo(t)}return K(h,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w.config,r=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;s===null&&(s=t+1);var d=r.series,f=d,u=d;a.chart.type==="candlestick"?(f=r.seriesCandleL,u=r.seriesCandleH):a.chart.type==="boxPlot"?(f=r.seriesCandleO,u=r.seriesCandleC):r.isRangeData&&(f=r.seriesRangeStart,u=r.seriesRangeEnd);var p=!1;if(r.seriesX.length>=s){var m,v=(m=r.brushSource)===null||m===void 0?void 0:m.w.config.chart.brush;(a.chart.zoom.enabled&&a.chart.zoom.autoScaleYaxis||v!=null&&v.enabled&&v!=null&&v.autoScaleYaxis)&&(p=!0)}for(var x=t;x<s;x++){r.dataPoints=Math.max(r.dataPoints,d[x].length);var y=a.series[x].type;r.categoryLabels.length&&(r.dataPoints=r.categoryLabels.filter(function(S){return S!==void 0}).length),r.labels.length&&a.xaxis.type!=="datetime"&&r.series.reduce(function(S,I){return S+I.length},0)!==0&&(r.dataPoints=Math.max(r.dataPoints,r.labels.length));var _=0,k=d[x].length-1;if(p){if(a.xaxis.min)for(;_<k&&r.seriesX[x][_]<a.xaxis.min;_++);if(a.xaxis.max)for(;k>_&&r.seriesX[x][k]>a.xaxis.max;k--);}for(var C=_;C<=k&&C<r.series[x].length;C++){var M=d[x][C];if(M!==null&&O.isNumber(M)){switch(u[x][C]!==void 0&&(o=Math.max(o,u[x][C]),e=Math.min(e,u[x][C])),f[x][C]!==void 0&&(e=Math.min(e,f[x][C]),i=Math.max(i,f[x][C])),y){case"candlestick":r.seriesCandleC[x][C]!==void 0&&(o=Math.max(o,r.seriesCandleH[x][C]),e=Math.min(e,r.seriesCandleL[x][C]));break;case"boxPlot":r.seriesCandleC[x][C]!==void 0&&(o=Math.max(o,r.seriesCandleC[x][C]),e=Math.min(e,r.seriesCandleO[x][C]))}y&&y!=="candlestick"&&y!=="boxPlot"&&y!=="rangeArea"&&y!=="rangeBar"&&(o=Math.max(o,r.series[x][C]),e=Math.min(e,r.series[x][C])),r.seriesGoals[x]&&r.seriesGoals[x][C]&&Array.isArray(r.seriesGoals[x][C])&&r.seriesGoals[x][C].forEach(function(S){o=Math.max(o,S.value),e=Math.min(e,S.value)}),i=o,O.isFloat(M)&&(M=O.noExponents(M),r.yValueDecimal=Math.max(r.yValueDecimal,M.toString().split(".")[1].length)),l>f[x][C]&&f[x][C]<0&&(l=f[x][C])}else r.hasNullValues=!0}y!=="bar"&&y!=="column"||(l<0&&o<0&&(o=0,i=Math.max(i,0)),l===Number.MIN_VALUE&&(l=0,e=Math.min(e,0)))}return a.chart.type==="rangeBar"&&r.seriesRangeStart.length&&r.isBarHorizontal&&(l=e),a.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i,s=Number.MAX_VALUE;if(t.isMultipleYAxis){s=Number.MAX_VALUE;for(var a=0;a<t.series.length;a++)i=this.getMinYMaxY(a),t.minYArr[a]=i.lowestY,t.maxYArr[a]=i.highestY,s=Math.min(s,i.lowestY)}return i=this.getMinYMaxY(0,s,null,t.series.length),e.chart.type==="bar"?(t.minY=i.minY,t.maxY=i.maxY):(t.minY=i.lowestY,t.maxY=i.highestY),s=i.lowestY,e.chart.stacked&&this._setStackedMinMax(),e.chart.type==="line"||e.chart.type==="area"||e.chart.type==="scatter"||e.chart.type==="candlestick"||e.chart.type==="boxPlot"||e.chart.type==="rangeBar"&&!t.isBarHorizontal?t.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==t.maxY&&(t.minY=s):t.minY=t.minY!==Number.MIN_VALUE?Math.min(i.minY,t.minY):i.minY,e.yaxis.forEach(function(r,o){r.max!==void 0&&(typeof r.max=="number"?t.maxYArr[o]=r.max:typeof r.max=="function"&&(t.maxYArr[o]=r.max(t.isMultipleYAxis?t.maxYArr[o]:t.maxY)),t.maxY=t.maxYArr[o]),r.min!==void 0&&(typeof r.min=="number"?t.minYArr[o]=r.min:typeof r.min=="function"&&(t.minYArr[o]=r.min(t.isMultipleYAxis?t.minYArr[o]===Number.MIN_VALUE?0:t.minYArr[o]:t.minY)),t.minY=t.minYArr[o])}),t.isBarHorizontal&&["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&typeof e.xaxis[r]=="number"&&(r==="min"?t.minY=e.xaxis[r]:t.maxY=e.xaxis[r])}),t.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),t.minY=s):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.minY,t.maxYArr[0]=t.maxY),t.barGroups=[],t.lineGroups=[],t.areaGroups=[],e.series.forEach(function(r){switch(r.type||e.chart.type){case"bar":case"column":t.barGroups.push(r.group);break;case"line":t.lineGroups.push(r.group);break;case"area":t.areaGroups.push(r.group)}}),t.barGroups=t.barGroups.filter(function(r,o,l){return l.indexOf(r)===o}),t.lineGroups=t.lineGroups.filter(function(r,o,l){return l.indexOf(r)===o}),t.areaGroups=t.areaGroups.filter(function(r,o,l){return l.indexOf(r)===o}),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i=e.xaxis.type==="numeric"||e.xaxis.type==="datetime"||e.xaxis.type==="category"&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var l=0;l<t.series.length;l++)if(t.labels[l])for(var d=0;d<t.labels[l].length;d++)t.labels[l][d]!==null&&O.isNumber(t.labels[l][d])&&(t.maxX=Math.max(t.maxX,t.labels[l][d]),t.initialMaxX=Math.max(t.maxX,t.labels[l][d]),t.minX=Math.min(t.minX,t.labels[l][d]),t.initialMinX=Math.min(t.minX,t.labels[l][d]))}(),t.noLabelsProvided&&e.xaxis.categories.length===0&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var s=10;if(e.xaxis.tickAmount===void 0)s=Math.round(t.svgWidth/150),e.xaxis.type==="numeric"&&t.dataPoints<30&&(s=t.dataPoints-1),s>t.dataPoints&&t.dataPoints!==0&&(s=t.dataPoints-1);else if(e.xaxis.tickAmount==="dataPoints"){if(t.series.length>1&&(s=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric){var a=t.maxX-t.minX;a<30&&(s=a-1)}}else s=e.xaxis.tickAmount;if(t.xTickAmount=s,e.xaxis.max!==void 0&&typeof e.xaxis.max=="number"&&(t.maxX=e.xaxis.max),e.xaxis.min!==void 0&&typeof e.xaxis.min=="number"&&(t.minX=e.xaxis.min),e.xaxis.range!==void 0&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var r=[],o=t.minX-1;o<t.maxX;o++)r.push(o+1);t.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(0,s,s,0,e.xaxis.stepSize),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,s-1,0,e.xaxis.stepSize),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ){for(var e=0;e<t.series.length;e++)if(t.seriesZ[e]!==void 0)for(var i=0;i<t.seriesZ[e].length;i++)t.seriesZ[e][i]!==null&&O.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new Zt(this.ctx);if(e.xaxis.type==="datetime"){var s=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),t.minX=new Date(s).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else(e.xaxis.type==="numeric"||e.xaxis.type==="category"&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach(function(e,i){e.length===1&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var s=e.slice();s.sort(function(a,r){return a-r}),s.forEach(function(a,r){if(r>0){var o=a-s[r-1];o>0&&(t.minXDiff=Math.min(o,t.minXDiff))}}),t.dataPoints!==1&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var t=this,e=this.w.globals;if(e.series.length){var i=e.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(r){return r})]);var s={},a={};i.forEach(function(r){s[r]=[],a[r]=[],t.w.config.series.map(function(o,l){return r.indexOf(e.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<e.series[e.maxValsInArrayIndex].length;l++){var d,f,u,p;s[r][l]===void 0&&(s[r][l]=0,a[r][l]=0),(t.w.config.chart.stacked&&!e.comboCharts||t.w.config.chart.stacked&&e.comboCharts&&(!t.w.config.chart.stackOnlyBar||((d=t.w.config.series)===null||d===void 0||(f=d[o])===null||f===void 0?void 0:f.type)==="bar"||((u=t.w.config.series)===null||u===void 0||(p=u[o])===null||p===void 0?void 0:p.type)==="column"))&&e.series[o][l]!==null&&O.isNumber(e.series[o][l])&&(e.series[o][l]>0?s[r][l]+=parseFloat(e.series[o][l])+1e-4:a[r][l]+=parseFloat(e.series[o][l]))}})}),Object.entries(s).forEach(function(r){var o=Fr(r,1)[0];s[o].forEach(function(l,d){e.maxY=Math.max(e.maxY,s[o][d]),e.minY=Math.min(e.minY,a[o][d])})})}}}]),h}(),sn=function(){function h(t,e){$(this,h),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ee(t)}return K(h,[{key:"drawYaxis",value:function(t){var e=this.w,i=new Y(this.ctx),s=e.config.yaxis[t].labels.style,a=s.fontSize,r=s.fontFamily,o=s.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:t,transform:"translate(".concat(e.globals.translateYAxisX[t],", 0)")});if(this.axesUtils.isYAxisHidden(t))return l;var d=i.group({class:"apexcharts-yaxis-texts-g"});l.add(d);var f=e.globals.yAxisScale[t].result.length-1,u=e.globals.gridHeight/f,p=e.globals.yLabelFormatters[t],m=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice());if(e.config.yaxis[t].labels.show){var v=e.globals.translateY+e.config.yaxis[t].labels.offsetY;e.globals.isBarHorizontal?v=0:e.config.chart.type==="heatmap"&&(v-=u/2),v+=parseInt(a,10)/3;for(var x=f;x>=0;x--){var y=p(m[x],x,e),_=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&e.config.yaxis.length!==0&&(_*=-1);var k=this.getTextAnchor(e.config.yaxis[t].labels.align,e.config.yaxis[t].opposite),C=this.axesUtils.getYAxisForeColor(s.colors,t),M=Array.isArray(C)?C[x]:C,S=O.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-label tspan"))).map(function(P){return P.textContent}),I=i.drawText({x:_,y:v,text:S.includes(y)&&!e.config.yaxis[t].labels.showDuplicates?"":y,textAnchor:k,fontSize:a,fontFamily:r,fontWeight:o,maxWidth:e.config.yaxis[t].labels.maxWidth,foreColor:M,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(s.cssClass)});d.add(I),this.addTooltip(I,y),e.config.yaxis[t].labels.rotate!==0&&this.rotateLabel(i,I,firstLabel,e.config.yaxis[t].labels.rotate),v+=u}}return this.addYAxisTitle(i,l,t),this.addAxisBorder(i,l,t,f,u),l}},{key:"getTextAnchor",value:function(t,e){return t==="left"?"start":t==="center"?"middle":t==="right"?"end":e?"start":"end"}},{key:"addTooltip",value:function(t,e){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(e)?e.join(" "):e,t.node.appendChild(i)}},{key:"rotateLabel",value:function(t,e,i,s){var a=t.rotateAroundCenter(i.node),r=t.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(".concat(s," ").concat(a.x," ").concat(r.y,")"))}},{key:"addYAxisTitle",value:function(t,e,i){var s=this.w;if(s.config.yaxis[i].title.text!==void 0){var a=t.group({class:"apexcharts-yaxis-title"}),r=s.config.yaxis[i].opposite?s.globals.translateYAxisX[i]:0,o=t.drawText({x:r,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[i].title.offsetY,text:s.config.yaxis[i].title.text,textAnchor:"end",foreColor:s.config.yaxis[i].title.style.color,fontSize:s.config.yaxis[i].title.style.fontSize,fontWeight:s.config.yaxis[i].title.style.fontWeight,fontFamily:s.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(s.config.yaxis[i].title.style.cssClass)});a.add(o),e.add(a)}}},{key:"addAxisBorder",value:function(t,e,i,s,a){var r=this.w,o=r.config.yaxis[i].axisBorder,l=31+o.offsetX;if(r.config.yaxis[i].opposite&&(l=-31-o.offsetX),o.show){var d=t.drawLine(l,r.globals.translateY+o.offsetY-2,l,r.globals.gridHeight+r.globals.translateY+o.offsetY+2,o.color,0,o.width);e.add(d)}r.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,s,o,r.config.yaxis[i].axisTicks,i,a,e)}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new Y(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(a);var r=e.globals.yAxisScale[t].result.length-1,o=e.globals.gridWidth/r+.1,l=o+e.config.xaxis.labels.offsetX,d=e.globals.xLabelFormatter,f=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice()),u=e.globals.timescaleLabels;if(u.length>0&&(this.xaxisLabels=u.slice(),r=(f=u.slice()).length),e.config.xaxis.labels.show)for(var p=u.length?0:r;u.length?p<u.length:p>=0;u.length?p++:p--){var m=d(f[p],p,e),v=e.globals.gridWidth+e.globals.padHorizontal-(l-o+e.config.xaxis.labels.offsetX);if(u.length){var x=this.axesUtils.getLabel(f,u,v,p,this.drawnLabels,this.xaxisFontSize);v=x.x,m=x.text,this.drawnLabels.push(x.text),p===0&&e.globals.skipFirstTimelinelabel&&(m=""),p===f.length-1&&e.globals.skipLastTimelinelabel&&(m="")}var y=i.drawText({x:v,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-(e.config.xaxis.position==="top"?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:m,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(e.config.xaxis.labels.style.cssClass)});a.add(y),y.tspan(m),this.addTooltip(y,m),l+=o}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new Y(this.ctx),s=e.config.xaxis.axisBorder;if(s.show){var a=0;e.config.chart.type==="bar"&&e.globals.isXNumeric&&(a-=15);var r=i.drawLine(e.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(r):t.add(r)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new Y(this.ctx);if(e.config.xaxis.title.text!==void 0){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(e.config.xaxis.title.style.cssClass)});s.add(a),t.add(s)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,s=new Y(this.ctx),a=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),r=a?a.getBoundingClientRect():{width:0,height:0},o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var d=this.xPaddingForYAxisTitle(t,r,l,e);o.setAttribute("x",d.xPos-(e?10:0));var f=s.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(f.x," ").concat(f.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,s){var a=this.w,r=0,o=10;return a.config.yaxis[t].title.text===void 0||t<0?{xPos:r,padd:0}:(s?r=e.width+a.config.yaxis[t].title.offsetX+i.width/2+o/2:(r=-1*e.width+a.config.yaxis[t].title.offsetX+o/2+i.width/2,a.globals.isBarHorizontal&&(o=25,r=-1*e.width-a.config.yaxis[t].title.offsetX-o)),{xPos:r,padd:o})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,s=0,a=0,r=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(l,d){var f=i.globals.ignoreYAxisIndexes.includes(d)||!l.show||l.floating||t[d].width===0,u=t[d].width+e[d].width;l.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[d]=a-l.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+o,f||(o+=u+20),i.globals.translateYAxisX[d]=a-l.labels.offsetX+20):(s=i.globals.translateX-r,f||(r+=u+20),i.globals.translateYAxisX[d]=s+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var t=this.w;O.listToArray(t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(e,i){var s=t.config.yaxis[i];if(s&&!s.floating&&s.labels.align!==void 0){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),r=O.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),o=a.getBoundingClientRect();r.forEach(function(l){l.setAttribute("text-anchor",s.labels.align)}),s.labels.align!=="left"||s.opposite?s.labels.align==="center"?a.setAttribute("transform","translate(".concat(o.width/2*(s.opposite?1:-1),", 0)")):s.labels.align==="right"&&s.opposite&&a.setAttribute("transform","translate(".concat(o.width,", 0)")):a.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),h}(),Rh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.documentEvent=O.bind(this.documentEvent,this)}return K(h,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var s=i.globals.events[t].indexOf(e);s!==-1&&i.globals.events[t].splice(s,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var s=i.globals.events[t],a=s.length,r=0;r<a;r++)s[r].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,s=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach(function(a){s.addEventListener(a,function(r){var o=Object.assign({},e,{seriesIndex:e.globals.axisCharts?e.globals.capturedSeriesIndex:0,dataPointIndex:e.globals.capturedDataPointIndex});r.type==="mousemove"||r.type==="touchmove"?typeof e.config.chart.events.mouseMove=="function"&&e.config.chart.events.mouseMove(r,i,o):r.type==="mouseleave"||r.type==="touchleave"?typeof e.config.chart.events.mouseLeave=="function"&&e.config.chart.events.mouseLeave(r,i,o):(r.type==="mouseup"&&r.which===1||r.type==="touchend")&&(typeof e.config.chart.events.click=="function"&&e.config.chart.events.click(r,i,o),i.ctx.events.fireEvent("click",[r,i,o]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(a){e.globals.dom.baseEl.addEventListener(a,t.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if(t.type==="click"){var s=e.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&s.classList.remove("apexcharts-menu-open")}e.globals.clientX=t.type==="touchmove"?t.touches[0].clientX:t.clientX,e.globals.clientY=t.type==="touchmove"?t.touches[0].clientY:t.clientY}}]),h}(),Bh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter(function(a){return a.name===t})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=O.extend(go,i);this.w.globals.locale=s.options}}]),h}(),Dh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"drawAxis",value:function(t,e){var i,s,a=this,r=this.w.globals,o=this.w.config,l=new Fi(this.ctx,e),d=new sn(this.ctx,e);r.axisCharts&&t!=="radar"&&(r.isBarHorizontal?(s=d.drawYaxisInversed(0),i=l.drawXaxisInversed(0),r.dom.elGraphical.add(i),r.dom.elGraphical.add(s)):(i=l.drawXaxis(),r.dom.elGraphical.add(i),o.yaxis.map(function(f,u){if(r.ignoreYAxisIndexes.indexOf(u)===-1&&(s=d.drawYaxis(u),r.dom.Paper.add(s),a.w.config.grid.position==="back")){var p=r.dom.Paper.children()[1];p.remove(),r.dom.Paper.add(p)}})))}}]),h}(),Da=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new Y(this.ctx),i=new jt(this.ctx),s=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,r=t.config.xaxis.crosshairs.fill.type,o=s.colorFrom,l=s.colorTo,d=s.opacityFrom,f=s.opacityTo,u=s.stops,p=a.enabled,m=a.left,v=a.top,x=a.blur,y=a.color,_=a.opacity,k=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){r==="gradient"&&(k=e.drawGradient("vertical",o,l,d,f,null,u,null));var C=e.drawRect();t.config.xaxis.crosshairs.width===1&&(C=e.drawLine());var M=t.globals.gridHeight;(!O.isNumber(M)||M<0)&&(M=0);var S=t.config.xaxis.crosshairs.width;(!O.isNumber(S)||S<0)&&(S=0),C.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:M,width:S,height:M,fill:k,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),p&&(C=i.dropShadow(C,{left:m,top:v,blur:x,color:y,opacity:_})),t.globals.dom.elGraphical.add(C)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new Y(this.ctx),i=t.config.yaxis[0].crosshairs,s=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var r=e.drawLine(-s,0,t.globals.gridWidth+s,0,i.stroke.color,0,0);r.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(r)}}]),h}(),Hh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,s=i.config;if(s.responsive.length!==0){var a=s.responsive.slice();a.sort(function(d,f){return d.breakpoint>f.breakpoint?1:f.breakpoint>d.breakpoint?-1:0}).reverse();var r=new Hi({}),o=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a[0].breakpoint,u=window.innerWidth>0?window.innerWidth:screen.width;if(u>f){var p=O.clone(i.globals.initialConfig);p.series=O.clone(i.config.series);var m=zt.extendArrayProps(r,p,i);d=O.extend(m,d),d=O.extend(i.config,d),e.overrideResponsiveOptions(d)}else for(var v=0;v<a.length;v++)u<a[v].breakpoint&&(d=zt.extendArrayProps(r,a[v].options,i),d=O.extend(i.config,d),e.overrideResponsiveOptions(d))};if(t){var l=zt.extendArrayProps(r,t,i);l=O.extend(i.config,l),o(l=O.extend(l,t))}else o({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new Hi(t).init({responsiveOverride:!0});this.w.config=e}}]),h}(),Fh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return K(h,[{key:"checkHeatmapDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return e.type==="treemap"&&i.treemap&&i.treemap.distributed||e.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return i.bar&&i.bar.distributed&&(e.type==="bar"||e.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,e=new O;t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode));var i=Yt(t.config.colors||t.config.fill.colors||[]);t.globals.colors=this.getColors(i),this.applySeriesColors(t.globals.seriesColors,t.globals.colors),t.config.theme.monochrome.enabled&&(t.globals.colors=this.getMonochromeColors(t.config.theme.monochrome,t.globals.series,e));var s=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),this.applyColorTypes(["fill","stroke"],s),this.applyDataLabelsColors(s),this.applyRadarPolygonsColors(),this.applyMarkersColors(s)}},{key:"getColors",value:function(t){var e=this,i=this.w;return t&&t.length!==0?Array.isArray(t)&&t.length>0&&typeof t[0]=="function"?(this.isColorFn=!0,i.config.series.map(function(s,a){var r=t[a]||t[0];return typeof r=="function"?r({value:i.globals.axisCharts?i.globals.series[a][0]||0:i.globals.series[a],seriesIndex:a,dataPointIndex:a,w:e.w}):r})):t:this.predefined()}},{key:"applySeriesColors",value:function(t,e){t.forEach(function(i,s){i&&(e[s]=i)})}},{key:"getMonochromeColors",value:function(t,e,i){var s=t.color,a=t.shadeIntensity,r=t.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?e[0].length*e.length:e.length,l=1/(o/a),d=0;return Array.from({length:o},function(){var f=r==="dark"?i.shadeColor(-1*d,s):i.shadeColor(d,s);return d+=l,f})}},{key:"applyColorTypes",value:function(t,e){var i=this,s=this.w;t.forEach(function(a){s.globals[a].colors=s.config[a].colors===void 0?i.isColorFn?s.config.colors:e:s.config[a].colors.slice(),i.pushExtraColors(s.globals[a].colors)})}},{key:"applyDataLabelsColors",value:function(t){var e=this.w;e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors===void 0?t:e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var t=this.w;t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors===void 0?[t.config.theme.mode==="dark"?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(t){var e=this.w;e.globals.markers.colors=e.config.markers.colors===void 0?t:e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,a=e||s.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),t.length<a)for(var r=a-t.length,o=0;o<r;o++)t.push(t[o])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode,i=e==="dark"?"palette4":e==="light"?"palette1":t.theme.palette||"palette1",s=e==="dark"?"#f6f7f8":e==="light"?"#373d3f":t.chart.foreColor||"#373d3f";return t.tooltip.theme=e||"light",t.chart.foreColor=s,t.theme.palette=i,t}},{key:"predefined",value:function(){var t={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return t[this.w.config.theme.palette]||t.default}}]),h}(),Xh=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i=t==="title"?e.config.title:e.config.subtitle,s=e.globals.svgWidth/2,a=i.offsetY,r="middle";if(i.align==="left"?(s=10,r="start"):i.align==="right"&&(s=e.globals.svgWidth-10,r="end"),s+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var o=new Y(this.ctx).drawText({x:s,y:a,text:i.text,textAnchor:r,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(o)}}}]),h}(),Nh=function(){function h(t){$(this,h),this.w=t.w,this.dCtx=t}return K(h,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,s=0,a=t==="title"?e.config.title.floating:e.config.subtitle.floating,r=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(r!==null&&!a){var o=r.getBoundingClientRect();i=o.width,s=e.globals.axisCharts?o.height+5:o.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.elLegendWrap;t.config.legend.height||t.config.legend.position!=="top"&&t.config.legend.position!=="bottom"||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},O.getBoundingClientRect(e));return e!==null&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},t.config.legend.position!=="left"&&t.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var t=this,e=this.w,i=[];e.config.series.forEach(function(l,d){l.data.forEach(function(f,u){var p;p=e.globals.series[d][u],s=e.config.dataLabels.formatter(p,{ctx:t.dCtx.ctx,seriesIndex:d,dataPointIndex:u,w:e}),i.push(s)})});var s=O.getLargestStringFromArr(i),a=new Y(this.dCtx.ctx),r=e.config.dataLabels.style,o=a.getTextRects(s,parseInt(r.fontSize),r.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var s=e.map(function(r,o){return Array.isArray(r)?r.length:1}),a=Math.max.apply(Math,Yt(s));i=e[s.indexOf(a)]}return i}}]),h}(),Yh=function(){function h(t){$(this,h),this.w=t.w,this.dCtx=t}return K(h,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();t={width:s.width,height:s.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=e.config.legend.position!=="left"&&e.config.legend.position!=="right"||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,r=O.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,i);e.globals.isBarHorizontal&&(o=r=e.globals.yAxisScale[0].result.reduce(function(v,x){return v.length>x.length?v:x},0));var l=new Zi(this.dCtx.ctx),d=r;r=l.xLabelFormat(a,r,d,{i:void 0,dateFormatter:new Zt(this.dCtx.ctx).formatDate,w:e}),o=l.xLabelFormat(a,o,d,{i:void 0,dateFormatter:new Zt(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&r===void 0||String(r).trim()==="")&&(o=r="1");var f=new Y(this.dCtx.ctx),u=f.getTextRects(r,e.config.xaxis.labels.style.fontSize),p=u;if(r!==o&&(p=f.getTextRects(o,e.config.xaxis.labels.style.fontSize)),(t={width:u.width>=p.width?u.width:p.width,height:u.height>=p.height?u.height:p.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&e.config.xaxis.labels.rotate!==0||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var m=function(v){return f.getTextRects(v,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};u=m(r),r!==o&&(p=m(o)),t.height=(u.height>p.height?u.height:p.height)/1.5,t.width=u.width>p.width?u.width:p.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasXaxisGroups)return{width:0,height:0};var i,s=((t=e.config.xaxis.group.style)===null||t===void 0?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map(function(u){return u.title}),r=O.getLargestStringFromArr(a),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(r,a),l=new Y(this.dCtx.ctx),d=l.getTextRects(r,s),f=d;return r!==o&&(f=l.getTextRects(o,s)),i={width:d.width>=f.width?d.width:f.width,height:d.height>=f.height?d.height:f.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(t.config.xaxis.title.text!==void 0){var s=new Y(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=s.width,i=s.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(a){return a.value}),s=i.reduce(function(a,r){return a===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):a.length>r.length?a:r},0);return 1.05*(t=new Y(this.dCtx.ctx).getTextRects(s,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&e.config.xaxis.labels.rotate!==0&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,s=i.globals,a=i.config,r=a.xaxis.type,o=t.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var l=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,d=function(f,u){a.yaxis.length>1&&function(p){return s.collapsedSeriesIndices.indexOf(p)!==-1}(u)||function(p){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var m=e.dCtx.timescaleLabels[0],v=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+o/1.75-e.dCtx.yAxisWidthRight,x=m.position-o/1.75+e.dCtx.yAxisWidthLeft,y=i.config.legend.position==="right"&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;v>s.svgWidth-s.translateX-y&&(s.skipLastTimelinelabel=!0),x<-(p.show&&!p.floating||a.chart.type!=="bar"&&a.chart.type!=="candlestick"&&a.chart.type!=="rangeBar"&&a.chart.type!=="boxPlot"?10:o/1.75)&&(s.skipFirstTimelinelabel=!0)}else r==="datetime"?e.dCtx.gridPad.right<o&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):r!=="datetime"&&e.dCtx.gridPad.right<o/2-e.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&(e.dCtx.xPadRight=o/2+1)}(f)};a.yaxis.forEach(function(f,u){l?(e.dCtx.gridPad.left<o&&(e.dCtx.xPadLeft=o/2+1),e.dCtx.xPadRight=o/2+1):d(f,u)})}}]),h}(),Wh=function(){function h(t){$(this,h),this.w=t.w,this.dCtx=t}return K(h,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],s=10,a=new Ee(this.dCtx.ctx);return e.config.yaxis.map(function(r,o){var l={seriesIndex:o,dataPointIndex:-1,w:e},d=e.globals.yAxisScale[o],f=0;if(!a.isYAxisHidden(o)&&r.labels.show&&r.labels.minWidth!==void 0&&(f=r.labels.minWidth),!a.isYAxisHidden(o)&&r.labels.show&&d.result.length){var u=e.globals.yLabelFormatters[o],p=d.niceMin===Number.MIN_VALUE?0:d.niceMin,m=d.result.reduce(function(M,S){var I,P;return((I=String(u(M,l)))===null||I===void 0?void 0:I.length)>((P=String(u(S,l)))===null||P===void 0?void 0:P.length)?M:S},p),v=m=u(m,l);if(m!==void 0&&m.length!==0||(m=d.niceMax),e.globals.isBarHorizontal){s=0;var x=e.globals.labels.slice();m=O.getLargestStringFromArr(x),m=u(m,{seriesIndex:o,dataPointIndex:-1,w:e}),v=t.dCtx.dimHelpers.getLargestStringFromMultiArr(m,x)}var y=new Y(t.dCtx.ctx),_="rotate(".concat(r.labels.rotate," 0 0)"),k=y.getTextRects(m,r.labels.style.fontSize,r.labels.style.fontFamily,_,!1),C=k;m!==v&&(C=y.getTextRects(v,r.labels.style.fontSize,r.labels.style.fontFamily,_,!1)),i.push({width:(f>C.width||f>k.width?f:C.width>k.width?C.width:k.width)+s,height:C.height>k.height?C.height:k.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map(function(s,a){if(s.show&&s.title.text!==void 0){var r=new Y(t.dCtx.ctx),o="rotate(".concat(s.title.rotate," 0 0)"),l=r.getTextRects(s.title.text,s.title.style.fontSize,s.title.style.fontFamily,o,!1);i.push({width:l.width,height:l.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,s=0,a=t.globals.yAxisScale.length>1?10:0,r=new Ee(this.dCtx.ctx),o=function(l,d){var f=t.config.yaxis[d].floating,u=0;l.width>0&&!f?(u=l.width+a,function(p){return t.globals.ignoreYAxisIndexes.indexOf(p)>-1}(d)&&(u=u-l.width-a)):u=f||r.isYAxisHidden(d)?0:5,t.config.yaxis[d].opposite?s+=u:i+=u,e+=u};return t.globals.yLabelsCoords.map(function(l,d){o(l,d)}),t.globals.yTitleCoords.map(function(l,d){o(l,d)}),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,e}}]),h}(),Gh=function(){function h(t){$(this,h),this.w=t.w,this.dCtx=t}return K(h,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w,i=e.config,s=e.globals;if(s.noData||s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===i.series.length)return 0;var a=function(m){return["bar","rangeBar","candlestick","boxPlot"].includes(m)},r=i.chart.type,o=0,l=a(r)?i.series.length:1;s.comboBarCount>0&&(l=s.comboBarCount),s.collapsedSeries.forEach(function(m){a(m.type)&&(l-=1)}),i.chart.stacked&&(l=1);var d=a(r)||s.comboBarCount>0,f=Math.abs(s.initialMaxX-s.initialMinX);if(d&&s.isXNumeric&&!s.isBarHorizontal&&l>0&&f!==0){f<=3&&(f=s.dataPoints);var u=f/t,p=s.minXDiff&&s.minXDiff/u>0?s.minXDiff/u:0;p>t/2&&(p/=2),(o=p*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),s.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,s=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(o){e.config[o].text!==void 0?s+=e.config[o].margin:s+=t.dCtx.isSparkline||!i.axisCharts?0:5}),!e.config.legend.show||e.config.legend.position!=="bottom"||e.config.legend.floating||i.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),r=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=a.height+r.height+s,i.translateY+=a.height+r.height+s}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,s=new Ee(this.dCtx.ctx);i.config.yaxis.forEach(function(a,r){i.globals.ignoreYAxisIndexes.indexOf(r)!==-1||a.floating||s.isYAxisHidden(r)||(a.opposite&&(i.globals.translateX-=e[r].width+t[r].width+parseInt(a.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),h}(),Cs=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Nh(this),this.dimYAxis=new Wh(this),this.dimXAxis=new Yh(this),this.dimGrid=new Gh(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return K(h,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var s=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Yt(e.config.stroke.width)):e.config.stroke.width;this.isSparkline&&((e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(r){var o=Fr(r,2),l=o[0],d=o[1];t.gridPad[l]=Math.max(d,t.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(s/2,this.gridPad.top),this.gridPad.bottom=Math.max(s/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var a=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*a,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(a>0?a:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map(function(m,v){e.globals.yLabelsCoords.push({width:s[v].width,index:v}),e.globals.yTitleCoords.push({width:a[v].width,index:v})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var r=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(r,l,o),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var d=this.yAxisWidth,f=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-l.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-r.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var u=10;(e.config.chart.type==="radar"||this.isSparkline)&&(d=0,f=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||e.config.chart.type==="treemap")&&(d=0,f=0,u=0),this.isSparkline||e.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(r);var p=function(){i.translateX=d+t.datalabelsCoords.width,i.gridHeight=i.svgHeight-t.lgRect.height-f-(t.isSparkline||e.config.chart.type==="treemap"?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-d-2*t.datalabelsCoords.width};switch(e.config.xaxis.position==="top"&&(u=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=u,p();break;case"top":i.translateY=this.lgRect.height+u,p();break;case"left":i.translateY=u,i.translateX=this.lgRect.width+d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-f-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":i.translateY=u,i.translateX=d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-f-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new sn(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,s=0;t.config.legend.show&&!t.config.legend.floating&&(s=20);var a=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",r=i.plotOptions[a].offsetY,o=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating){e.gridHeight=e.svgHeight;var l=e.dom.elWrap.getBoundingClientRect().width;return e.gridWidth=Math.min(l,e.gridHeight),e.translateY=r,void(e.translateX=o+(e.svgWidth-e.gridWidth)/2)}switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=r-10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+r+10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-s,e.gridHeight=i.chart.height!=="auto"?e.svgHeight:e.gridWidth,e.translateY=r,e.translateX=o+this.lgRect.width+s;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-s-5,e.gridHeight=i.chart.height!=="auto"?e.svgHeight:e.gridWidth,e.translateY=r,e.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var s=this.w,a=s.globals.hasXaxisGroups?2:1,r=i.height+t.height+e.height,o=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,l=s.globals.rotateXLabels?22:10,d=s.globals.rotateXLabels&&s.config.legend.position==="bottom"?10:0;this.xAxisHeight=r*o+a*l+d,this.xAxisWidth=t.width,this.xAxisHeight-e.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var f=0,u=0;s.config.yaxis.forEach(function(p){f+=p.labels.minWidth,u+=p.labels.maxWidth}),this.yAxisWidth<f&&(this.yAxisWidth=f),this.yAxisWidth>u&&(this.yAxisWidth=u)}}]),h}(),Zh=function(){function h(t){$(this,h),this.w=t.w,this.lgCtx=t}return K(h,[{key:"getLegendStyles",value:function(){var t,e,i,s=document.createElement("style");s.setAttribute("type","text/css");var a=((t=this.lgCtx.ctx)===null||t===void 0||(e=t.opts)===null||e===void 0||(i=e.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;a&&s.setAttribute("nonce",a);var r=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return s.appendChild(r),s}},{key:"getLegendDimensions",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,e){var i=this,s=this.w;if(s.globals.axisCharts||s.config.chart.type==="radialBar"){s.globals.resized=!0;var a=null,r=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),r=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),r=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(function(f){i.riseCollapsedSeries(f.cs,f.csi,r)}):this.hideSeries({seriesEl:a,realIndex:r})}else{var o=s.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(t+1,"'] path")),l=s.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var d=s.config.plotOptions.pie.donut.labels;new Y(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,d)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(t){var e=t.realIndex,i=this.w,s=i.globals,a=O.clone(i.config.series);if(s.axisCharts){var r=i.config.yaxis[s.seriesYAxisReverseMap[e]],o={index:e,data:a[e].data.slice(),type:a[e].type||i.config.chart.type};if(r&&r.show&&r.showAlways)s.ancillaryCollapsedSeriesIndices.indexOf(e)<0&&(s.ancillaryCollapsedSeries.push(o),s.ancillaryCollapsedSeriesIndices.push(e));else if(s.collapsedSeriesIndices.indexOf(e)<0){s.collapsedSeries.push(o),s.collapsedSeriesIndices.push(e);var l=s.risingSeries.indexOf(e);s.risingSeries.splice(l,1)}}else s.collapsedSeries.push({index:e,data:a[e]}),s.collapsedSeriesIndices.push(e);return s.allSeriesCollapsed=s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(a)}},{key:"hideSeries",value:function(t){for(var e=t.seriesEl,i=t.realIndex,s=this.w,a=this.getSeriesAfterCollapsing({realIndex:i}),r=e.childNodes,o=0;o<r.length;o++)r[o].classList.contains("apexcharts-series-markers-wrap")&&(r[o].classList.contains("apexcharts-hide")?r[o].classList.remove("apexcharts-hide"):r[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var s=this.w,a=O.clone(s.config.series);if(t.length>0){for(var r=0;r<t.length;r++)t[r].index===i&&(s.globals.axisCharts?a[i].data=t[r].data.slice():a[i]=t[r].data,typeof a[i]!="number"&&(a[i].hidden=!1),t.splice(r,1),e.splice(r,1),s.globals.risingSeries.push(i));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w,i=0;return e.globals.axisCharts?t.forEach(function(s,a){e.globals.collapsedSeriesIndices.indexOf(a)<0&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)<0||(t[a].data=[],i++)}):t.forEach(function(s,a){!e.globals.collapsedSeriesIndices.indexOf(a)<0&&(t[a]=0,i++)}),e.globals.allSeriesCollapsed=i===t.length,t}}]),h}(),bo=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Zh(this)}return K(h,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config,s=i.legend.showForSingleSeries&&e.series.length===1||this.isBarsDistributed||e.series.length>1;if(this.legendHelpers.appendToForeignObject(),(s||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(t){var e=t.i,i=t.fillcolor,s=this.w,a=document.createElement("span");a.classList.add("apexcharts-legend-marker");var r=s.config.legend.markers.shape||s.config.markers.shape,o=r;Array.isArray(r)&&(o=r[e]);var l=Array.isArray(s.config.legend.markers.size)?parseFloat(s.config.legend.markers.size[e]):parseFloat(s.config.legend.markers.size),d=Array.isArray(s.config.legend.markers.offsetX)?parseFloat(s.config.legend.markers.offsetX[e]):parseFloat(s.config.legend.markers.offsetX),f=Array.isArray(s.config.legend.markers.offsetY)?parseFloat(s.config.legend.markers.offsetY[e]):parseFloat(s.config.legend.markers.offsetY),u=Array.isArray(s.config.legend.markers.strokeWidth)?parseFloat(s.config.legend.markers.strokeWidth[e]):parseFloat(s.config.legend.markers.strokeWidth),p=a.style;if(p.height=2*(l+u)+"px",p.width=2*(l+u)+"px",p.left=d+"px",p.top=f+"px",s.config.legend.markers.customHTML)p.background="transparent",p.color=i[e],Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[e]&&(a.innerHTML=s.config.legend.markers.customHTML[e]()):a.innerHTML=s.config.legend.markers.customHTML();else{var m=new xi(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:e,strokeWidth:u,size:l}),v=window.SVG().addTo(a).size("100%","100%"),x=new Y(this.ctx).drawMarker(0,0,U(U({},m),{},{pointFillColor:Array.isArray(i)?i[e]:m.pointFillColor,shape:o}));s.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(y){y.node.classList.contains("apexcharts-marker-triangle")?y.node.style.transform="translate(50%, 45%)":y.node.style.transform="translate(50%, 50%)"}),v.add(x)}return a}},{key:"drawLegends",value:function(){var t=this,e=this,i=this.w,s=i.config.legend.fontFamily,a=i.globals.seriesNames,r=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;a=o.map(function(m){return m.name?m.name:m.from+" - "+m.to}),r=o.map(function(m){return m.color})}else this.isBarsDistributed&&(a=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(a=i.config.legend.customLegendItems);var l=i.globals.legendFormatter,d=i.config.legend.inverseOrder,f=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach(function(m,v){f[v]=document.createElement("div"),f[v].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(v)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):f[v].classList.add("apexcharts-legend-group-vertical")});for(var u=function(m){var v,x=l(a[m],{seriesIndex:m,w:i}),y=!1,_=!1;if(i.globals.collapsedSeries.length>0)for(var k=0;k<i.globals.collapsedSeries.length;k++)i.globals.collapsedSeries[k].index===m&&(y=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<i.globals.ancillaryCollapsedSeriesIndices.length;C++)i.globals.ancillaryCollapsedSeriesIndices[C]===m&&(_=!0);var M=t.createLegendMarker({i:m,fillcolor:r});Y.setAttrs(M,{rel:m+1,"data:collapsed":y||_}),(y||_)&&M.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(x)?x.join(" "):x;var P=i.config.legend.labels.useSeriesColors?i.globals.colors[m]:Array.isArray(i.config.legend.labels.colors)?(v=i.config.legend.labels.colors)===null||v===void 0?void 0:v[m]:i.config.legend.labels.colors;P||(P=i.config.chart.foreColor),I.style.color=P,I.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",I.style.fontWeight=i.config.legend.fontWeight,I.style.fontFamily=s||i.config.chart.fontFamily,Y.setAttrs(I,{rel:m+1,i:m,"data:default-text":encodeURIComponent(x),"data:collapsed":y||_}),S.appendChild(M),S.appendChild(I);var T=new zt(t.ctx);i.config.legend.showForZeroSeries||T.getSeriesTotalByIndex(m)===0&&T.seriesHaveSameValues(m)&&!T.isSeriesNull(m)&&i.globals.collapsedSeriesIndices.indexOf(m)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&S.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||T.isSeriesNull(m)&&i.globals.collapsedSeriesIndices.indexOf(m)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(m)===-1&&S.classList.add("apexcharts-hidden-null-series"),f.length?i.globals.seriesGroups.forEach(function(E,R){var B;E.includes((B=i.config.series[m])===null||B===void 0?void 0:B.name)&&(i.globals.dom.elLegendWrap.appendChild(f[R]),f[R].appendChild(S))}):i.globals.dom.elLegendWrap.appendChild(S),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",Y.setAttrs(S,{rel:m+1,seriesName:O.escapeString(a[m]),"data:collapsed":y||_}),(y||_)&&S.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},p=d?a.length-1:0;d?p>=0:p<=a.length-1;d?p--:p++)u(p);i.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,s=i.globals.dom.elLegendWrap,a=s.clientHeight,r=0,o=0;if(i.config.legend.position==="bottom")o=i.globals.svgHeight-Math.min(a,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var l=new Cs(this.ctx),d=l.dimHelpers.getTitleSubtitleCoords("title").height,f=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(d>0?d-10:0)+(f>0?f-10:0)}s.style.position="absolute",r=r+t+i.config.legend.offsetX,o=o+e+i.config.legend.offsetY,s.style.left=r+"px",s.style.top=o+"px",i.config.legend.position==="right"&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(u){s.style[u]&&(s.style[u]=parseInt(i.config.legend[u],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.elLegendWrap.style.right=0;var e=new Cs(this.ctx),i=e.dimHelpers.getTitleSubtitleCoords("title"),s=e.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;t.config.legend.position==="top"&&(a=i.height+s.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendDimensions(),i=0;t.config.legend.position==="left"&&(i=20),t.config.legend.position==="right"&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if(e.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var s=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new le(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new le(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,s=t.target.getAttribute("data:collapsed")==="true",a=this.w.config.chart.events.legendClick;typeof a=="function"&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var r=this.w.config.legend.markers.onClick;typeof r=="function"&&t.target.classList.contains("apexcharts-legend-marker")&&(r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),e.config.chart.type!=="treemap"&&e.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),h}(),yo=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w;var e=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=e.globals.minX,this.maxX=e.globals.maxX}return K(h,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=e.config.chart.toolbar.offsetY+"px",s.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var r=[],o=function(u,p,m){var v=u.toLowerCase();t.t[v]&&e.config.chart.zoom.enabled&&r.push({el:p,icon:typeof t.t[v]=="string"?t.t[v]:m,title:t.localeValues[u],class:"apexcharts-".concat(v,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(u){t.t[u]&&e.config.chart[u].enabled&&r.push({el:u==="zoom"?t.elZoom:t.elSelection,icon:typeof t.t[u]=="string"?t.t[u]:u==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:t.localeValues[u==="zoom"?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(u,"-icon")})};l("zoom"),l("selection"),this.t.pan&&e.config.chart.zoom.enabled&&r.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&r.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)r.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});r.forEach(function(u,p){u.index&&O.moveIndexInArray(r,p,u.index)});for(var f=0;f<r.length;f++)Y.setAttrs(r[f].el,{class:r[f].class,title:r[f].title}),r[f].el.innerHTML=r[f].icon,s.appendChild(r[f].el);this._createHamburgerMenu(s),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),Y.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,Y.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",t.handleDownload.bind(t,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",t.handleDownload.bind(t,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",t.handleDownload.bind(t,"csv"))});for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls();var i=t==="selection"?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,s=t==="selection"?"selectionEnabled":"zoomEnabled";e.w.globals[s]=!e.w.globals[s],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),t==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e=t==="pan"?this.elPan:this.elZoom,i=t==="pan"?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(t.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,s=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,s);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!(t.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),s=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,s);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(t!==void 0||e!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var s={min:t,max:e},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var r={xaxis:s},o=O.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(r.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(r,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new ks(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){var i=e.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var s=i.config.chart.events.beforeResetZoom(e,i);s&&e.updateHelpers.revertDefaultAxisMinMax(s)}typeof i.config.chart.events.zoomed=="function"&&e.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var a=e.ctx.series.emptyCollapsedSeries(O.clone(i.globals.initialSeries));e.updateHelpers._updateSeries(a,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),h}(),jh=function(h){Ni(e,yo);var t=Xi(e);function e(i){var s;return $(this,e),(s=t.call(this,i)).ctx=i,s.w=i.w,s.dragged=!1,s.graphics=new Y(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s.debounceTimer=null,s.debounceDelay=100,s.wheelDelay=400,s}return K(e,[{key:"init",value:function(i){var s=this,a=i.xyRatios,r=this.w,o=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=r.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new It(0,0,r.globals.gridWidth,r.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),r.globals.dom.Paper.add(this.zoomRect),r.globals.dom.Paper.add(this.selectionRect),r.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):r.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:r.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=r.globals.dom.baseEl.querySelector("".concat(r.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){s.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,a),{capture:!1,passive:!0})}),r.config.chart.zoom.enabled&&r.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,s){var a=this.w,r=this.ctx.toolbar,o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,l=a.config.chart.toolbar.autoSelected;if(s.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),s.target){var d,f=s.target.classList;if(s.target.parentNode&&s.target.parentNode!==null&&(d=s.target.parentNode.classList),!(f.contains("apexcharts-legend-marker")||f.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientX:s.type==="touchend"?s.changedTouches[0].clientX:s.clientX,this.clientY=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientY:s.type==="touchend"?s.changedTouches[0].clientY:s.clientY,s.type==="mousedown"&&s.which===1||s.type==="touchstart"){var u=this.gridRect.getBoundingClientRect();this.startX=this.clientX-u.left-a.globals.barPadForNumericAxis,this.startY=this.clientY-u.top,this.dragged=!1,this.w.globals.mousedown=!0}(s.type==="mousemove"&&s.which===1||s.type==="touchmove")&&(this.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:i})):(this.w.globals.mousedown&&a.globals.zoomEnabled||this.w.globals.mousedown&&a.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),s.type!=="mouseup"&&s.type!=="touchend"&&s.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var s,a=i.zoomtype,r=i.isResized,o=this.w,l=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();l&&(this.w.globals.mousedown||r)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:a}),o.globals.panEnabled&&o.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var s=this,a=this.w;i.preventDefault();var r=Date.now();r-a.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),a.globals.lastWheelExecution=r),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){r-a.globals.lastWheelExecution>s.wheelDelay&&(s.executeMouseWheelZoom(i),a.globals.lastWheelExecution=r)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var s,a=this.w;this.minX=a.globals.isRangeBar?a.globals.minY:a.globals.minX,this.maxX=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;var r=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();if(r){var o,l,d,f=(i.clientX-r.left)/r.width,u=this.minX,p=this.maxX,m=p-u;if(i.deltaY<0){var v=u+f*m;l=v-(o=.5*m)/2,d=v+o/2}else l=u-(o=1.5*m)/2,d=p+o/2;if(!a.globals.isRangeBar){l=Math.max(l,a.globals.initialMinX),d=Math.min(d,a.globals.initialMaxX);var x=.01*(a.globals.initialMaxX-a.globals.initialMinX);if(d-l<x){var y=(l+d)/2;l=y-x/2,d=y+x/2}}var _=this._getNewMinXMaxX(l,d);isNaN(_.minX)||isNaN(_.maxX)||this.zoomUpdateOptions(_.minX,_.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,s=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(r,o,l,d,f){return f==="l"||f==="r"?r.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):r.circle(0)},updateHandle:function(r,o){return r.center(o[0],o[1])}}).resize().on("resize",function(){var r=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type;i.handleMouseUp({zoomtype:r,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var i=this.w,s=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(U(U({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var a=(i.config.chart.selection.xaxis.min-i.globals.minX)/s.xRatio,r=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/s.xRatio-a;i.globals.isRangeBar&&(a=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/s.invertedYRatio,r=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/s.invertedYRatio);var o={x:a,y:0,width:r,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var s=i.x,a=i.y,r=i.width,o=i.height,l=i.translateX,d=l===void 0?0:l,f=i.translateY,u=f===void 0?0:f,p=this.w,m=this.zoomRect,v=this.selectionRect;if(this.dragged||p.globals.selection!==null){var x={transform:"translate("+d+", "+u+")"};p.globals.zoomEnabled&&this.dragged&&(r<0&&(r=1),m.attr({x:s,y:a,width:r,height:o,fill:p.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":p.config.chart.zoom.zoomedArea.fill.opacity,stroke:p.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":p.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":p.config.chart.zoom.zoomedArea.stroke.opacity}),Y.setAttrs(m.node,x)),p.globals.selectionEnabled&&(v.attr({x:s,y:a,width:r>0?r:0,height:o>0?o:0,fill:p.config.chart.selection.fill.color,"fill-opacity":p.config.chart.selection.fill.opacity,stroke:p.config.chart.selection.stroke.color,"stroke-width":p.config.chart.selection.stroke.width,"stroke-dasharray":p.config.chart.selection.stroke.dashArray,"stroke-opacity":p.config.chart.selection.stroke.opacity}),Y.setAttrs(v.node,x))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var s=i.context,a=i.zoomtype,r=this.w,o=s,l=this.gridRect.getBoundingClientRect(),d=o.startX-1,f=o.startY,u=!1,p=!1,m=o.clientX-l.left-r.globals.barPadForNumericAxis,v=o.clientY-l.top,x=m-d,y=v-f,_={translateX:r.globals.translateX,translateY:r.globals.translateY};return Math.abs(x+d)>r.globals.gridWidth?x=r.globals.gridWidth-d:m<0&&(x=d),d>m&&(u=!0,x=Math.abs(x)),f>v&&(p=!0,y=Math.abs(y)),_=U(U({},_=a==="x"?{x:u?d-x:d,y:0,width:x,height:r.globals.gridHeight}:a==="y"?{x:0,y:p?f-y:f,width:r.globals.gridWidth,height:y}:{x:u?d-x:d,y:p?f-y:f,width:x,height:y}),{},{translateX:r.globals.translateX,translateY:r.globals.translateY}),o.drawSelectionRect(_),o.selectionDragging("resizing"),_}},{key:"selectionDragging",value:function(i,s){var a=this,r=this.w;if(s){s.preventDefault();var o=s.detail,l=o.handler,d=o.box,f=d.x,u=d.y;f<this.constraints.x&&(f=this.constraints.x),u<this.constraints.y&&(u=this.constraints.y),d.x2>this.constraints.x2&&(f=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(u=this.constraints.y2-d.h),l.move(f,u);var p=this.xyRatios,m=this.selectionRect,v=0;i==="resizing"&&(v=30);var x=function(_){return parseFloat(m.node.getAttribute(_))},y={x:x("x"),y:x("y"),width:x("width"),height:x("height")};r.globals.selection=y,typeof r.config.chart.events.selection=="function"&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var _,k,C,M,S=a.gridRect.getBoundingClientRect(),I=m.node.getBoundingClientRect();r.globals.isRangeBar?(_=r.globals.yAxisScale[0].niceMin+(I.left-S.left)*p.invertedYRatio,k=r.globals.yAxisScale[0].niceMin+(I.right-S.left)*p.invertedYRatio,C=0,M=1):(_=r.globals.xAxisScale.niceMin+(I.left-S.left)*p.xRatio,k=r.globals.xAxisScale.niceMin+(I.right-S.left)*p.xRatio,C=r.globals.yAxisScale[0].niceMin+(S.bottom-I.bottom)*p.yRatio[0],M=r.globals.yAxisScale[0].niceMax-(I.top-S.top)*p.yRatio[0]);var P={xaxis:{min:_,max:k},yaxis:{min:C,max:M}};r.config.chart.events.selection(a.ctx,P),r.config.chart.brush.enabled&&r.config.chart.events.brushScrolled!==void 0&&r.config.chart.events.brushScrolled(a.ctx,P)},v))}}},{key:"selectionDrawn",value:function(i){var s=i.context,a=i.zoomtype,r=this.w,o=s,l=this.xyRatios,d=this.ctx.toolbar;if(o.startX>o.endX){var f=o.startX;o.startX=o.endX,o.endX=f}if(o.startY>o.endY){var u=o.startY;o.startY=o.endY,o.endY=u}var p=void 0,m=void 0;r.globals.isRangeBar?(p=r.globals.yAxisScale[0].niceMin+o.startX*l.invertedYRatio,m=r.globals.yAxisScale[0].niceMin+o.endX*l.invertedYRatio):(p=r.globals.xAxisScale.niceMin+o.startX*l.xRatio,m=r.globals.xAxisScale.niceMin+o.endX*l.xRatio);var v=[],x=[];if(r.config.yaxis.forEach(function(I,P){var T=r.globals.seriesYAxisMap[P][0];v.push(r.globals.yAxisScale[P].niceMax-l.yRatio[T]*o.startY),x.push(r.globals.yAxisScale[P].niceMax-l.yRatio[T]*o.endY)}),o.dragged&&(o.dragX>10||o.dragY>10)&&p!==m){if(r.globals.zoomEnabled){var y=O.clone(r.globals.initialConfig.yaxis),_=O.clone(r.globals.initialConfig.xaxis);if(r.globals.zoomed=!0,r.config.xaxis.convertedCatToNumeric&&(p=Math.floor(p),m=Math.floor(m),p<1&&(p=1,m=r.globals.dataPoints),m-p<2&&(m=p+1)),a!=="xy"&&a!=="x"||(_={min:p,max:m}),a!=="xy"&&a!=="y"||y.forEach(function(I,P){y[P].min=x[P],y[P].max=v[P]}),d){var k=d.getBeforeZoomRange(_,y);k&&(_=k.xaxis?k.xaxis:_,y=k.yaxis?k.yaxis:y)}var C={xaxis:_};r.config.chart.group||(C.yaxis=y),o.ctx.updateHelpers._updateOptions(C,!1,o.w.config.chart.animations.dynamicAnimation.enabled),typeof r.config.chart.events.zoomed=="function"&&d.zoomCallback(_,y)}else if(r.globals.selectionEnabled){var M,S=null;M={min:p,max:m},a!=="xy"&&a!=="y"||(S=O.clone(r.config.yaxis)).forEach(function(I,P){S[P].min=x[P],S[P].max=v[P]}),r.globals.selection=o.selection,typeof r.config.chart.events.selection=="function"&&r.config.chart.events.selection(o.ctx,{xaxis:M,yaxis:S})}}}},{key:"panDragging",value:function(i){var s=i.context,a=this.w,r=s;if(a.globals.lastClientPosition.x!==void 0){var o=a.globals.lastClientPosition.x-r.clientX,l=a.globals.lastClientPosition.y-r.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:r.clientX,y:r.clientY};var d=a.globals.isRangeBar?a.globals.minY:a.globals.minX,f=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;a.config.xaxis.convertedCatToNumeric||r.panScrolled(d,f)}},{key:"delayedPanScrolled",value:function(){var i=this.w,s=i.globals.minX,a=i.globals.maxX,r=(i.globals.maxX-i.globals.minX)/2;this.moveDirection==="left"?(s=i.globals.minX+r,a=i.globals.maxX+r):this.moveDirection==="right"&&(s=i.globals.minX-r,a=i.globals.maxX-r),s=Math.floor(s),a=Math.floor(a),this.updateScrolledChart({xaxis:{min:s,max:a}},s,a)}},{key:"panScrolled",value:function(i,s){var a=this.w,r=this.xyRatios,o=O.clone(a.globals.initialConfig.yaxis),l=r.xRatio,d=a.globals.minX,f=a.globals.maxX;a.globals.isRangeBar&&(l=r.invertedYRatio,d=a.globals.minY,f=a.globals.maxY),this.moveDirection==="left"?(i=d+a.globals.gridWidth/15*l,s=f+a.globals.gridWidth/15*l):this.moveDirection==="right"&&(i=d-a.globals.gridWidth/15*l,s=f-a.globals.gridWidth/15*l),a.globals.isRangeBar||(i<a.globals.initialMinX||s>a.globals.initialMaxX)&&(i=d,s=f);var u={xaxis:{min:i,max:s}};a.config.chart.group||(u.yaxis=o),this.updateScrolledChart(u,i,s)}},{key:"updateScrolledChart",value:function(i,s,a){var r=this.w;this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof r.config.chart.events.scrolled=="function"&&r.config.chart.events.scrolled(this.ctx,{xaxis:{min:s,max:a}})}}]),e}(),_o=function(){function h(t){$(this,h),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return K(h,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,s=t.clientX,a=t.clientY,r=this.w,o=i.getBoundingClientRect(),l=o.width,d=o.height,f=l/(r.globals.dataPoints-1),u=d/r.globals.dataPoints,p=this.hasBars();!r.globals.comboCharts&&!p||r.config.xaxis.convertedCatToNumeric||(f=l/r.globals.dataPoints);var m=s-o.left-r.globals.barPadForNumericAxis,v=a-o.top;m<0||v<0||m>l||v>d?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):r.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):r.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var x=Math.round(m/f),y=Math.floor(v/u);p&&!r.config.xaxis.convertedCatToNumeric&&(x=Math.ceil(m/f),x-=1);var _=null,k=null,C=r.globals.seriesXvalues.map(function(T){return T.filter(function(E){return O.isNumber(E)})}),M=r.globals.seriesYvalues.map(function(T){return T.filter(function(E){return O.isNumber(E)})});if(r.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),I=m*(S.width/l),P=v*(S.height/d);_=(k=this.closestInMultiArray(I,P,C,M)).index,x=k.j,_!==null&&(C=r.globals.seriesXvalues[_],x=(k=this.closestInArray(I,C)).index)}return r.globals.capturedSeriesIndex=_===null?-1:_,(!x||x<1)&&(x=0),r.globals.isBarHorizontal?r.globals.capturedDataPointIndex=y:r.globals.capturedDataPointIndex=x,{capturedSeries:_,j:r.globals.isBarHorizontal?y:x,hoverX:m,hoverY:v}}},{key:"closestInMultiArray",value:function(t,e,i,s){var a=this.w,r=0,o=null,l=-1;a.globals.series.length>1?r=this.getFirstActiveXArray(i):o=0;var d=i[r][0],f=Math.abs(t-d);if(i.forEach(function(m){m.forEach(function(v,x){var y=Math.abs(t-v);y<=f&&(f=y,l=x)})}),l!==-1){var u=s[r][l],p=Math.abs(e-u);o=r,s.forEach(function(m,v){var x=Math.abs(e-m[l]);x<=p&&(p=x,o=v)})}return{index:o,j:l}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,s=t.map(function(r,o){return r.length>0?o:-1}),a=0;a<s.length;a++)if(s[a]!==-1&&e.globals.collapsedSeriesIndices.indexOf(a)===-1&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)===-1){i=s[a];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],s=null,a=Math.abs(t-i),r=0;r<e.length;r++){var o=Math.abs(t-e[r]);o<a&&(a=o,s=r)}return{index:s}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter(function(a){return a[0]!==void 0});if(i.length>0)for(var s=0;s<i.length-1;s++)i[s][t]!==void 0&&i[s+1][t]!==void 0&&i[s][t]!==i[s+1][t]&&e.push("unEqual");return e.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return Yt(t).reduce(function(e,i){return e+i.getBBox().height},0)}},{key:"getElMarkers",value:function(t){return typeof t=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=Yt(t)).sort(function(i,s){var a=Number(i.getAttribute("data:realIndex")),r=Number(s.getAttribute("data:realIndex"));return r<a?1:r>a?-1:0});var e=[];return t.forEach(function(i){e.push(i.querySelector(".apexcharts-marker"))}),e}},{key:"hasMarkers",value:function(t){return this.getElMarkers(t).length>0}},{key:"getPathFromPoint",value:function(t,e){var i=Number(t.getAttribute("cx")),s=Number(t.getAttribute("cy")),a=t.getAttribute("shape");return new Y(this.ctx).getMarkerPath(i,s,a,e)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return i===void 0&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,a=0;a<s.length;a++)t==="enable"?(s[a].classList.add("apexcharts-active"),s[a].style.display=e.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),h}(),Vh=function(){function h(t){$(this,h),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new _o(t)}return K(h,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=e===void 0||e,s=t.ttItems,a=t.i,r=a===void 0?0:a,o=t.j,l=o===void 0?null:o,d=t.y1,f=t.y2,u=t.e,p=this.w;p.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:r,j:l,y1:d,y2:f,w:p}):this.toggleActiveInactiveSeries(i,r);var m=this.getValuesToPrint({i:r,j:l});this.printLabels({i:r,j:l,values:m,ttItems:s,shared:i,e:u});var v=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=v.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=v.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,s=t.i,a=t.j,r=t.values,o=t.ttItems,l=t.shared,d=t.e,f=this.w,u=[],p=function(S){return f.globals.seriesGoals[S]&&f.globals.seriesGoals[S][a]&&Array.isArray(f.globals.seriesGoals[S][a])},m=r.xVal,v=r.zVal,x=r.xAxisTTVal,y="",_=f.globals.colors[s];a!==null&&f.config.plotOptions.bar.distributed&&(_=f.globals.colors[a]);for(var k=function(S,I){var P=i.getFormatters(s);y=i.getSeriesName({fn:P.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),f.config.chart.type==="treemap"&&(y=P.yLbTitleFormatter(String(f.config.series[s].data[a].x),{series:f.globals.series,seriesIndex:s,dataPointIndex:a,w:f}));var T=f.config.tooltip.inverseOrder?I:S;if(f.globals.axisCharts){var E=function(H){var X,N,q,V;return f.globals.isRangeData?P.yLbFormatter((X=f.globals.seriesRangeStart)===null||X===void 0||(N=X[H])===null||N===void 0?void 0:N[a],{series:f.globals.seriesRangeStart,seriesIndex:H,dataPointIndex:a,w:f})+" - "+P.yLbFormatter((q=f.globals.seriesRangeEnd)===null||q===void 0||(V=q[H])===null||V===void 0?void 0:V[a],{series:f.globals.seriesRangeEnd,seriesIndex:H,dataPointIndex:a,w:f}):P.yLbFormatter(f.globals.series[H][a],{series:f.globals.series,seriesIndex:H,dataPointIndex:a,w:f})};if(l)P=i.getFormatters(T),y=i.getSeriesName({fn:P.yLbTitleFormatter,index:T,seriesIndex:s,j:a}),_=f.globals.colors[T],e=E(T),p(T)&&(u=f.globals.seriesGoals[T][a].map(function(H){return{attrs:H,val:P.yLbFormatter(H.value,{seriesIndex:T,dataPointIndex:a,w:f})}}));else{var R,B=d==null||(R=d.target)===null||R===void 0?void 0:R.getAttribute("fill");B&&(B.indexOf("url")!==-1?B.indexOf("Pattern")!==-1&&(_=f.globals.dom.baseEl.querySelector(B.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):_=B),e=E(s),p(s)&&Array.isArray(f.globals.seriesGoals[s][a])&&(u=f.globals.seriesGoals[s][a].map(function(H){return{attrs:H,val:P.yLbFormatter(H.value,{seriesIndex:s,dataPointIndex:a,w:f})}}))}}a===null&&(e=P.yLbFormatter(f.globals.series[s],U(U({},f),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:T,j:a,ttItems:o,values:{val:e,goalVals:u,xVal:m,xAxisTTVal:x,zVal:v},seriesName:y,shared:l,pColor:_})},C=0,M=f.globals.series.length-1;C<f.globals.series.length;C++,M--)k(C,M)}},{key:"getFormatters",value:function(t){var e,i=this.w,s=i.globals.yLabelFormatters[t];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(s=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,typeof s!="function"&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(a){return a}),typeof e!="function"&&(e=function(a){return a?a+": ":""}),{yLbFormatter:s,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,s=t.seriesIndex,a=t.j,r=this.w;return e(String(r.globals.seriesNames[i]),{series:r.globals.series,seriesIndex:s,dataPointIndex:a,w:r})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,s=t.ttItems,a=t.values,r=t.seriesName,o=t.shared,l=t.pColor,d=this.w,f=this.ttCtx,u=a.val,p=a.goalVals,m=a.xVal,v=a.xAxisTTVal,x=a.zVal,y=null;y=s[e].children,d.config.tooltip.fillSeriesColor&&(s[e].style.backgroundColor=l,y[0].style.display="none"),f.showTooltipTitle&&(f.tooltipTitle===null&&(f.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),f.tooltipTitle.innerHTML=m),f.isXAxisTooltipEnabled&&(f.xaxisTooltipText.innerHTML=v!==""?v:m);var _=s[e].querySelector(".apexcharts-tooltip-text-y-label");_&&(_.innerHTML=r||"");var k=s[e].querySelector(".apexcharts-tooltip-text-y-value");k&&(k.innerHTML=u!==void 0?u:""),y[0]&&y[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(l=d.config.tooltip.marker.fillColors[e]),y[0].style.backgroundColor=l),d.config.tooltip.marker.show||(y[0].style.display="none");var C=s[e].querySelector(".apexcharts-tooltip-text-goals-label"),M=s[e].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&d.globals.seriesGoals[e]){var S=function(){var T="<div >",E="<div>";p.forEach(function(R,B){T+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(R.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(R.attrs.name,"</div>"),E+="<div>".concat(R.val,"</div>")}),C.innerHTML=T+"</div>",M.innerHTML=E+"</div>"};o?d.globals.seriesGoals[e][i]&&Array.isArray(d.globals.seriesGoals[e][i])?S():(C.innerHTML="",M.innerHTML=""):S()}else C.innerHTML="",M.innerHTML="";if(x!==null&&(s[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,s[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=x!==void 0?x:""),o&&y[0]){if(d.config.tooltip.hideEmptySeries){var I=s[e].querySelector(".apexcharts-tooltip-marker"),P=s[e].querySelector(".apexcharts-tooltip-text");parseFloat(u)==0?(I.style.display="none",P.style.display="none"):(I.style.display="block",P.style.display="block")}u==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||d.globals.collapsedSeriesIndices.indexOf(e)>-1||Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(e)===-1?y[0].parentNode.style.display="none":y[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(e)===-1&&(y[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(t,e){var i=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(e));s&&(s.classList.add("apexcharts-active"),s.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,s=this.w,a=this.ctx.series.filteredSeriesX(),r="",o="",l=null,d=null,f={series:s.globals.series,seriesIndex:e,dataPointIndex:i,w:s},u=s.globals.ttZFormatter;i===null?d=s.globals.series[e]:s.globals.isXNumeric&&s.config.chart.type!=="treemap"?(r=a[e][i],a[e].length===0&&(r=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):r=new en(this.ctx).isFormatXY()?s.config.series[e].data[i]!==void 0?s.config.series[e].data[i].x:"":s.globals.labels[i]!==void 0?s.globals.labels[i]:"";var p=r;return s.globals.isXNumeric&&s.config.xaxis.type==="datetime"?r=new Zi(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new Zt(this.ctx).formatDate,w:this.w}):r=s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](p,f):s.globals.xLabelFormatter(p,f),s.config.tooltip.x.formatter!==void 0&&(r=s.globals.ttKeyFormatter(p,f)),s.globals.seriesZ.length>0&&s.globals.seriesZ[e].length>0&&(l=u(s.globals.seriesZ[e][i],s)),o=typeof s.config.xaxis.tooltip.formatter=="function"?s.globals.xaxisTooltipFormatter(p,f):r,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(r)?r.join(" "):r,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,s=t.y1,a=t.y2,r=t.w,o=this.ttCtx.getElTooltip(),l=r.config.tooltip.custom;Array.isArray(l)&&l[e]&&(l=l[e]),o.innerHTML=l({ctx:this.ctx,series:r.globals.series,seriesIndex:e,dataPointIndex:i,y1:s,y2:a,w:r})}}]),h}(),wo=function(){function h(t){$(this,h),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return K(h,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,s=this.w,a=i.getElXCrosshairs(),r=t-i.xcrosshairsWidth/2,o=s.globals.labels.slice().length;if(e!==null&&(r=s.globals.gridWidth/o*e),a===null||s.globals.isBarHorizontal||(a.setAttribute("x",r),a.setAttribute("x1",r),a.setAttribute("x2",r),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),r<0&&(r=0),r>s.globals.gridWidth&&(r=s.globals.gridWidth),i.isXAxisTooltipEnabled){var l=r;s.config.xaxis.crosshairs.width!=="tickWidth"&&s.config.xaxis.crosshairs.width!=="barWidth"||(l=r+i.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;e.ycrosshairs!==null&&Y.setAttrs(e.ycrosshairs,{y1:t,y2:t}),e.ycrosshairsHidden!==null&&Y.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var s=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t)){t+=e.globals.translateX;var a;a=new Y(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=a.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=s+"px"}}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+s,r=i.yaxisTTEls[t].getBoundingClientRect().height,o=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(o-=26),a-=r/2,e.globals.ignoreYAxisIndexes.indexOf(t)===-1?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=o+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,a=this.ttCtx,r=a.getElTooltip(),o=a.tooltipRect,l=i!==null?parseFloat(i):1,d=parseFloat(t)+l+5,f=parseFloat(e)+l/2;if(d>s.globals.gridWidth/2&&(d=d-o.ttWidth-l-10),d>s.globals.gridWidth-o.ttWidth-10&&(d=s.globals.gridWidth-o.ttWidth),d<-20&&(d=-20),s.config.tooltip.followCursor){var u=a.getElGrid().getBoundingClientRect();(d=a.e.clientX-u.left)>s.globals.gridWidth/2&&(d-=a.tooltipRect.ttWidth),(f=a.e.clientY+s.globals.translateY-u.top)>s.globals.gridHeight/2&&(f-=a.tooltipRect.ttHeight)}else s.globals.isBarHorizontal||o.ttHeight/2+f>s.globals.gridHeight&&(f=s.globals.gridHeight-o.ttHeight+s.globals.translateY);isNaN(d)||(d+=s.globals.translateX,r.style.left=d+"px",r.style.top=f+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),r=0;r<a.length;r++)parseInt(a[r].getAttribute("rel"),10)===e&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(e,a[r]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,s,a,r,o=this.w,l=this.ttCtx,d=new Y(this.ctx),f=o.globals.pointsArray,u=l.tooltipUtil.getHoverMarkerSize(e),p=o.config.series[e].type;if(!p||p!=="column"&&p!=="candlestick"&&p!=="boxPlot"){a=(i=f[e][t])===null||i===void 0?void 0:i[0],r=((s=f[e][t])===null||s===void 0?void 0:s[1])||0;var m=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers path"));if(m&&r<o.globals.gridHeight&&r>0){var v=m.getAttribute("shape"),x=d.getMarkerPath(a,r,v,1.5*u);m.setAttribute("d",x)}this.moveXCrosshairs(a),l.fixedTooltip||this.moveTooltip(a,r,u)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,s=i.w,a=0,r=0,o=s.globals.pointsArray,l=new le(this.ctx),d=new Y(this.ctx);e=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var f=i.tooltipUtil.getHoverMarkerSize(e);o[e]&&(a=o[e][t][0],r=o[e][t][1]);var u=i.tooltipUtil.getAllMarkers();if(u!==null)for(var p=0;p<s.globals.series.length;p++){var m=o[p];if(s.globals.comboCharts&&m===void 0&&u.splice(p,0,null),m&&m.length){var v=o[p][t][1],x=void 0;u[p].setAttribute("cx",a);var y=u[p].getAttribute("shape");if(s.config.chart.type==="rangeArea"&&!s.globals.comboCharts){var _=t+s.globals.series[p].length;x=o[p][_][1],v-=Math.abs(v-x)/2}if(v!==null&&!isNaN(v)&&v<s.globals.gridHeight+f&&v+f>0){var k=d.getMarkerPath(a,v,y,f);u[p].setAttribute("d",k)}else u[p].setAttribute("d","")}}this.moveXCrosshairs(a),i.fixedTooltip||this.moveTooltip(a,r||s.globals.gridHeight,f)}},{key:"moveStickyTooltipOverBars",value:function(t,e){var i=this.w,s=this.ttCtx,a=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length,r=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;i.globals.isBarHorizontal&&(r=new le(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(r,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"']"));o||typeof e!="number"||(o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,d=o?parseFloat(o.getAttribute("cy")):0,f=o?parseFloat(o.getAttribute("barWidth")):0,u=s.getElGrid().getBoundingClientRect(),p=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!p&&(l-=a%2!=0?f/2:0),o&&p&&(l-=f/2)):i.globals.isBarHorizontal||(l=s.xAxisTicksPositions[t-1]+s.dataPointsDividedWidth/2,isNaN(l)&&(l=s.xAxisTicksPositions[t]-s.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?d-=s.tooltipRect.ttHeight:i.config.tooltip.followCursor?d=s.e.clientY-u.top-s.tooltipRect.ttHeight/2:d+s.tooltipRect.ttHeight+15>i.globals.gridHeight&&(d=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(l),s.fixedTooltip||this.moveTooltip(l,d||i.globals.gridHeight)}}]),h}(),Uh=function(){function h(t){$(this,h),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new wo(t)}return K(h,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new Y(this.ctx),i=new xi(this.ctx),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=Yt(s),t.config.chart.stacked&&s.sort(function(u,p){return parseFloat(u.getAttribute("data:realIndex"))-parseFloat(p.getAttribute("data:realIndex"))});for(var a=0;a<s.length;a++){var r=s[a].querySelector(".apexcharts-series-markers-wrap");if(r!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));t.config.chart.type!=="line"&&t.config.chart.type!=="area"||t.globals.comboCharts||t.config.tooltip.intersect||(l+=" no-pointer-events");var d=i.getMarkerConfig({cssClass:l,seriesIndex:Number(r.getAttribute("data:realIndex"))});(o=e.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var f=document.createElementNS(t.globals.SVGNS,"g");f.classList.add("apexcharts-series-markers"),f.appendChild(o.node),r.appendChild(f)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w;a.config.chart.type!=="bubble"&&this.newPointSize(t,e);var r=e.getAttribute("cx"),o=e.getAttribute("cy");if(i!==null&&s!==null&&(r=i,o=s),this.tooltipPosition.moveXCrosshairs(r),!this.fixedTooltip){if(a.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();r=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(r,o,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,s=this.ttCtx,a=t,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,l=0;l<r.length;l++){var d=r[l].getAttribute("rel"),f=r[l].getAttribute("index");if(o===void 0&&(o=e.globals.markers.size[f]+e.config.markers.hover.sizeOffset),a===parseInt(d,10)){i.newPointSize(a,r[l]);var u=r[l].getAttribute("cx"),p=r[l].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(u),s.fixedTooltip||i.tooltipPosition.moveTooltip(u,p,o)}else i.oldPointSize(r[l])}}},{key:"newPointSize",value:function(t,e){var i=this.w,s=i.config.markers.hover.size,a=t===0?e.parentNode.firstChild:e.parentNode.lastChild;if(a.getAttribute("default-marker-size")!=="0"){var r=parseInt(a.getAttribute("index"),10);s===void 0&&(s=i.globals.markers.size[r]+i.config.markers.hover.sizeOffset),s<0&&(s=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(e,s);e.setAttribute("d",o)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(t,e);t.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));if(O.isNumber(i)&&i>0){var s=this.ttCtx.tooltipUtil.getPathFromPoint(t[e],i);t[e].setAttribute("d",s)}else t[e].setAttribute("d","M0,0")}}}]),h}(),qh=function(){function h(t){$(this,h),this.w=t.w;var e=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!e.globals.isBarHorizontal&&e.config.chart.type==="rangeBar"&&e.config.plotOptions.bar.rangeBarGroupRows}return K(h,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,s=t.x,a=t.y,r=t.type,o=this.ttCtx,l=this.w;if(e.target.classList.contains("apexcharts-".concat(r,"-rect"))){var d=this.getAttr(e,"i"),f=this.getAttr(e,"j"),u=this.getAttr(e,"cx"),p=this.getAttr(e,"cy"),m=this.getAttr(e,"width"),v=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:d,j:f,shared:!1,e}),l.globals.capturedSeriesIndex=d,l.globals.capturedDataPointIndex=f,s=u+o.tooltipRect.ttWidth/2+m,a=p+o.tooltipRect.ttHeight/2-v/2,o.tooltipPosition.moveXCrosshairs(u+m/2),s>l.globals.gridWidth/2&&(s=u-o.tooltipRect.ttWidth/2+m),o.w.config.tooltip.followCursor){var x=l.globals.dom.elWrap.getBoundingClientRect();s=l.globals.clientX-x.left-(s>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),a=l.globals.clientY-x.top-(a>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,s=t.e,a=t.opt,r=t.x,o=t.y,l=this.w,d=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var f=parseInt(a.paths.getAttribute("cx"),10),u=parseInt(a.paths.getAttribute("cy"),10),p=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var m=O.findAncestor(a.paths,"apexcharts-series");m&&(e=parseInt(m.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!d.showOnIntersect&&l.config.tooltip.shared,e:s}),s.type==="mouseup"&&d.markerClick(s,e,i),l.globals.capturedSeriesIndex=e,l.globals.capturedDataPointIndex=i,r=f,o=u+l.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var v=d.getElGrid().getBoundingClientRect();o=d.e.clientY+l.globals.translateY-v.top}p<0&&(o=u),d.marker.enlargeCurrentPoint(i,a.paths,r,o)}return{x:r,y:o}}},{key:"handleBarTooltip",value:function(t){var e,i,s=t.e,a=t.opt,r=this.w,o=this.ttCtx,l=o.getElTooltip(),d=0,f=0,u=0,p=this.getBarTooltipXY({e:s,opt:a});if(p.j!==null||p.barHeight!==0||p.barWidth!==0){e=p.i;var m=p.j;if(r.globals.capturedSeriesIndex=e,r.globals.capturedDataPointIndex=m,r.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!r.config.tooltip.shared?(f=p.x,u=p.y,i=Array.isArray(r.config.stroke.width)?r.config.stroke.width[e]:r.config.stroke.width,d=f):r.globals.comboCharts||r.config.tooltip.shared||(d/=2),isNaN(u)&&(u=r.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),f+o.tooltipRect.ttWidth>r.globals.gridWidth?f-=o.tooltipRect.ttWidth:f<0&&(f=0),o.w.config.tooltip.followCursor){var v=o.getElGrid().getBoundingClientRect();u=o.e.clientY-v.top}o.tooltip===null&&(o.tooltip=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),r.config.tooltip.shared||(r.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(d+i/2):o.tooltipPosition.moveXCrosshairs(d)),!o.fixedTooltip&&(!r.config.tooltip.shared||r.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(u=u+r.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=f+r.globals.translateX+"px",l.style.top=u+"px")}}},{key:"getBarTooltipXY",value:function(t){var e=this,i=t.e,s=t.opt,a=this.w,r=null,o=this.ttCtx,l=0,d=0,f=0,u=0,p=0,m=i.target.classList;if(m.contains("apexcharts-bar-area")||m.contains("apexcharts-candlestick-area")||m.contains("apexcharts-boxPlot-area")||m.contains("apexcharts-rangebar-area")){var v=i.target,x=v.getBoundingClientRect(),y=s.elGrid.getBoundingClientRect(),_=x.height;p=x.height;var k=x.width,C=parseInt(v.getAttribute("cx"),10),M=parseInt(v.getAttribute("cy"),10);u=parseFloat(v.getAttribute("barWidth"));var S=i.type==="touchmove"?i.touches[0].clientX:i.clientX;r=parseInt(v.getAttribute("j"),10),l=parseInt(v.parentNode.getAttribute("rel"),10)-1;var I=v.getAttribute("data-range-y1"),P=v.getAttribute("data-range-y2");a.globals.comboCharts&&(l=parseInt(v.parentNode.getAttribute("data:realIndex"),10));var T=function(R){return a.globals.isXNumeric?C-k/2:e.isVerticalGroupedRangeBar?C+k/2:C-o.dataPointsDividedWidth+k/2},E=function(){return M-o.dataPointsDividedHeight+_/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:l,j:r,y1:I?parseInt(I,10):null,y2:P?parseInt(P,10):null,shared:!o.showOnIntersect&&a.config.tooltip.shared,e:i}),a.config.tooltip.followCursor?a.globals.isBarHorizontal?(d=S-y.left+15,f=E()):(d=T(),f=i.clientY-y.top-o.tooltipRect.ttHeight/2-15):a.globals.isBarHorizontal?((d=C)<o.xyRatios.baseLineInvertedY&&(d=C-o.tooltipRect.ttWidth),f=E()):(d=T(),f=M)}return{x:d,y:f,barHeight:p,barWidth:u,i:l,j:r}}}]),h}(),$h=function(){function h(t){$(this,h),this.w=t.w,this.ttCtx=t}return K(h,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i=t.config.xaxis.position==="bottom";e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=0;i<t.config.yaxis.length;i++){var s=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=s?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),r=t.globals.dom.elWrap;t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),r.appendChild(e.yaxisTooltip),i===0&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(s!==null&&t.config.xaxis.crosshairs.width==="barWidth"){var a=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var r=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/r}}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}else if(t.config.xaxis.crosshairs.width==="barWidth"){var l=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var d=parseFloat(l.getAttribute("barWidth"));e.xcrosshairsWidth=d}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),i!==null&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var s=this.ttCtx,a=this.w,r=a.globals,o=r.seriesYAxisMap[t];if(s.yaxisTooltips[t]&&o.length>0){var l=r.yLabelFormatters[t],d=s.getElGrid().getBoundingClientRect(),f=o[0],u=0;i.yRatio.length>1&&(u=f);var p=(e-d.top)*i.yRatio[u],m=r.maxYArr[f]-r.minYArr[f],v=r.minYArr[f]+(m-p);a.config.yaxis[t].reversed&&(v=r.maxYArr[f]-(m-p)),s.tooltipPosition.moveYCrosshairs(e-d.top),s.yaxisTooltipText[t].innerHTML=l(v),s.tooltipPosition.moveYAxisTooltip(t)}}}]),h}(),Ar=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w;var e=this.w;this.tConfig=e.config.tooltip,this.tooltipUtil=new _o(this),this.tooltipLabels=new Vh(this),this.tooltipPosition=new wo(this),this.marker=new Uh(this),this.intersect=new qh(this),this.axesTooltip=new $h(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return K(h,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map(function(r,o){return!!(r.show&&r.tooltip.enabled&&e.globals.axisCharts)}),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new Fi(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&e.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),e.config.markers.size!==0&&e.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,s=[],a=this.getElTooltip(),r=function(l){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),d.style.order=i.config.tooltip.inverseOrder?t-l:l+1;var f=document.createElement("span");f.classList.add("apexcharts-tooltip-marker"),f.style.backgroundColor=i.globals.colors[l],d.appendChild(f);var u=document.createElement("div");u.classList.add("apexcharts-tooltip-text"),u.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,u.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(p,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),m.appendChild(v);var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),m.appendChild(x),u.appendChild(m)}),d.appendChild(u),a.appendChild(d),s.push(d)},o=0;o<t;o++)r(o);return s}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),s=!(e!=="bar"&&e!=="candlestick"&&e!=="boxPlot"&&e!=="rangeBar"),a=e==="area"||e==="line"||e==="scatter"||e==="bubble"||e==="radar",r=t.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,d=[],f=[],u={hoverArea:r,elGrid:o,tooltipEl:i,tooltipY:d,tooltipX:f,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):e!=="heatmap"&&e!=="treemap"||(l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var p=0;p<l.length;p++)d.push(l[p].getAttribute("cy")),f.push(l[p].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([r],u);else if(s&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!t.globals.axisCharts||e==="heatmap"||e==="treemap"){var m=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(m,u)}if(this.showOnIntersect){var v=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");v.length>0&&this.addPathsEventListeners(v,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),s=i.width+10,a=i.height+10,r=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(r=r+t.globals.svgWidth-s+10),l.indexOf("bottom")>-1&&(o=o+t.globals.svgHeight-a-10),e.style.left=r+"px",e.style.top=o+"px",{x:r,y:o,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,s=function(r){var o={paths:t[r],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return t[r].addEventListener(l,i.onSeriesHover.bind(i,o),{capture:!1,passive:!0})})},a=0;a<t.length;a++)s(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,s=Date.now()-this.lastHoverTime;s>=20?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(t,e)},20-s))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||a.globals.dataPoints===0)||(s.length?s.forEach(function(r){var o=i.getElTooltip(r),l={paths:t.paths,tooltipEl:o,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:r.w.globals.tooltip.ttItems};r.w.globals.minX===i.w.globals.minX&&r.w.globals.maxX===i.w.globals.maxX&&r.w.globals.tooltip.seriesHoverByContext({chartCtx:r,ttCtx:r.w.globals.tooltip,opt:l,e})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,s=t.opt,a=t.e,r=e.w,o=this.getElTooltip(e);o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=a,i.tooltipUtil.hasBars()&&!r.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new le(e).toggleSeriesOnHover(a,a.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),r.globals.axisCharts?i.axisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,s=t.e,a=t.opt,r=this.w,o=a.elGrid.getBoundingClientRect(),l=s.type==="touchmove"?s.touches[0].clientX:s.clientX,d=s.type==="touchmove"?s.touches[0].clientY:s.clientY;if(this.clientY=d,this.clientX=l,r.globals.capturedSeriesIndex=-1,r.globals.capturedDataPointIndex=-1,d<o.top||d>o.top+o.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!r.config.tooltip.shared){var f=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(f)<0)return void this.handleMouseOut(a)}var u=this.getElTooltip(),p=this.getElXCrosshairs(),m=[];r.config.chart.group&&(m=this.ctx.getSyncedCharts());var v=r.globals.xyCharts||r.config.chart.type==="bar"&&!r.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||r.globals.comboCharts&&this.tooltipUtil.hasBars();if(s.type==="mousemove"||s.type==="touchmove"||s.type==="mouseup"){if(r.globals.collapsedSeries.length+r.globals.ancillaryCollapsedSeries.length===r.globals.series.length)return;p!==null&&p.classList.add("apexcharts-active");var x=this.yaxisTooltips.filter(function(k){return k===!0});if(this.ycrosshairs!==null&&x.length&&this.ycrosshairs.classList.add("apexcharts-active"),v&&!this.showOnIntersect||m.length>1)this.handleStickyTooltip(s,l,d,a);else if(r.config.chart.type==="heatmap"||r.config.chart.type==="treemap"){var y=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:e,y:i,type:r.config.chart.type});e=y.x,i=y.y,u.style.left=e+"px",u.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var _=0;_<r.config.yaxis.length;_++)this.axesTooltip.drawYaxisTooltipText(_,d,this.xyRatios);r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.tooltipEl.classList.add("apexcharts-active")}else s.type!=="mouseout"&&s.type!=="touchend"||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,s=t.tooltipRect,a=this.w,r=i.paths.getAttribute("rel"),o=this.getElTooltip(),l=a.globals.dom.elWrap.getBoundingClientRect();if(e.type==="mousemove"||e.type==="touchmove"){a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(r,10)-1,shared:!1});var d=a.globals.clientX-l.left-s.ttWidth/2,f=a.globals.clientY-l.top-s.ttHeight-10;if(o.style.left=d+"px",o.style.top=f+"px",a.config.legend.tooltipHoverFormatter){var u=r-1,p=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[u].getAttribute("data:default-text"),{seriesIndex:u,dataPointIndex:u,w:a});this.legendLabels[u].innerHTML=p}}else e.type!=="mouseout"&&e.type!=="touchend"||(o.classList.remove("apexcharts-active"),a.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(m){var v=m.getAttribute("data:default-text");m.innerHTML=decodeURIComponent(v)}))}},{key:"handleStickyTooltip",value:function(t,e,i,s){var a=this.w,r=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:e,clientY:i}),o=r.j,l=r.capturedSeries;a.globals.collapsedSeriesIndices.includes(l)&&(l=null);var d=s.elGrid.getBoundingClientRect();if(r.hoverX<0||r.hoverX>d.width)this.handleMouseOut(s);else if(l!==null)this.handleStickyCapturedSeries(t,l,s,o);else if(this.tooltipUtil.isXoverlap(o)||a.globals.isBarHorizontal){var f=a.globals.series.findIndex(function(u,p){return!a.globals.collapsedSeriesIndices.includes(p)});this.create(t,this,f,o,s.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(t,e,i,s){var a=this.w;if(!this.tConfig.shared&&a.globals.series[e][s]===null)return void this.handleMouseOut(i);if(a.globals.series[e][s]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,s,i.ttItems):this.create(t,this,e,s,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(s)){var r=a.globals.series.findIndex(function(o,l){return!a.globals.collapsedSeriesIndices.includes(l)});this.create(t,this,r,s,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new Y(this.ctx),i=t.globals.dom.Paper.find(".apexcharts-bar-area"),s=0;s<i.length;s++)e.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(e.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),e.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(a){var r=a.getAttribute("data:default-text");a.innerHTML=decodeURIComponent(r)})}},{key:"markerClick",value:function(t,e,i){var s=this.w;typeof s.config.chart.events.markerClick=="function"&&s.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:s}])}},{key:"create",value:function(t,e,i,s,a){var r,o,l,d,f,u,p,m,v,x,y,_,k,C,M,S,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=this.w,T=e;t.type==="mouseup"&&this.markerClick(t,i,s),I===null&&(I=this.tConfig.shared);var E=this.tooltipUtil.hasMarkers(i),R=this.tooltipUtil.getElBars();if(P.config.legend.tooltipHoverFormatter){var B=P.config.legend.tooltipHoverFormatter,H=Array.from(this.legendLabels);H.forEach(function(ft){var pt=ft.getAttribute("data:default-text");ft.innerHTML=decodeURIComponent(pt)});for(var X=0;X<H.length;X++){var N=H[X],q=parseInt(N.getAttribute("i"),10),V=decodeURIComponent(N.getAttribute("data:default-text")),tt=B(V,{seriesIndex:I?q:i,dataPointIndex:s,w:P});if(I)N.innerHTML=P.globals.collapsedSeriesIndices.indexOf(q)<0?tt:V;else if(N.innerHTML=q===i?tt:V,i===q)break}}var G=U(U({ttItems:a,i,j:s},((r=P.globals.seriesRange)===null||r===void 0||(o=r[i])===null||o===void 0||(l=o[s])===null||l===void 0||(d=l.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(f=P.globals.seriesRange)===null||f===void 0||(u=f[i])===null||u===void 0||(p=u[s])===null||p===void 0||(m=p.y[0])===null||m===void 0?void 0:m.y1}),((v=P.globals.seriesRange)===null||v===void 0||(x=v[i])===null||x===void 0||(y=x[s])===null||y===void 0||(_=y.y[0])===null||_===void 0?void 0:_.y2)!==void 0&&{y2:(k=P.globals.seriesRange)===null||k===void 0||(C=k[i])===null||C===void 0||(M=C[s])===null||M===void 0||(S=M.y[0])===null||S===void 0?void 0:S.y2});if(I){if(T.tooltipLabels.drawSeriesTexts(U(U({},G),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),E)P.globals.markers.largestSize>0?T.marker.enlargePoints(s):T.tooltipPosition.moveDynamicPointsOnHover(s);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(R),this.barSeriesHeight>0)){var at=new Y(this.ctx),Z=P.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(s,i);for(var J=0;J<Z.length;J++)at.pathMouseEnter(Z[J])}}else T.tooltipLabels.drawSeriesTexts(U({shared:!1},G)),this.tooltipUtil.hasBars()&&T.tooltipPosition.moveStickyTooltipOverBars(s,i),E&&T.tooltipPosition.moveMarkers(i,s)}}]),h}(),Kh=function(){function h(t){$(this,h),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return K(h,[{key:"handleBarDataLabels",value:function(t){var e,i,s=t.x,a=t.y,r=t.y1,o=t.y2,l=t.i,d=t.j,f=t.realIndex,u=t.columnGroupIndex,p=t.series,m=t.barHeight,v=t.barWidth,x=t.barXPosition,y=t.barYPosition,_=t.visibleSeries,k=t.renderedPath,C=this.w,M=new Y(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth;C.globals.isXNumeric&&!C.globals.isBarHorizontal?(e=s+parseFloat(v*(_+1)),i=a+parseFloat(m*(_+1))-S):(e=s+parseFloat(v*_),i=a+parseFloat(m*_));var I,P=null,T=s,E=a,R={},B=C.config.dataLabels,H=this.barCtx.barOptions.dataLabels,X=this.barCtx.barOptions.dataLabels.total;y!==void 0&&this.barCtx.isRangeBar&&(i=y,E=y),x!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(e=x,T=x);var N=B.offsetX,q=B.offsetY,V={width:0,height:0};if(C.config.dataLabels.enabled){var tt=C.globals.series[l][d];V=M.getTextRects(C.config.dataLabels.formatter?C.config.dataLabels.formatter(tt,U(U({},C),{},{seriesIndex:l,dataPointIndex:d,w:C})):C.globals.yLabelFormatters[0](tt),parseFloat(B.style.fontSize))}var G={x:s,y:a,i:l,j:d,realIndex:f,columnGroupIndex:u,renderedPath:k,bcx:e,bcy:i,barHeight:m,barWidth:v,textRects:V,strokeWidth:S,dataLabelsX:T,dataLabelsY:E,dataLabelsConfig:B,barDataLabelsConfig:H,barTotalDataLabelsConfig:X,offX:N,offY:q};return R=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(G):this.calculateColumnsDataLabelsPosition(G),k.attr({cy:R.bcy,cx:R.bcx,j:d,val:C.globals.series[l][d],barHeight:m,barWidth:v}),I=this.drawCalculatedDataLabels({x:R.dataLabelsX,y:R.dataLabelsY,val:this.barCtx.isRangeBar?[r,o]:C.config.chart.stackType==="100%"?p[f][d]:C.globals.series[f][d],i:f,j:d,barWidth:v,barHeight:m,textRects:V,dataLabelsConfig:B}),C.config.chart.stacked&&X.enabled&&(P=this.drawTotalDataLabels({x:R.totalDataLabelsX,y:R.totalDataLabelsY,barWidth:v,barHeight:m,realIndex:f,textAnchor:R.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:f,j:d}),dataLabelsConfig:B,barTotalDataLabelsConfig:X})),{dataLabels:I,totalDataLabels:P}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,s=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,U(U({},s),{},{seriesIndex:e,dataPointIndex:i,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e=this.w,i=t.i,s=t.j,a=t.realIndex;t.columnGroupIndex;var r,o,l=t.y,d=t.bcx,f=t.barWidth,u=t.barHeight,p=t.textRects,m=t.dataLabelsX,v=t.dataLabelsY,x=t.dataLabelsConfig,y=t.barDataLabelsConfig,_=t.barTotalDataLabelsConfig,k=t.strokeWidth,C=t.offX,M=t.offY,S=d;u=Math.abs(u);var I=e.config.plotOptions.bar.dataLabels.orientation==="vertical",P=this.barCtx.barHelpers.getZeroValueEncounters({i,j:s}).zeroEncounters;d-=k/2;var T=e.globals.gridWidth/e.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?m+=f/2:(m=e.globals.isXNumeric?d-f/2+C:d-T+f/2+C,P>0&&e.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(m-=f*P)),I&&(m=m+p.height/2-k/2-2);var E=e.globals.series[i][s]<0,R=l;switch(this.barCtx.isReversed&&(R=l+(E?u:-u)),y.position){case"center":v=I?E?R-u/2+M:R+u/2-M:E?R-u/2+p.height/2+M:R+u/2+p.height/2-M;break;case"bottom":v=I?E?R-u+M:R+u-M:E?R-u+p.height+k+M:R+u-p.height/2+k-M;break;case"top":v=I?E?R+M:R-M:E?R-p.height/2-M:R+p.height+M}if(this.barCtx.lastActiveBarSerieIndex===a&&_.enabled){var B=new Y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:s}),x.fontSize);r=E?R-B.height/2-M-_.offsetY+18:R+B.height+M+_.offsetY-18;var H=T;o=S+(e.globals.isXNumeric?-f*e.globals.barGroups.length/2:e.globals.barGroups.length*f/2-(e.globals.barGroups.length-1)*f-H)+_.offsetX}return e.config.chart.stacked||(v<0?v=0+k:v+p.height/3>e.globals.gridHeight&&(v=e.globals.gridHeight-k)),{bcx:d,bcy:l,dataLabelsX:m,dataLabelsY:v,totalDataLabelsX:o,totalDataLabelsY:r,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,s=t.i,a=t.j,r=t.realIndex,o=t.bcy,l=t.barHeight,d=t.barWidth,f=t.textRects,u=t.dataLabelsX,p=t.strokeWidth,m=t.dataLabelsConfig,v=t.barDataLabelsConfig,x=t.barTotalDataLabelsConfig,y=t.offX,_=t.offY,k=e.globals.gridHeight/e.globals.dataPoints;d=Math.abs(d);var C,M,S=o-(this.barCtx.isRangeBar?0:k)+l/2+f.height/2+_-3,I="start",P=e.globals.series[s][a]<0,T=i;switch(this.barCtx.isReversed&&(T=i+(P?-d:d),I=P?"start":"end"),v.position){case"center":u=P?T+d/2-y:Math.max(f.width/2,T-d/2)+y;break;case"bottom":u=P?T+d-p-y:T-d+p+y;break;case"top":u=P?T-p-y:T-p+y}if(this.barCtx.lastActiveBarSerieIndex===r&&x.enabled){var E=new Y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:r,j:a}),m.fontSize);P?(C=T-p-y-x.offsetX,I="end"):C=T+y+x.offsetX+(this.barCtx.isReversed?-(d+p):p),M=S-f.height/2+E.height/2+x.offsetY+p}return e.config.chart.stacked||(m.textAnchor==="start"?u-f.width<0?u=P?f.width+p:p:u+f.width>e.globals.gridWidth&&(u=P?e.globals.gridWidth-p:e.globals.gridWidth-f.width-p):m.textAnchor==="middle"?u-f.width/2<0?u=f.width/2+p:u+f.width/2>e.globals.gridWidth&&(u=e.globals.gridWidth-f.width/2-p):m.textAnchor==="end"&&(u<1?u=f.width+p:u+1>e.globals.gridWidth&&(u=e.globals.gridWidth-f.width-p))),{bcx:i,bcy:o,dataLabelsX:u,dataLabelsY:S,totalDataLabelsX:C,totalDataLabelsY:M,totalDataLabelsAnchor:I}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.i,r=t.j,o=t.textRects,l=t.barHeight,d=t.barWidth,f=t.dataLabelsConfig,u=this.w,p="rotate(0)";u.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(p="rotate(-90, ".concat(e,", ").concat(i,")"));var m=new di(this.barCtx.ctx),v=new Y(this.barCtx.ctx),x=f.formatter,y=null,_=u.globals.collapsedSeriesIndices.indexOf(a)>-1;if(f.enabled&&!_){y=v.group({class:"apexcharts-data-labels",transform:p});var k="";s!==void 0&&(k=x(s,U(U({},u),{},{seriesIndex:a,dataPointIndex:r,w:u}))),!s&&u.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k="");var C=u.globals.series[a][r]<0,M=u.config.plotOptions.bar.dataLabels.position;u.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(M==="top"&&(f.textAnchor=C?"end":"start"),M==="center"&&(f.textAnchor="middle"),M==="bottom"&&(f.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<v.getTextRects(k,parseFloat(f.style.fontSize)).width&&(k=""),u.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(d)&&(k=""):o.height/1.6>Math.abs(l)&&(k=""));var S=U({},f);this.barCtx.isHorizontal&&s<0&&(f.textAnchor==="start"?S.textAnchor="end":f.textAnchor==="end"&&(S.textAnchor="start")),m.plotDataLabelsText({x:e,y:i,text:k,i:a,j:r,parent:y,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return y}},{key:"drawTotalDataLabels",value:function(t){var e=t.x,i=t.y,s=t.val,a=t.realIndex,r=t.textAnchor,o=t.barTotalDataLabelsConfig;this.w;var l,d=new Y(this.barCtx.ctx);return o.enabled&&e!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===a&&(l=d.drawText({x:e,y:i,foreColor:o.style.color,text:s,textAnchor:r,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),h}(),Jh=function(){function h(t){$(this,h),this.w=t.w,this.barCtx=t}return K(h,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var s=0;s<t[i].length;s++)e.globals.seriesX[i][s]>e.globals.minX&&e.globals.seriesX[i][s]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(e.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,s,a,r,o,l,d=this.w,f=d.globals.dataPoints;this.barCtx.isRangeBar&&(f=d.globals.labels.length);var u=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(u=1),this.barCtx.isHorizontal)a=(i=d.globals.gridHeight/f)/u,d.globals.isXNumeric&&(a=(i=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),l=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(l=d.globals.gridWidth/2),e=(i-a*this.barCtx.seriesLen)/2;else{if(s=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(s=d.globals.gridWidth/d.globals.dataPoints),r=s/u*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var p=this.barCtx.xRatio;d.globals.minXDiff&&d.globals.minXDiff!==.5&&d.globals.minXDiff/p>0&&(s=d.globals.minXDiff/p),(r=s/u*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(r=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(r=parseInt(this.barCtx.barOptions.columnWidth,10)),o=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),t=d.globals.padHorizontal+(s-r*this.barCtx.seriesLen)/2}return d.globals.barHeight=a,d.globals.barWidth=r,{x:t,y:e,yDivision:i,xDivision:s,barHeight:a,barWidth:r,zeroH:o,zeroW:l}}},{key:"initializeStackedPrevVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].prevY=[],t[e].prevX=[],t[e].prevYF=[],t[e].prevXF=[],t[e].prevYVal=[],t[e].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].xArrj=[],t[e].xArrjF=[],t[e].xArrjVal=[],t[e].yArrj=[],t[e].yArrjF=[],t[e].yArrjVal=[]})}},{key:"getPathFillColor",value:function(t,e,i,s){var a,r,o,l,d=this.w,f=this.barCtx.ctx.fill,u=null,p=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(m){t[e][i]>=m.from&&t[e][i]<=m.to&&(u=m.color)}),f.fillPath({seriesNumber:this.barCtx.barOptions.distributed?p:s,dataPointIndex:i,color:u,value:t[e][i],fillConfig:(a=d.config.series[e].data[i])===null||a===void 0?void 0:a.fill,fillType:(r=d.config.series[e].data[i])!==null&&r!==void 0&&(o=r.fill)!==null&&o!==void 0&&o.type?(l=d.config.series[e].data[i])===null||l===void 0?void 0:l.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[s]:d.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var s=0,a=this.w;return this.barCtx.series[t][e]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"createBorderRadiusArr",value:function(t){var e,i=this.w,s=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,a=t.length,r=0|((e=t[0])===null||e===void 0?void 0:e.length),o=Array.from({length:a},function(){return Array(r).fill(s?"top":"none")});if(s)return o;for(var l=0;l<r;l++){for(var d=[],f=[],u=0,p=0;p<a;p++){var m=t[p][l];m>0?(d.push(p),u++):m<0&&(f.push(p),u++)}if(d.length>0&&f.length===0)if(d.length===1)o[d[0]][l]="both";else{var v,x=d[0],y=d[d.length-1],_=zi(d);try{for(_.s();!(v=_.n()).done;){var k=v.value;o[k][l]=k===x?"bottom":k===y?"top":"none"}}catch(V){_.e(V)}finally{_.f()}}else if(f.length>0&&d.length===0)if(f.length===1)o[f[0]][l]="both";else{var C,M=Math.max.apply(Math,f),S=Math.min.apply(Math,f),I=zi(f);try{for(I.s();!(C=I.n()).done;){var P=C.value;o[P][l]=P===M?"bottom":P===S?"top":"none"}}catch(V){I.e(V)}finally{I.f()}}else if(d.length>0&&f.length>0){var T,E=d[d.length-1],R=zi(d);try{for(R.s();!(T=R.n()).done;){var B=T.value;o[B][l]=B===E?"top":"none"}}catch(V){R.e(V)}finally{R.f()}var H,X=Math.max.apply(Math,f),N=zi(f);try{for(N.s();!(H=N.n()).done;){var q=H.value;o[q][l]=q===X?"bottom":"none"}}catch(V){N.e(V)}finally{N.f()}}else u===1&&(o[d[0]||f[0]][l]="both")}return o}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,s=t.x1,a=t.x2,r=t.y1,o=t.y2,l=t.elSeries,d=this.w,f=new Y(this.barCtx.ctx),u=new le(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=this.barCtx.barOptions.colors.backgroundBarColors[e],m=f.drawRect(s!==void 0?s:0,r!==void 0?r:0,a!==void 0?a:d.globals.gridWidth,o!==void 0?o:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,p,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(m),m.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,s=t.barXPosition,a=t.y1,r=t.y2,o=t.strokeWidth,l=t.isReversed,d=t.series,f=t.seriesGroup,u=t.realIndex,p=t.i,m=t.j,v=t.w,x=new Y(this.barCtx.ctx);(o=Array.isArray(o)?o[u]:o)||(o=0);var y=i,_=s;(e=v.config.series[u].data[m])!==null&&e!==void 0&&e.columnWidthOffset&&(_=s-v.config.series[u].data[m].columnWidthOffset/2,y=i+v.config.series[u].data[m].columnWidthOffset);var k=o/2,C=_+k,M=_+y-k,S=(d[p][m]>=0?1:-1)*(l?-1:1);a+=.001-k*S,r+=.001+k*S;var I=x.move(C,a),P=x.move(C,a),T=x.line(M,a);if(v.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(u,m,!1)),I=I+x.line(C,r)+x.line(M,r)+T+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][m]==="both"?" Z":" z"),P=P+x.line(C,a)+T+T+T+T+T+x.line(C,a)+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][m]==="both"?" Z":" z"),this.arrBorderRadius[u][m]!=="none"&&(I=x.roundPathCorners(I,v.config.plotOptions.bar.borderRadius)),v.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[f]).yArrj.push(r-k*S),E.yArrjF.push(Math.abs(a-r+o*S)),E.yArrjVal.push(this.barCtx.series[p][m])}return{pathTo:I,pathFrom:P}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,s=t.barHeight,a=t.x1,r=t.x2,o=t.strokeWidth,l=t.isReversed,d=t.series,f=t.seriesGroup,u=t.realIndex,p=t.i,m=t.j,v=t.w,x=new Y(this.barCtx.ctx);(o=Array.isArray(o)?o[u]:o)||(o=0);var y=i,_=s;(e=v.config.series[u].data[m])!==null&&e!==void 0&&e.barHeightOffset&&(y=i-v.config.series[u].data[m].barHeightOffset/2,_=s+v.config.series[u].data[m].barHeightOffset);var k=o/2,C=y+k,M=y+_-k,S=(d[p][m]>=0?1:-1)*(l?-1:1);a+=.001+k*S,r+=.001-k*S;var I=x.move(a,C),P=x.move(a,C);v.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(u,m,!1));var T=x.line(a,M);if(I=I+x.line(r,C)+x.line(r,M)+T+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][m]==="both"?" Z":" z"),P=P+x.line(a,C)+T+T+T+T+T+x.line(a,C)+(v.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][m]==="both"?" Z":" z"),this.arrBorderRadius[u][m]!=="none"&&(I=x.roundPathCorners(I,v.config.plotOptions.bar.borderRadius)),v.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[f]).xArrj.push(r+k*S),E.xArrjF.push(Math.abs(a-r-o*S)),E.xArrjVal.push(this.barCtx.series[p][m])}return{pathTo:I,pathFrom:P}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,s=0;s<e.length;s++){for(var a=0,r=0;r<e[i.globals.maxValsInArrayIndex].length;r++)a+=e[s][r];a===0&&this.barCtx.zeroSerieses.push(s)}}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?e:null;return t!=null&&(i=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(t,e,i){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?e:null;return t!=null&&(s=e-t/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[i]:0)),s}},{key:"getGoalValues",value:function(t,e,i,s,a,r){var o=this,l=this.w,d=[],f=function(m,v){var x;d.push((bs(x={},t,t==="x"?o.getXForValue(m,e,!1):o.getYForValue(m,i,r,!1)),bs(x,"attrs",v),x))};if(l.globals.seriesGoals[s]&&l.globals.seriesGoals[s][a]&&Array.isArray(l.globals.seriesGoals[s][a])&&l.globals.seriesGoals[s][a].forEach(function(m){f(m.value,m)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var u=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,p={strokeHeight:t==="x"?0:l.globals.markers.size[s],strokeWidth:t==="x"?l.globals.markers.size[s]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(u[s])?u[s][0]:u[s]};f(l.globals.seriesRangeStart[s][a],p),f(l.globals.seriesRangeEnd[s][a],U(U({},p),{},{strokeColor:Array.isArray(u[s])?u[s][1]:u[s]}))}return d}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,s=t.goalX,a=t.goalY,r=t.barWidth,o=t.barHeight,l=new Y(this.barCtx.ctx),d=l.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var f=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach(function(u){if(u.x>=-1&&u.x<=l.w.globals.gridWidth+1){var p=u.attrs.strokeHeight!==void 0?u.attrs.strokeHeight:o/2,m=i+p+o/2;f=l.drawLine(u.x,m-2*p,u.x,m,u.attrs.strokeColor?u.attrs.strokeColor:void 0,u.attrs.strokeDashArray,u.attrs.strokeWidth?u.attrs.strokeWidth:2,u.attrs.strokeLineCap),d.add(f)}}):Array.isArray(a)&&a.forEach(function(u){if(u.y>=-1&&u.y<=l.w.globals.gridHeight+1){var p=u.attrs.strokeWidth!==void 0?u.attrs.strokeWidth:r/2,m=e+p+r/2;f=l.drawLine(m-2*p,u.y,m,u.y,u.attrs.strokeColor?u.attrs.strokeColor:void 0,u.attrs.strokeDashArray,u.attrs.strokeHeight?u.attrs.strokeHeight:2,u.attrs.strokeLineCap),d.add(f)}}),d}},{key:"drawBarShadow",value:function(t){var e=t.prevPaths,i=t.currPaths,s=t.color,a=this.w,r=e.x,o=e.x1,l=e.barYPosition,d=i.x,f=i.x1,u=i.barYPosition,p=l+i.barHeight,m=new Y(this.barCtx.ctx),v=new O,x=m.move(o,p)+m.line(r,p)+m.line(d,u)+m.line(f,u)+m.line(o,p)+(a.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return m.drawPath({d:x,fill:v.shadeColor(.5,O.rgb2hex(s)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(t){var e,i=t.i,s=t.j,a=this.w,r=0,o=0;return(a.config.plotOptions.bar.horizontal?a.globals.series.map(function(l,d){return d}):((e=a.globals.columnSeries)===null||e===void 0?void 0:e.i.map(function(l){return l}))||[]).forEach(function(l){var d=a.globals.seriesPercent[l][s];d&&r++,l<i&&d===0&&o++}),{nonZeroColumns:r,zeroEncounters:o}}},{key:"getGroupIndex",value:function(t){var e=this.w,i=e.globals.seriesGroups.findIndex(function(r){return r.indexOf(e.globals.seriesNames[t])>-1}),s=this.barCtx.columnGroupIndices,a=s.indexOf(i);return a<0&&(s.push(i),a=s.length-1),{groupIndex:i,columnGroupIndex:a}}}]),h}(),ui=function(){function h(t,e){$(this,h),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=e,this.xyRatios!==null&&(this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var s=new le(this.ctx);this.lastActiveBarSerieIndex=s.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var a=s.getBarSeriesIndices(),r=new zt(this.ctx);this.stackedSeriesTotals=r.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return a.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new Jh(this)}return K(h,[{key:"draw",value:function(t,e){var i=this.w,s=new Y(this.ctx),a=new zt(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var r=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<t.length;o++,l++){var d,f,u,p,m=void 0,v=void 0,x=[],y=[],_=i.globals.comboCharts?e[o]:o,k=this.barHelpers.getGroupIndex(_).columnGroupIndex,C=s.group({class:"apexcharts-series",rel:o+1,seriesName:O.escapeString(i.globals.seriesNames[_]),"data:realIndex":_});this.ctx.series.addCollapsedClassToSeries(C,_),t[o].length>0&&(this.visibleI=this.visibleI+1);var M=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[_],this.translationsIndex=_);var I=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions();v=P.y,M=P.barHeight,f=P.yDivision,p=P.zeroW,m=P.x,S=P.barWidth,d=P.xDivision,u=P.zeroH,this.isHorizontal||y.push(m+S/2);var T=s.group({class:"apexcharts-datalabels","data:realIndex":_});i.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");var E=s.group({class:"apexcharts-bar-goals-markers"}),R=s.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:R.node}),R.node.classList.add("apexcharts-element-hidden");for(var B=0;B<t[o].length;B++){var H=this.barHelpers.getStrokeWidth(o,B,_),X=null,N={indexes:{i:o,j:B,realIndex:_,translationsIndex:I,bc:l},x:m,y:v,strokeWidth:H,elSeries:C};this.isHorizontal?(X=this.drawBarPaths(U(U({},N),{},{barHeight:M,zeroW:p,yDivision:f})),S=this.series[o][B]/this.invertedYRatio):(X=this.drawColumnPaths(U(U({},N),{},{xDivision:d,barWidth:S,zeroH:u})),M=this.series[o][B]/this.yRatio[I]);var q=this.barHelpers.getPathFillColor(t,o,B,_);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&B>0){var V=this.barHelpers.drawBarShadow({color:typeof q=="string"&&q?.indexOf("url")===-1?q:O.hexToRgba(i.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:X});R.add(V),i.config.chart.dropShadow.enabled&&new jt(this.ctx).dropShadow(V,i.config.chart.dropShadow,_)}this.pathArr.push(X);var tt=this.barHelpers.drawGoalLine({barXPosition:X.barXPosition,barYPosition:X.barYPosition,goalX:X.goalX,goalY:X.goalY,barHeight:M,barWidth:S});tt&&E.add(tt),v=X.y,m=X.x,B>0&&y.push(m+S/2),x.push(v),this.renderSeries({realIndex:_,pathFill:q,j:B,i:o,columnGroupIndex:k,pathFrom:X.pathFrom,pathTo:X.pathTo,strokeWidth:H,elSeries:C,x:m,y:v,series:t,barHeight:Math.abs(X.barHeight?X.barHeight:M),barWidth:Math.abs(X.barWidth?X.barWidth:S),elDataLabelsWrap:T,elGoalsMarkers:E,elBarShadows:R,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[_]=y,i.globals.seriesYvalues[_]=x,r.add(C)}return r}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,s=t.lineFill,a=t.j,r=t.i,o=t.columnGroupIndex,l=t.pathFrom,d=t.pathTo,f=t.strokeWidth,u=t.elSeries,p=t.x,m=t.y,v=t.y1,x=t.y2,y=t.series,_=t.barHeight,k=t.barWidth,C=t.barXPosition,M=t.barYPosition,S=t.elDataLabelsWrap,I=t.elGoalsMarkers,P=t.elBarShadows,T=t.visibleSeries,E=t.type,R=t.classes,B=this.w,H=new Y(this.ctx);if(!s){var X=typeof B.globals.stroke.colors[e]=="function"?function(G){var at,Z=B.config.stroke.colors;return Array.isArray(Z)&&Z.length>0&&((at=Z[G])||(at=""),typeof at=="function")?at({value:B.globals.series[G][a],dataPointIndex:a,w:B}):at}(e):B.globals.stroke.colors[e];s=this.barOptions.distributed?B.globals.stroke.colors[a]:X}B.config.series[r].data[a]&&B.config.series[r].data[a].strokeColor&&(s=B.config.series[r].data[a].strokeColor),this.isNullValue&&(i="none");var N=a/B.config.chart.animations.animateGradually.delay*(B.config.chart.animations.speed/B.globals.dataPoints)/2.4,q=H.renderPaths({i:r,j:a,realIndex:e,pathFrom:l,pathTo:d,stroke:s,strokeWidth:f,strokeLineCap:B.config.stroke.lineCap,fill:i,animationDelay:N,initialSpeed:B.config.chart.animations.speed,dataChangeSpeed:B.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(E,"-area ").concat(R),chartType:E});q.attr("clip-path","url(#gridRectBarMask".concat(B.globals.cuid,")"));var V=B.config.forecastDataPoints;V.count>0&&a>=B.globals.dataPoints-V.count&&(q.node.setAttribute("stroke-dasharray",V.dashArray),q.node.setAttribute("stroke-width",V.strokeWidth),q.node.setAttribute("fill-opacity",V.fillOpacity)),v!==void 0&&x!==void 0&&(q.attr("data-range-y1",v),q.attr("data-range-y2",x)),new jt(this.ctx).setSelectionFilter(q,e,a),u.add(q);var tt=new Kh(this).handleBarDataLabels({x:p,y:m,y1:v,y2:x,i:r,j:a,series:y,realIndex:e,columnGroupIndex:o,barHeight:_,barWidth:k,barXPosition:C,barYPosition:M,renderedPath:q,visibleSeries:T});return tt.dataLabels!==null&&S.add(tt.dataLabels),tt.totalDataLabels&&S.add(tt.totalDataLabels),u.add(S),I&&u.add(I),P&&u.add(P),u}},{key:"drawBarPaths",value:function(t){var e,i=t.indexes,s=t.barHeight,a=t.strokeWidth,r=t.zeroW,o=t.x,l=t.y,d=t.yDivision,f=t.elSeries,u=this.w,p=i.i,m=i.j;if(u.globals.isXNumeric)e=(l=(u.globals.seriesX[p][m]-u.globals.minX)/this.invertedXRatio-s)+s*this.visibleI;else if(u.config.plotOptions.bar.hideZeroBarsWhenGrouped){var v=0,x=0;u.globals.seriesPercent.forEach(function(_,k){_[m]&&v++,k<p&&_[m]===0&&x++}),v>0&&(s=this.seriesLen*s/v),e=l+s*this.visibleI,e-=s*x}else e=l+s*this.visibleI;this.isFunnel&&(r-=(this.barHelpers.getXForValue(this.series[p][m],r)-r)/2),o=this.barHelpers.getXForValue(this.series[p][m],r);var y=this.barHelpers.getBarpaths({barYPosition:e,barHeight:s,x1:r,x2:o,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:p,j:m,w:u});return u.globals.isXNumeric||(l+=d),this.barHelpers.barBackground({j:m,i:p,y1:e-s*this.visibleI,y2:s*this.seriesLen,elSeries:f}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x1:r,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",r,null,p,m),barYPosition:e,barHeight:s}}},{key:"drawColumnPaths",value:function(t){var e,i=t.indexes,s=t.x,a=t.y,r=t.xDivision,o=t.barWidth,l=t.zeroH,d=t.strokeWidth,f=t.elSeries,u=this.w,p=i.realIndex,m=i.translationsIndex,v=i.i,x=i.j,y=i.bc;if(u.globals.isXNumeric){var _=this.getBarXForNumericXAxis({x:s,j:x,realIndex:p,barWidth:o});s=_.x,e=_.barXPosition}else if(u.config.plotOptions.bar.hideZeroBarsWhenGrouped){var k=this.barHelpers.getZeroValueEncounters({i:v,j:x}),C=k.nonZeroColumns,M=k.zeroEncounters;C>0&&(o=this.seriesLen*o/C),e=s+o*this.visibleI,e-=o*M}else e=s+o*this.visibleI;a=this.barHelpers.getYForValue(this.series[v][x],l,m);var S=this.barHelpers.getColumnPaths({barXPosition:e,barWidth:o,y1:l,y2:a,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:p,i:v,j:x,w:u});return u.globals.isXNumeric||(s+=r),this.barHelpers.barBackground({bc:y,j:x,i:v,x1:e-d/2-o*this.visibleI,x2:o*this.seriesLen+d/2,elSeries:f}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:s,y:a,goalY:this.barHelpers.getGoalValues("y",null,l,v,x,m),barXPosition:e,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(t){var e=t.x,i=t.barWidth,s=t.realIndex,a=t.j,r=this.w,o=s;return r.globals.seriesX[s].length||(o=r.globals.maxValsInArrayIndex),O.isNumber(r.globals.seriesX[o][a])&&(e=(r.globals.seriesX[o][a]-r.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:e+i*this.visibleI,x:e}}},{key:"getPreviousPath",value:function(t,e){for(var i,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var r=s.globals.previousPaths[a];r.paths&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(t,10)&&s.globals.previousPaths[a].paths[e]!==void 0&&(i=s.globals.previousPaths[a].paths[e].d)}return i}}]),h}(),Lr=function(h){Ni(e,ui);var t=Xi(e);function e(){return $(this,e),t.apply(this,arguments)}return K(e,[{key:"draw",value:function(i,s){var a=this,r=this.w;this.graphics=new Y(this.ctx),this.bar=new ui(this.ctx,this.xyRatios);var o=new zt(this.ctx,r);i=o.getLogSeries(i),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),r.config.chart.stackType==="100%"&&(i=r.globals.comboCharts?s.map(function(v){return r.globals.seriesPercent[v]}):r.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,f=0,u=function(v,x){var y=void 0,_=void 0,k=void 0,C=void 0,M=r.globals.comboCharts?s[v]:v,S=a.barHelpers.getGroupIndex(M),I=S.groupIndex,P=S.columnGroupIndex;a.groupCtx=a[r.globals.seriesGroups[I]];var T=[],E=[],R=0;a.yRatio.length>1&&(a.yaxisIndex=r.globals.seriesYAxisReverseMap[M][0],R=M),a.isReversed=r.config.yaxis[a.yaxisIndex]&&r.config.yaxis[a.yaxisIndex].reversed;var B=a.graphics.group({class:"apexcharts-series",seriesName:O.escapeString(r.globals.seriesNames[M]),rel:v+1,"data:realIndex":M});a.ctx.series.addCollapsedClassToSeries(B,M);var H=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":M}),X=a.graphics.group({class:"apexcharts-bar-goals-markers"}),N=0,q=0,V=a.initialPositions(d,f,y,_,k,C,R);f=V.y,N=V.barHeight,_=V.yDivision,C=V.zeroW,d=V.x,q=V.barWidth,y=V.xDivision,k=V.zeroH,r.globals.barHeight=N,r.globals.barWidth=q,a.barHelpers.initializeStackedXYVars(a),a.groupCtx.prevY.length===1&&a.groupCtx.prevY[0].every(function(lt){return isNaN(lt)})&&(a.groupCtx.prevY[0]=a.groupCtx.prevY[0].map(function(){return k}),a.groupCtx.prevYF[0]=a.groupCtx.prevYF[0].map(function(){return 0}));for(var tt=0;tt<r.globals.dataPoints;tt++){var G=a.barHelpers.getStrokeWidth(v,tt,M),at={indexes:{i:v,j:tt,realIndex:M,translationsIndex:R,bc:x},strokeWidth:G,x:d,y:f,elSeries:B,columnGroupIndex:P,seriesGroup:r.globals.seriesGroups[I]},Z=null;a.isHorizontal?(Z=a.drawStackedBarPaths(U(U({},at),{},{zeroW:C,barHeight:N,yDivision:_})),q=a.series[v][tt]/a.invertedYRatio):(Z=a.drawStackedColumnPaths(U(U({},at),{},{xDivision:y,barWidth:q,zeroH:k})),N=a.series[v][tt]/a.yRatio[R]);var J=a.barHelpers.drawGoalLine({barXPosition:Z.barXPosition,barYPosition:Z.barYPosition,goalX:Z.goalX,goalY:Z.goalY,barHeight:N,barWidth:q});J&&X.add(J),f=Z.y,d=Z.x,T.push(d),E.push(f);var ft=a.barHelpers.getPathFillColor(i,v,tt,M),pt="",rt=r.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(a.barHelpers.arrBorderRadius[M][tt]==="bottom"&&r.globals.series[M][tt]>0||a.barHelpers.arrBorderRadius[M][tt]==="top"&&r.globals.series[M][tt]<0)&&(pt=rt),B=a.renderSeries({realIndex:M,pathFill:ft,j:tt,i:v,columnGroupIndex:P,pathFrom:Z.pathFrom,pathTo:Z.pathTo,strokeWidth:G,elSeries:B,x:d,y:f,series:i,barHeight:N,barWidth:q,elDataLabelsWrap:H,elGoalsMarkers:X,type:"bar",visibleSeries:P,classes:pt})}r.globals.seriesXvalues[M]=T,r.globals.seriesYvalues[M]=E,a.groupCtx.prevY.push(a.groupCtx.yArrj),a.groupCtx.prevYF.push(a.groupCtx.yArrjF),a.groupCtx.prevYVal.push(a.groupCtx.yArrjVal),a.groupCtx.prevX.push(a.groupCtx.xArrj),a.groupCtx.prevXF.push(a.groupCtx.xArrjF),a.groupCtx.prevXVal.push(a.groupCtx.xArrjVal),l.add(B)},p=0,m=0;p<i.length;p++,m++)u(p,m);return l}},{key:"initialPositions",value:function(i,s,a,r,o,l,d){var f,u,p=this.w;if(this.isHorizontal){r=p.globals.gridHeight/p.globals.dataPoints;var m=p.config.plotOptions.bar.barHeight;f=String(m).indexOf("%")===-1?parseInt(m,10):r*parseInt(m,10)/100,l=p.globals.padHorizontal+(this.isReversed?p.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),s=(r-f)/2}else{u=a=p.globals.gridWidth/p.globals.dataPoints;var v=p.config.plotOptions.bar.columnWidth;p.globals.isXNumeric&&p.globals.dataPoints>1?u=(a=p.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(v).indexOf("%")===-1?u=parseInt(v,10):u*=parseInt(v,10)/100,o=this.isReversed?this.baseLineY[d]:p.globals.gridHeight-this.baseLineY[d],i=p.globals.padHorizontal+(a-u)/2}var x=p.globals.barGroups.length||1;return{x:i,y:s,yDivision:r,xDivision:a,barHeight:f/x,barWidth:u/x,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(i){for(var s,a=i.indexes,r=i.barHeight,o=i.strokeWidth,l=i.zeroW,d=i.x,f=i.y,u=i.columnGroupIndex,p=i.seriesGroup,m=i.yDivision,v=i.elSeries,x=this.w,y=f+u*r,_=a.i,k=a.j,C=a.realIndex,M=a.translationsIndex,S=0,I=0;I<this.groupCtx.prevXF.length;I++)S+=this.groupCtx.prevXF[I][k];var P;if((P=p.indexOf(x.config.series[C].name))>0){var T=l;this.groupCtx.prevXVal[P-1][k]<0?T=this.series[_][k]>=0?this.groupCtx.prevX[P-1][k]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[P-1][k]:this.groupCtx.prevXVal[P-1][k]>=0&&(T=this.series[_][k]>=0?this.groupCtx.prevX[P-1][k]:this.groupCtx.prevX[P-1][k]-S+2*(this.isReversed?S:0)),s=T}else s=l;d=this.series[_][k]===null?s:s+this.series[_][k]/this.invertedYRatio-2*(this.isReversed?this.series[_][k]/this.invertedYRatio:0);var E=this.barHelpers.getBarpaths({barYPosition:y,barHeight:r,x1:s,x2:d,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,seriesGroup:p,i:_,j:k,w:x});return this.barHelpers.barBackground({j:k,i:_,y1:y,y2:r,elSeries:v}),f+=m,{pathTo:E.pathTo,pathFrom:E.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,_,k,M),barXPosition:s,barYPosition:y,x:d,y:f}}},{key:"drawStackedColumnPaths",value:function(i){var s=i.indexes,a=i.x,r=i.y,o=i.xDivision,l=i.barWidth,d=i.zeroH,f=i.columnGroupIndex,u=i.seriesGroup,p=i.elSeries,m=this.w,v=s.i,x=s.j,y=s.bc,_=s.realIndex,k=s.translationsIndex;if(m.globals.isXNumeric){var C=m.globals.seriesX[_][x];C||(C=0),a=(C-m.globals.minX)/this.xRatio-l/2*m.globals.barGroups.length}for(var M,S=a+f*l,I=0,P=0;P<this.groupCtx.prevYF.length;P++)I+=isNaN(this.groupCtx.prevYF[P][x])?0:this.groupCtx.prevYF[P][x];var T=v;if(u&&(T=u.indexOf(m.globals.seriesNames[_])),T>0&&!m.globals.isXNumeric||T>0&&m.globals.isXNumeric&&m.globals.seriesX[_-1][x]===m.globals.seriesX[_][x]){var E,R,B,H=Math.min(this.yRatio.length+1,_+1);if(this.groupCtx.prevY[T-1]!==void 0&&this.groupCtx.prevY[T-1].length)for(var X=1;X<H;X++){var N;if(!isNaN((N=this.groupCtx.prevY[T-X])===null||N===void 0?void 0:N[x])){B=this.groupCtx.prevY[T-X][x];break}}for(var q=1;q<H;q++){var V,tt;if(((V=this.groupCtx.prevYVal[T-q])===null||V===void 0?void 0:V[x])<0){R=this.series[v][x]>=0?B-I+2*(this.isReversed?I:0):B;break}if(((tt=this.groupCtx.prevYVal[T-q])===null||tt===void 0?void 0:tt[x])>=0){R=this.series[v][x]>=0?B:B+I-2*(this.isReversed?I:0);break}}R===void 0&&(R=m.globals.gridHeight),M=(E=this.groupCtx.prevYF[0])!==null&&E!==void 0&&E.every(function(at){return at===0})&&this.groupCtx.prevYF.slice(1,T).every(function(at){return at.every(function(Z){return isNaN(Z)})})?d:R}else M=d;r=this.series[v][x]?M-this.series[v][x]/this.yRatio[k]+2*(this.isReversed?this.series[v][x]/this.yRatio[k]:0):M;var G=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:l,y1:M,y2:r,yRatio:this.yRatio[k],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:u,realIndex:s.realIndex,i:v,j:x,w:m});return this.barHelpers.barBackground({bc:y,j:x,i:v,x1:S,x2:l,elSeries:p}),{pathTo:G.pathTo,pathFrom:G.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,v,x),barXPosition:S,x:m.globals.isXNumeric?a:a+o,y:r}}}]),e}(),ba=function(h){Ni(e,ui);var t=Xi(e);function e(){return $(this,e),t.apply(this,arguments)}return K(e,[{key:"draw",value:function(i,s,a){var r=this,o=this.w,l=new Y(this.ctx),d=o.globals.comboCharts?s:o.config.chart.type,f=new pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal;var u=new zt(this.ctx,o);i=u.getLogSeries(i),this.series=i,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var p=l.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),m=function(x){r.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[x].type==="boxPlot";var y,_,k,C,M=void 0,S=void 0,I=[],P=[],T=o.globals.comboCharts?a[x]:x,E=r.barHelpers.getGroupIndex(T).columnGroupIndex,R=l.group({class:"apexcharts-series",seriesName:O.escapeString(o.globals.seriesNames[T]),rel:x+1,"data:realIndex":T});r.ctx.series.addCollapsedClassToSeries(R,T),i[x].length>0&&(r.visibleI=r.visibleI+1);var B,H,X=0;r.yRatio.length>1&&(r.yaxisIndex=o.globals.seriesYAxisReverseMap[T][0],X=T);var N=r.barHelpers.initialPositions();S=N.y,B=N.barHeight,_=N.yDivision,C=N.zeroW,M=N.x,H=N.barWidth,y=N.xDivision,k=N.zeroH,P.push(M+H/2);for(var q=l.group({class:"apexcharts-datalabels","data:realIndex":T}),V=l.group({class:"apexcharts-bar-goals-markers"}),tt=function(at){var Z=r.barHelpers.getStrokeWidth(x,at,T),J=null,ft={indexes:{i:x,j:at,realIndex:T,translationsIndex:X},x:M,y:S,strokeWidth:Z,elSeries:R};J=r.isHorizontal?r.drawHorizontalBoxPaths(U(U({},ft),{},{yDivision:_,barHeight:B,zeroW:C})):r.drawVerticalBoxPaths(U(U({},ft),{},{xDivision:y,barWidth:H,zeroH:k})),S=J.y,M=J.x;var pt=r.barHelpers.drawGoalLine({barXPosition:J.barXPosition,barYPosition:J.barYPosition,goalX:J.goalX,goalY:J.goalY,barHeight:B,barWidth:H});pt&&V.add(pt),at>0&&P.push(M+H/2),I.push(S),J.pathTo.forEach(function(rt,lt){var et=!r.isBoxPlot&&r.candlestickOptions.wick.useFillColor?J.color[lt]:o.globals.stroke.colors[x],ct=f.fillPath({seriesNumber:T,dataPointIndex:at,color:J.color[lt],value:i[x][at]});r.renderSeries({realIndex:T,pathFill:ct,lineFill:et,j:at,i:x,pathFrom:J.pathFrom,pathTo:rt,strokeWidth:Z,elSeries:R,x:M,y:S,series:i,columnGroupIndex:E,barHeight:B,barWidth:H,elDataLabelsWrap:q,elGoalsMarkers:V,visibleSeries:r.visibleI,type:o.config.chart.type})})},G=0;G<o.globals.dataPoints;G++)tt(G);o.globals.seriesXvalues[T]=P,o.globals.seriesYvalues[T]=I,p.add(R)},v=0;v<i.length;v++)m(v);return p}},{key:"drawVerticalBoxPaths",value:function(i){var s=i.indexes,a=i.x;i.y;var r=i.xDivision,o=i.barWidth,l=i.zeroH,d=i.strokeWidth,f=this.w,u=new Y(this.ctx),p=s.i,m=s.j,v=f.config.plotOptions.candlestick.colors,x=this.boxOptions.colors,y=s.realIndex,_=function(q){return Array.isArray(q)?q[y]:q},k=_(v.upward),C=_(v.downward),M=this.yRatio[s.translationsIndex],S=this.getOHLCValue(y,m),I=l,P=l,T=S.o<S.c?[k]:[C];this.isBoxPlot&&(T=[_(x.lower),_(x.upper)]);var E=Math.min(S.o,S.c),R=Math.max(S.o,S.c),B=S.m;f.globals.isXNumeric&&(a=(f.globals.seriesX[y][m]-f.globals.minX)/this.xRatio-o/2);var H=a+o*this.visibleI;this.series[p][m]===void 0||this.series[p][m]===null?(E=l,R=l):(E=l-E/M,R=l-R/M,I=l-S.h/M,P=l-S.l/M,B=l-S.m/M);var X=u.move(H,l),N=u.move(H+o/2,E);return f.globals.previousPaths.length>0&&(N=this.getPreviousPath(y,m,!0)),X=this.isBoxPlot?[u.move(H,E)+u.line(H+o/2,E)+u.line(H+o/2,I)+u.line(H+o/4,I)+u.line(H+o-o/4,I)+u.line(H+o/2,I)+u.line(H+o/2,E)+u.line(H+o,E)+u.line(H+o,B)+u.line(H,B)+u.line(H,E+d/2),u.move(H,B)+u.line(H+o,B)+u.line(H+o,R)+u.line(H+o/2,R)+u.line(H+o/2,P)+u.line(H+o-o/4,P)+u.line(H+o/4,P)+u.line(H+o/2,P)+u.line(H+o/2,R)+u.line(H,R)+u.line(H,B)+"z"]:[u.move(H,R)+u.line(H+o/2,R)+u.line(H+o/2,I)+u.line(H+o/2,R)+u.line(H+o,R)+u.line(H+o,E)+u.line(H+o/2,E)+u.line(H+o/2,P)+u.line(H+o/2,E)+u.line(H,E)+u.line(H,R-d/2)],N+=u.move(H,E),f.globals.isXNumeric||(a+=r),{pathTo:X,pathFrom:N,x:a,y:R,goalY:this.barHelpers.getGoalValues("y",null,l,p,m,s.translationsIndex),barXPosition:H,color:T}}},{key:"drawHorizontalBoxPaths",value:function(i){var s=i.indexes;i.x;var a=i.y,r=i.yDivision,o=i.barHeight,l=i.zeroW,d=i.strokeWidth,f=this.w,u=new Y(this.ctx),p=s.i,m=s.j,v=this.boxOptions.colors.lower;this.isBoxPlot&&(v=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var x=this.invertedYRatio,y=s.realIndex,_=this.getOHLCValue(y,m),k=l,C=l,M=Math.min(_.o,_.c),S=Math.max(_.o,_.c),I=_.m;f.globals.isXNumeric&&(a=(f.globals.seriesX[y][m]-f.globals.minX)/this.invertedXRatio-o/2);var P=a+o*this.visibleI;this.series[p][m]===void 0||this.series[p][m]===null?(M=l,S=l):(M=l+M/x,S=l+S/x,k=l+_.h/x,C=l+_.l/x,I=l+_.m/x);var T=u.move(l,P),E=u.move(M,P+o/2);return f.globals.previousPaths.length>0&&(E=this.getPreviousPath(y,m,!0)),T=[u.move(M,P)+u.line(M,P+o/2)+u.line(k,P+o/2)+u.line(k,P+o/2-o/4)+u.line(k,P+o/2+o/4)+u.line(k,P+o/2)+u.line(M,P+o/2)+u.line(M,P+o)+u.line(I,P+o)+u.line(I,P)+u.line(M+d/2,P),u.move(I,P)+u.line(I,P+o)+u.line(S,P+o)+u.line(S,P+o/2)+u.line(C,P+o/2)+u.line(C,P+o-o/4)+u.line(C,P+o/4)+u.line(C,P+o/2)+u.line(S,P+o/2)+u.line(S,P)+u.line(I,P)+"z"],E+=u.move(M,P),f.globals.isXNumeric||(a+=r),{pathTo:T,pathFrom:E,x:S,y:a,goalX:this.barHelpers.getGoalValues("x",l,null,p,m),barYPosition:P,color:v}}},{key:"getOHLCValue",value:function(i,s){var a=this.w,r=new zt(this.ctx,a),o=r.getLogValAtSeriesIndex(a.globals.seriesCandleH[i][s],i),l=r.getLogValAtSeriesIndex(a.globals.seriesCandleO[i][s],i),d=r.getLogValAtSeriesIndex(a.globals.seriesCandleM[i][s],i),f=r.getLogValAtSeriesIndex(a.globals.seriesCandleC[i][s],i),u=r.getLogValAtSeriesIndex(a.globals.seriesCandleL[i][s],i);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:d,l:this.isBoxPlot?f:u,c:this.isBoxPlot?u:f}}}]),e}(),ko=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(s,a){s.from<=0&&(e=!0)}),e}},{key:"getShadeColor",value:function(t,e,i,s){var a=this.w,r=1,o=a.config.plotOptions[t].shadeIntensity,l=this.determineColor(t,e,i);a.globals.hasNegs||s?r=a.config.plotOptions[t].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(r=1-l.percent/100,t==="treemap"&&(r=(1-l.percent/100)*(1.25*o)));var d=l.color,f=new O;if(a.config.plotOptions[t].enableShades)if(this.w.config.theme.mode==="dark"){var u=f.shadeColor(-1*r,l.color);d=O.hexToRgba(O.isColorHex(u)?u:O.rgb2hex(u),a.config.fill.opacity)}else{var p=f.shadeColor(r,l.color);d=O.hexToRgba(O.isColorHex(p)?p:O.rgb2hex(p),a.config.fill.opacity)}return{color:d,colorProps:l}}},{key:"determineColor",value:function(t,e,i){var s=this.w,a=s.globals.series[e][i],r=s.config.plotOptions[t],o=r.colorScale.inverse?i:e;r.distributed&&s.config.chart.type==="treemap"&&(o=i);var l=s.globals.colors[o],d=null,f=Math.min.apply(Math,Yt(s.globals.series[e])),u=Math.max.apply(Math,Yt(s.globals.series[e]));r.distributed||t!=="heatmap"||(f=s.globals.minY,u=s.globals.maxY),r.colorScale.min!==void 0&&(f=r.colorScale.min<s.globals.minY?r.colorScale.min:s.globals.minY,u=r.colorScale.max>s.globals.maxY?r.colorScale.max:s.globals.maxY);var p=Math.abs(u)+Math.abs(f),m=100*a/(p===0?p-1e-6:p);return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(v,x){if(a>=v.from&&a<=v.to){l=v.color,d=v.foreColor?v.foreColor:null,f=v.from,u=v.to;var y=Math.abs(u)+Math.abs(f);m=100*a/(y===0?y-1e-6:y)}}),{color:l,foreColor:d,percent:m}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,s=t.y,a=t.i,r=t.j,o=t.colorProps,l=t.fontSize,d=this.w.config.dataLabels,f=new Y(this.ctx),u=new di(this.ctx),p=null;if(d.enabled){p=f.group({class:"apexcharts-data-labels"});var m=d.offsetX,v=d.offsetY,x=i+m,y=s+parseFloat(d.style.fontSize)/3+v;u.plotDataLabelsText({x,y,text:e,i:a,j:r,color:o.foreColor,parent:p,fontSize:l,dataLabelsConfig:d})}return p}},{key:"addListeners",value:function(t){var e=new Y(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),h}(),Qh=function(){function h(t,e){$(this,h),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ko(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return K(h,[{key:"draw",value:function(t){var e=this.w,i=new Y(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,r=e.globals.gridHeight/e.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var d=t.slice();e.config.yaxis[0].reversed&&(l=!0,d.reverse());for(var f=l?0:d.length-1;l?f<d.length:f>=0;l?f++:f--){var u=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:O.escapeString(e.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});if(this.ctx.series.addCollapsedClassToSeries(u,f),e.config.chart.dropShadow.enabled){var p=e.config.chart.dropShadow;new jt(this.ctx).dropShadow(u,p,f)}for(var m=0,v=e.config.plotOptions.heatmap.shadeIntensity,x=0,y=0;y<e.globals.dataPoints;y++)if(e.globals.seriesX.length&&e.globals.minX+e.globals.minXDiff*y<e.globals.seriesX[f][x])m+=a;else{if(x>=d[f].length)break;var _=this.helpers.getShadeColor(e.config.chart.type,f,x,this.negRange),k=_.color,C=_.colorProps;e.config.fill.type==="image"&&(k=new pe(this.ctx).fillPath({seriesNumber:f,dataPointIndex:x,opacity:e.globals.hasNegs?C.percent<0?1-(1+C.percent/100):v+C.percent/100:C.percent/100,patternID:O.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:r}));var M=this.rectRadius,S=i.drawRect(m,o,a,r,M);if(S.attr({cx:m,cy:o}),S.node.classList.add("apexcharts-heatmap-rect"),u.add(S),S.attr({fill:k,i:f,index:f,j:x,val:t[f][x],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?k:e.globals.stroke.colors[0],color:k}),this.helpers.addListeners(S),e.config.chart.animations.enabled&&!e.globals.dataChanged){var I=1;e.globals.resized||(I=e.config.chart.animations.speed),this.animateHeatMap(S,m,o,a,r,I)}if(e.globals.dataChanged){var P=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){P=this.dynamicAnim.speed;var T=e.globals.previousPaths[f]&&e.globals.previousPaths[f][x]&&e.globals.previousPaths[f][x].color;T||(T="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,O.isColorHex(T)?T:O.rgb2hex(T),O.isColorHex(k)?k:O.rgb2hex(k),P)}}var E=(0,e.config.dataLabels.formatter)(e.globals.series[f][x],{value:e.globals.series[f][x],seriesIndex:f,dataPointIndex:x,w:e}),R=this.helpers.calculateDataLabels({text:E,x:m+a/2,y:o+r/2,i:f,j:x,colorProps:C,series:d});R!==null&&u.add(R),m+=a,x++}o+=r,s.add(u)}var B=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?B.unshift(""):B.push(""),e.globals.yAxisScale[0].result=B,s}},{key:"animateHeatMap",value:function(t,e,i,s,a,r){var o=new fi(this.ctx);o.animateRect(t,{x:e+s/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:s,height:a},r,function(){o.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,e,i,s){t.attr({fill:e}).animate(s).attr({fill:i})}}]),h}(),Co=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"drawYAxisTexts",value:function(t,e,i,s){var a=this.w,r=a.config.yaxis[0],o=a.globals.yLabelFormatters[0];return new Y(this.ctx).drawText({x:t+r.labels.offsetX,y:e+r.labels.offsetY,text:o(s,i),textAnchor:"middle",fontSize:r.labels.style.fontSize,fontFamily:r.labels.style.fontFamily,foreColor:Array.isArray(r.labels.style.colors)?r.labels.style.colors[i]:r.labels.style.colors})}}]),h}(),Ao=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w;var e=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=e.globals.stroke.colors!==void 0?e.globals.stroke.colors:e.globals.colors,this.defaultSize=Math.min(e.globals.gridWidth,e.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=e.globals.gridWidth/2,e.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(e.config.plotOptions.pie.endAngle-e.config.plotOptions.pie.startAngle),this.initialAngle=e.config.plotOptions.pie.startAngle%this.fullAngle,e.globals.radialSize=this.defaultSize/2.05-e.config.stroke.width-(e.config.chart.sparkline.enabled?0:e.config.chart.dropShadow.blur),this.donutSize=e.globals.radialSize*parseInt(e.config.plotOptions.pie.donut.size,10)/100;var i=e.config.plotOptions.pie.customScale,s=e.globals.gridWidth/2,a=e.globals.gridHeight/2;this.translateX=s-s*i,this.translateY=a-a*i,this.dataLabelsGroup=new Y(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return K(h,[{key:"draw",value:function(t){var e=this,i=this.w,s=new Y(this.ctx),a=s.group({class:"apexcharts-pie"});if(i.globals.noData)return a;for(var r=0,o=0;o<t.length;o++)r+=O.negToZero(t[o]);var l=[],d=s.group();r===0&&(r=1e-5),t.forEach(function(C){e.maxY=Math.max(e.maxY,C)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(a);for(var f=0;f<t.length;f++){var u=this.fullAngle*O.negToZero(t[f])/r;l.push(u),this.chartType==="polarArea"?(l[f]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[f]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var p,m=0,v=0;v<i.globals.previousPaths.length;v++)m+=O.negToZero(i.globals.previousPaths[v]);for(var x=0;x<i.globals.previousPaths.length;x++)p=this.fullAngle*O.negToZero(i.globals.previousPaths[x])/m,this.prevSectorAngleArr.push(p)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var y=s.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),d.add(y)}var _=this.drawArcs(l,t);if(this.sliceLabels.forEach(function(C){_.add(C)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),d.add(_),a.add(d),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});a.add(k)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(a),a}},{key:"drawArcs",value:function(t,e){var i=this.w,s=new jt(this.ctx),a=new Y(this.ctx),r=new pe(this.ctx),o=a.group({class:"apexcharts-slices"}),l=this.initialAngle,d=this.initialAngle,f=this.initialAngle,u=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var p=0;p<t.length;p++){var m=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:O.escapeString(i.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});o.add(m),d=u,f=(l=f)+t[p],u=d+this.prevSectorAngleArr[p];var v=f<l?this.fullAngle+f-l:f-l,x=r.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:e[p]}),y=this.getChangedPath(d,u),_=a.drawPath({d:y,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:x,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});if(_.attr({index:0,j:p}),s.setSelectionFilter(_,0,p),i.config.chart.dropShadow.enabled){var k=i.config.chart.dropShadow;s.dropShadow(_,k,p)}this.addListeners(_,this.donutDataLabels),Y.setAttrs(_.node,{"data:angle":v,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":e[p]});var C={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?C=O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(l+v/2)%this.fullAngle):this.chartType==="donut"&&(C=O.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(l+v/2)%this.fullAngle)),m.add(_);var M=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((M=v/this.fullAngle*i.config.chart.animations.speed)===0&&(M=1),this.animDur=M+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(_,{size:this.sliceSizes[p],endAngle:f,startAngle:l,prevStartAngle:d,prevEndAngle:u,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(_,{size:this.sliceSizes[p],endAngle:f,startAngle:l,i:p,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:M}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&_.node.addEventListener("mouseup",this.pieClicked.bind(this,p)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),i.config.dataLabels.enabled){var S=C.x,I=C.y,P=100*v/this.fullAngle+"%";if(v!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[p]){var T=i.config.dataLabels.formatter;T!==void 0&&(P=T(i.globals.seriesPercent[p][0],{seriesIndex:p,w:i}));var E=i.globals.dataLabels.style.colors[p],R=a.group({class:"apexcharts-datalabels"}),B=a.drawText({x:S,y:I,text:P,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:E});if(R.add(B),i.config.dataLabels.dropShadow.enabled){var H=i.config.dataLabels.dropShadow;s.dropShadow(B,H)}B.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(B.node.classList.add("apexcharts-pie-label-delay"),B.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(R)}}}return o}},{key:"addListeners",value:function(t,e){var i=new Y(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,s=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=s,r=e.startAngle,o=e.startAngle;e.prevStartAngle!==void 0&&e.prevEndAngle!==void 0&&(r=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(s+o>this.fullAngle?e.endAngle=e.endAngle-(s+o):s+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(s+o)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(t,r,o,s,a,e)}},{key:"animateArc",value:function(t,e,i,s,a,r){var o,l=this,d=this.w,f=new fi(this.ctx),u=r.size;(isNaN(e)||isNaN(a))&&(e=i,a=s,r.dur=0);var p=s,m=i,v=e<i?this.fullAngle+e-i:e-i;d.globals.dataChanged&&r.shouldSetPrevPaths&&r.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:r.prevStartAngle,angle:r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle,size:u}),t.attr({d:o})),r.dur!==0?t.animate(r.dur,r.animBeginArr[r.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),r.i===d.config.series.length-1&&f.animationCompleted(t)}).during(function(x){p=v+(s-v)*x,r.animateStartingPos&&(p=a+(s-a)*x,m=e-a+(i-(e-a))*x),o=l.getPiePath({me:l,startAngle:m,angle:p,size:u}),t.node.setAttribute("data:pathOrig",o),t.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:m,angle:s,size:u}),r.isTrack||(d.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",o),t.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,s=this,a=s.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),r=i.globals.dom.Paper.findOne(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(t));if(r.attr("data:pieClicked")!=="true"){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(u){u.setAttribute("data:pieClicked","false");var p=u.getAttribute("data:pathOrig");p&&u.setAttribute("d",p)}),i.globals.capturedDataPointIndex=t,r.attr("data:pieClicked","true");var l=parseInt(r.attr("data:startAngle"),10),d=parseInt(r.attr("data:angle"),10);e=s.getPiePath({me:s,startAngle:l,angle:d,size:a}),d!==360&&r.plot(e)}else{r.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(r.node,this.donutDataLabels);var f=r.attr("data:pathOrig");r.attr({d:f})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e,i=t.me,s=t.startAngle,a=t.angle,r=t.size,o=new Y(this.ctx),l=s,d=Math.PI*(l-90)/180,f=a+s;Math.ceil(f)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(f=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(f)>this.fullAngle&&(f-=this.fullAngle);var u=Math.PI*(f-90)/180,p=i.centerX+r*Math.cos(d),m=i.centerY+r*Math.sin(d),v=i.centerX+r*Math.cos(u),x=i.centerY+r*Math.sin(u),y=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,f),_=O.polarToCartesian(i.centerX,i.centerY,i.donutSize,l),k=a>180?1:0,C=["M",p,m,"A",r,r,0,k,1,v,x];return e=i.chartType==="donut"?[].concat(C,["L",y.x,y.y,"A",i.donutSize,i.donutSize,0,k,0,_.x,_.y,"L",p,m,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(C,["L",i.centerX,i.centerY,"L",p,m]).join(" "):[].concat(C).join(" "),o.roundPathCorners(e,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new vo(this.ctx),s=new Y(this.ctx),a=new Co(this.ctx),r=s.group(),o=s.group(),l=i.niceScale(0,Math.ceil(this.maxY),0),d=l.result.reverse(),f=l.result.length;this.maxY=l.niceMax;for(var u=e.globals.radialSize,p=u/(f-1),m=0;m<f-1;m++){var v=s.drawCircle(u);if(v.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var x=a.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,m,d[m]);o.add(x)}r.add(v),u-=p}this.drawSpokes(t),t.add(r),t.add(o)}},{key:"renderInnerDataLabels",value:function(t,e,i){var s=this.w,a=new Y(this.ctx),r=e.total.show;t.node.innerHTML="",t.node.style.opacity=i.opacity;var o,l,d=i.centerX,f=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;o=e.name.color===void 0?s.globals.colors[0]:e.name.color;var u=e.name.fontSize,p=e.name.fontFamily,m=e.name.fontWeight;l=e.value.color===void 0?s.config.chart.foreColor:e.value.color;var v=e.value.formatter,x="",y="";if(r?(o=e.total.color,u=e.total.fontSize,p=e.total.fontFamily,m=e.total.fontWeight,y=this.donutDataLabels.total.label?e.total.label:"",x=e.total.formatter(s)):s.globals.series.length===1&&(x=v(s.globals.series[0],s),y=s.globals.seriesNames[0]),y&&(y=e.name.formatter(y,e.total.show,s)),e.name.show){var _=a.drawText({x:d,y:f+parseFloat(e.name.offsetY),text:y,textAnchor:"middle",foreColor:o,fontSize:u,fontWeight:m,fontFamily:p});_.node.classList.add("apexcharts-datalabel-label"),t.add(_)}if(e.value.show){var k=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,C=a.drawText({x:d,y:f+k,text:x,textAnchor:"middle",foreColor:l,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});C.node.classList.add("apexcharts-datalabel-value"),t.add(C)}return t}},{key:"printInnerLabels",value:function(t,e,i,s){var a,r=this.w;s?a=t.name.color===void 0?r.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:t.name.color:r.globals.series.length>1&&t.total.show&&(a=t.total.color);var o=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=r.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,r),s||typeof t.total.formatter!="function"||(i=t.total.formatter(r));var d=e===t.total.label;e=this.donutDataLabels.total.label?t.name.formatter(e,d,r):"",o!==null&&(o.textContent=e),l!==null&&(l.textContent=i),o!==null&&(o.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,s=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,s,t);var r=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");r!==null&&(r.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,s=new Y(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(a.strokeWidth!==0){for(var r=[],o=360/i.globals.series.length,l=0;l<i.globals.series.length;l++)r.push(O.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+o*l));r.forEach(function(d,f){var u=s.drawLine(d.x,d.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[f]:a.connectorColors);t.add(u)})}}},{key:"revertDataLabelsInner",value:function(){var t=this.w;if(this.donutDataLabels.show){var e=t.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(e,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});t.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),h}(),tc=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var e=this.w;this.graphics=new Y(this.ctx),this.lineColorArr=e.globals.stroke.colors!==void 0?e.globals.stroke.colors:e.globals.colors,this.defaultSize=e.globals.svgHeight<e.globals.svgWidth?e.globals.gridHeight:e.globals.gridWidth,this.isLog=e.config.yaxis[0].logarithmic,this.logBase=e.config.yaxis[0].logBase,this.coreUtils=new zt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,e.globals.maxY,0):e.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):e.globals.minY,this.polygons=e.config.plotOptions.radar.polygons,this.strokeWidth=e.config.stroke.show?e.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-e.config.chart.dropShadow.blur,e.config.xaxis.labels.show&&(this.size=this.size-e.globals.xAxisLabelsWidth/1.75),e.config.plotOptions.radar.size!==void 0&&(this.size=e.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return K(h,[{key:"draw",value:function(t){var e=this,i=this.w,s=new pe(this.ctx),a=[],r=new di(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,d=o+i.config.plotOptions.radar.offsetX,f=l+i.config.plotOptions.radar.offsetY,u=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(f||0,")")}),p=[],m=null,v=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach(function(y,_){var k=y.length===i.globals.dataPoints,C=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":k,seriesName:O.escapeString(i.globals.seriesNames[_]),rel:_+1,"data:realIndex":_});e.dataRadiusOfPercent[_]=[],e.dataRadius[_]=[],e.angleArr[_]=[],y.forEach(function(X,N){var q=Math.abs(e.maxValue-e.minValue);X-=e.minValue,e.isLog&&(X=e.coreUtils.getLogVal(e.logBase,X,0)),e.dataRadiusOfPercent[_][N]=X/q,e.dataRadius[_][N]=e.dataRadiusOfPercent[_][N]*e.size,e.angleArr[_][N]=N*e.disAngle}),p=e.getDataPointsPos(e.dataRadius[_],e.angleArr[_]);var M=e.createPaths(p,{x:0,y:0});m=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),v=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":_}),i.globals.delayedElements.push({el:m.node,index:_});var S={i:_,realIndex:_,animationDelay:_,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[_],strokeLineCap:i.config.stroke.lineCap},I=null;i.globals.previousPaths.length>0&&(I=e.getPreviousPath(_));for(var P=0;P<M.linePathsTo.length;P++){var T=e.graphics.renderPaths(U(U({},S),{},{pathFrom:I===null?M.linePathsFrom[P]:I,pathTo:M.linePathsTo[P],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[_]:e.strokeWidth,fill:"none",drawShadow:!1}));C.add(T);var E=s.fillPath({seriesNumber:_}),R=e.graphics.renderPaths(U(U({},S),{},{pathFrom:I===null?M.areaPathsFrom[P]:I,pathTo:M.areaPathsTo[P],strokeWidth:0,fill:E,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var B=new jt(e.ctx),H=i.config.chart.dropShadow;B.dropShadow(R,Object.assign({},H,{noUserSpaceOnUse:!0}),_)}C.add(R)}y.forEach(function(X,N){var q=new xi(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:_,dataPointIndex:N}),V=e.graphics.drawMarker(p[N].x,p[N].y,q);V.attr("rel",N),V.attr("j",N),V.attr("index",_),V.node.setAttribute("default-marker-size",q.pSize);var tt=e.graphics.group({class:"apexcharts-series-markers"});tt&&tt.add(V),m.add(tt),C.add(m);var G=i.config.dataLabels;if(G.enabled){var at=G.formatter(i.globals.series[_][N],{seriesIndex:_,dataPointIndex:N,w:i});r.plotDataLabelsText({x:p[N].x,y:p[N].y,text:at,textAnchor:"middle",i:_,j:_,parent:v,offsetCorrection:!1,dataLabelsConfig:U({},G)})}C.add(v)}),a.push(C)}),this.drawPolygons({parent:u}),i.config.xaxis.labels.show){var x=this.drawXAxisTexts();u.add(x)}return a.forEach(function(y){u.add(y)}),u.add(this.yaxisLabels),u}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,s=t.parent,a=new Co(this.ctx),r=i.globals.yAxisScale[0].result.reverse(),o=r.length,l=[],d=this.size/(o-1),f=0;f<o;f++)l[f]=d*f;l.reverse();var u=[],p=[];l.forEach(function(m,v){var x=O.getPolygonPos(m,e.dataPointsLen),y="";x.forEach(function(_,k){if(v===0){var C=e.graphics.drawLine(_.x,_.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[k]:e.polygons.connectorColors);p.push(C)}k===0&&e.yaxisLabelsTextsPos.push({x:_.x,y:_.y}),y+=_.x+","+_.y+" "}),u.push(y)}),u.forEach(function(m,v){var x=e.polygons.strokeColors,y=e.polygons.strokeWidth,_=e.graphics.drawPolygon(m,Array.isArray(x)?x[v]:x,Array.isArray(y)?y[v]:y,i.globals.radarPolygons.fill.colors[v]);s.add(_)}),p.forEach(function(m){s.add(m)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(m,v){var x=a.drawYAxisTexts(m.x,m.y,v,r[v]);e.yaxisLabels.add(x)})}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=O.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach(function(r,o){var l=e.config.xaxis.labels.formatter,d=new di(t.ctx);if(a[o]){var f=t.getTextPos(a[o],t.size),u=l(r,{seriesIndex:-1,dataPointIndex:o,w:e});d.plotDataLabelsText({x:f.newX,y:f.newY,text:u,textAnchor:f.textAnchor,i:o,j:o,parent:s,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:U({textAnchor:f.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(p){if(typeof e.config.chart.events.xAxisLabelClick=="function"){var m=Object.assign({},e,{labelIndex:o});e.config.chart.events.xAxisLabelClick(p,t.ctx,m)}})}}),s}},{key:"createPaths",value:function(t,e){var i=this,s=[],a=[],r=[],o=[];if(t.length){a=[this.graphics.move(e.x,e.y)],o=[this.graphics.move(e.x,e.y)];var l=this.graphics.move(t[0].x,t[0].y),d=this.graphics.move(t[0].x,t[0].y);t.forEach(function(f,u){l+=i.graphics.line(f.x,f.y),d+=i.graphics.line(f.x,f.y),u===t.length-1&&(l+="Z",d+="Z")}),s.push(l),r.push(d)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:o,areaPathsTo:r}}},{key:"getTextPos",value:function(t,e){var i="middle",s=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",s+=10):t.x<0&&(i="end",s-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:s,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,s=0;s<e.globals.previousPaths.length;s++){var a=e.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&e.globals.previousPaths[s].paths[0]!==void 0&&(i=e.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var s=[],a=0;a<i;a++){var r={};r.x=t[a]*Math.sin(e[a]),r.y=-t[a]*Math.cos(e[a]),s.push(r)}return s}}]),h}(),ec=function(h){Ni(e,Ao);var t=Xi(e);function e(i){var s;$(this,e),(s=t.call(this,i)).ctx=i,s.w=i.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.barLabels=s.w.config.plotOptions.radialBar.barLabels,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),s.endAngle===360&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s.onBarLabelClick=s.onBarLabelClick.bind(Dr(s)),s}return K(e,[{key:"draw",value:function(i){var s=this.w,a=new Y(this.ctx),r=a.group({class:"apexcharts-radialbar"});if(s.globals.noData)return r;var o=a.group(),l=this.defaultSize/2,d=s.globals.gridWidth/2,f=this.defaultSize/2.05;s.config.chart.sparkline.enabled||(f=f-s.config.stroke.width-s.config.chart.dropShadow.blur);var u=s.globals.fill.colors;if(s.config.plotOptions.radialBar.track.show){var p=this.drawTracks({size:f,centerX:d,centerY:l,colorArr:u,series:i});o.add(p)}var m=this.drawArcs({size:f,centerX:d,centerY:l,colorArr:u,series:i}),v=360;s.config.plotOptions.radialBar.startAngle<0&&(v=this.totalAngle);var x=(360-v)/360;if(s.globals.radialSize=f-f*x,this.radialDataLabels.value.show){var y=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);s.globals.radialSize+=y*x}return o.add(m.g),s.config.plotOptions.radialBar.hollow.position==="front"&&(m.g.add(m.elHollow),m.dataLabels&&m.g.add(m.dataLabels)),r.add(o),r}},{key:"drawTracks",value:function(i){var s=this.w,a=new Y(this.ctx),r=a.group({class:"apexcharts-tracks"}),o=new jt(this.ctx),l=new pe(this.ctx),d=this.getStrokeWidth(i);i.size=i.size-d/2;for(var f=0;f<i.series.length;f++){var u=a.group({class:"apexcharts-radialbar-track apexcharts-track"});r.add(u),u.attr({rel:f+1}),i.size=i.size-d-this.margin;var p=s.config.plotOptions.radialBar.track,m=l.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(p.background)?p.background[f]:p.background,solid:!0}),v=this.trackStartAngle,x=this.trackEndAngle;Math.abs(x)+Math.abs(v)>=360&&(x=360-Math.abs(this.startAngle)-.1);var y=a.drawPath({d:"",stroke:m,strokeWidth:d*parseInt(p.strokeWidth,10)/100,fill:"none",strokeOpacity:p.opacity,classes:"apexcharts-radialbar-area"});if(p.dropShadow.enabled){var _=p.dropShadow;o.dropShadow(y,_)}u.add(y),y.attr("id","apexcharts-radialbarTrack-"+f),this.animatePaths(y,{centerX:i.centerX,centerY:i.centerY,endAngle:x,startAngle:v,size:i.size,i:f,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return r}},{key:"drawArcs",value:function(i){var s=this.w,a=new Y(this.ctx),r=new pe(this.ctx),o=new jt(this.ctx),l=a.group(),d=this.getStrokeWidth(i);i.size=i.size-d/2;var f=s.config.plotOptions.radialBar.hollow.background,u=i.size-d*i.series.length-this.margin*i.series.length-d*parseInt(s.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,p=u-s.config.plotOptions.radialBar.hollow.margin;s.config.plotOptions.radialBar.hollow.image!==void 0&&(f=this.drawHollowImage(i,l,u,f));var m=this.drawHollow({size:p,centerX:i.centerX,centerY:i.centerY,fill:f||"transparent"});if(s.config.plotOptions.radialBar.hollow.dropShadow.enabled){var v=s.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(m,v)}var x=1;!this.radialDataLabels.total.show&&s.globals.series.length>1&&(x=0);var y=null;if(this.radialDataLabels.show){var _=s.globals.dom.Paper.findOne(".apexcharts-datalabels-group");y=this.renderInnerDataLabels(_,this.radialDataLabels,{hollowSize:u,centerX:i.centerX,centerY:i.centerY,opacity:x})}s.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(m),y&&l.add(y));var k=!1;s.config.plotOptions.radialBar.inverseOrder&&(k=!0);for(var C=k?i.series.length-1:0;k?C>=0:C<i.series.length;k?C--:C++){var M=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:O.escapeString(s.globals.seriesNames[C])});l.add(M),M.attr({rel:C+1,"data:realIndex":C}),this.ctx.series.addCollapsedClassToSeries(M,C),i.size=i.size-d-this.margin;var S=r.fillPath({seriesNumber:C,size:i.size,value:i.series[C]}),I=this.startAngle,P=void 0,T=O.negToZero(i.series[C]>100?100:i.series[C])/100,E=Math.round(this.totalAngle*T)+this.startAngle,R=void 0;s.globals.dataChanged&&(P=this.startAngle,R=Math.round(this.totalAngle*O.negToZero(s.globals.previousPaths[C])/100)+P),Math.abs(E)+Math.abs(I)>360&&(E-=.01),Math.abs(R)+Math.abs(P)>360&&(R-=.01);var B=E-I,H=Array.isArray(s.config.stroke.dashArray)?s.config.stroke.dashArray[C]:s.config.stroke.dashArray,X=a.drawPath({d:"",stroke:S,strokeWidth:d,fill:"none",fillOpacity:s.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+C,strokeDashArray:H});if(Y.setAttrs(X.node,{"data:angle":B,"data:value":i.series[C]}),s.config.chart.dropShadow.enabled){var N=s.config.chart.dropShadow;o.dropShadow(X,N,C)}if(o.setSelectionFilter(X,0,C),this.addListeners(X,this.radialDataLabels),M.add(X),X.attr({index:0,j:C}),this.barLabels.enabled){var q=O.polarToCartesian(i.centerX,i.centerY,i.size,I),V=this.barLabels.formatter(s.globals.seriesNames[C],{seriesIndex:C,w:s}),tt=["apexcharts-radialbar-label"];this.barLabels.onClick||tt.push("apexcharts-no-click");var G=this.barLabels.useSeriesColors?s.globals.colors[C]:s.config.chart.foreColor;G||(G=s.config.chart.foreColor);var at=q.x+this.barLabels.offsetX,Z=q.y+this.barLabels.offsetY,J=a.drawText({x:at,y:Z,text:V,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:G,cssClass:tt.join(" ")});J.on("click",this.onBarLabelClick),J.attr({rel:C+1}),I!==0&&J.attr({"transform-origin":"".concat(at," ").concat(Z),transform:"rotate(".concat(I," 0 0)")}),M.add(J)}var ft=0;!this.initialAnim||s.globals.resized||s.globals.dataChanged||(ft=s.config.chart.animations.speed),s.globals.dataChanged&&(ft=s.config.chart.animations.dynamicAnimation.speed),this.animDur=ft/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(X,{centerX:i.centerX,centerY:i.centerY,endAngle:E,startAngle:I,prevEndAngle:R,prevStartAngle:P,size:i.size,i:C,totalItems:2,animBeginArr:this.animBeginArr,dur:ft,shouldSetPrevPaths:!0})}return{g:l,elHollow:m,dataLabels:y}}},{key:"drawHollow",value:function(i){var s=new Y(this.ctx).drawCircle(2*i.size);return s.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),s}},{key:"drawHollowImage",value:function(i,s,a,r){var o=this.w,l=new pe(this.ctx),d=O.randomId(),f=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:a,height:a,image:f,patternID:"pattern".concat(o.globals.cuid).concat(d)}),r="url(#pattern".concat(o.globals.cuid).concat(d,")");else{var u=o.config.plotOptions.radialBar.hollow.imageWidth,p=o.config.plotOptions.radialBar.hollow.imageHeight;if(u===void 0&&p===void 0){var m=o.globals.dom.Paper.image(f,function(x){this.move(i.centerX-x.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-x.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});s.add(m)}else{var v=o.globals.dom.Paper.image(f,function(x){this.move(i.centerX-u/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-p/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(u,p)});s.add(v)}}return r}},{key:"getStrokeWidth",value:function(i){var s=this.w;return i.size*(100-parseInt(s.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var s=parseInt(i.target.getAttribute("rel"),10)-1,a=this.barLabels.onClick,r=this.w;a&&a(r.globals.seriesNames[s],{w:r,seriesIndex:s})}}]),e}(),ic=function(h){Ni(e,ui);var t=Xi(e);function e(){return $(this,e),t.apply(this,arguments)}return K(e,[{key:"draw",value:function(i,s){var a=this.w,r=new Y(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var o=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<i.length;l++){var d,f,u,p,m=void 0,v=void 0,x=a.globals.comboCharts?s[l]:l,y=this.barHelpers.getGroupIndex(x).columnGroupIndex,_=r.group({class:"apexcharts-series",seriesName:O.escapeString(a.globals.seriesNames[x]),rel:l+1,"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(_,x),i[l].length>0&&(this.visibleI=this.visibleI+1);var k=0,C=0,M=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[x][0],M=x);var S=this.barHelpers.initialPositions();v=S.y,p=S.zeroW,m=S.x,C=S.barWidth,k=S.barHeight,d=S.xDivision,f=S.yDivision,u=S.zeroH;for(var I=r.group({class:"apexcharts-datalabels","data:realIndex":x}),P=r.group({class:"apexcharts-rangebar-goals-markers"}),T=0;T<a.globals.dataPoints;T++){var E=this.barHelpers.getStrokeWidth(l,T,x),R=this.seriesRangeStart[l][T],B=this.seriesRangeEnd[l][T],H=null,X=null,N=null,q={x:m,y:v,strokeWidth:E,elSeries:_},V=this.seriesLen;if(a.config.plotOptions.bar.rangeBarGroupRows&&(V=1),a.config.series[l].data[T]===void 0)break;if(this.isHorizontal){N=v+k*this.visibleI;var tt=(f-k*V)/2;if(a.config.series[l].data[T].x){var G=this.detectOverlappingBars({i:l,j:T,barYPosition:N,srty:tt,barHeight:k,yDivision:f,initPositions:S});k=G.barHeight,N=G.barYPosition}C=(H=this.drawRangeBarPaths(U({indexes:{i:l,j:T,realIndex:x},barHeight:k,barYPosition:N,zeroW:p,yDivision:f,y1:R,y2:B},q))).barWidth}else{a.globals.isXNumeric&&(m=(a.globals.seriesX[l][T]-a.globals.minX)/this.xRatio-C/2),X=m+C*this.visibleI;var at=(d-C*V)/2;if(a.config.series[l].data[T].x){var Z=this.detectOverlappingBars({i:l,j:T,barXPosition:X,srtx:at,barWidth:C,xDivision:d,initPositions:S});C=Z.barWidth,X=Z.barXPosition}k=(H=this.drawRangeColumnPaths(U({indexes:{i:l,j:T,realIndex:x,translationsIndex:M},barWidth:C,barXPosition:X,zeroH:u,xDivision:d},q))).barHeight}var J=this.barHelpers.drawGoalLine({barXPosition:H.barXPosition,barYPosition:N,goalX:H.goalX,goalY:H.goalY,barHeight:k,barWidth:C});J&&P.add(J),v=H.y,m=H.x;var ft=this.barHelpers.getPathFillColor(i,l,T,x),pt=a.globals.stroke.colors[x];this.renderSeries({realIndex:x,pathFill:ft,lineFill:pt,j:T,i:l,x:m,y:v,y1:R,y2:B,pathFrom:H.pathFrom,pathTo:H.pathTo,strokeWidth:E,elSeries:_,series:i,barHeight:k,barWidth:C,barXPosition:X,barYPosition:N,columnGroupIndex:y,elDataLabelsWrap:I,elGoalsMarkers:P,visibleSeries:this.visibleI,type:"rangebar"})}o.add(_)}return o}},{key:"detectOverlappingBars",value:function(i){var s=i.i,a=i.j,r=i.barYPosition,o=i.barXPosition,l=i.srty,d=i.srtx,f=i.barHeight,u=i.barWidth,p=i.yDivision,m=i.xDivision,v=i.initPositions,x=this.w,y=[],_=x.config.series[s].data[a].rangeName,k=x.config.series[s].data[a].x,C=Array.isArray(k)?k.join(" "):k,M=x.globals.labels.map(function(I){return Array.isArray(I)?I.join(" "):I}).indexOf(C),S=x.globals.seriesRange[s].findIndex(function(I){return I.x===C&&I.overlaps.length>0});return this.isHorizontal?(r=x.config.plotOptions.bar.rangeBarGroupRows?l+p*M:l+f*this.visibleI+p*M,S>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(y=x.globals.seriesRange[s][S].overlaps).indexOf(_)>-1&&(r=(f=v.barHeight/y.length)*this.visibleI+p*(100-parseInt(this.barOptions.barHeight,10))/100/2+f*(this.visibleI+y.indexOf(_))+p*M)):(M>-1&&!x.globals.timescaleLabels.length&&(o=x.config.plotOptions.bar.rangeBarGroupRows?d+m*M:d+u*this.visibleI+m*M),S>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(y=x.globals.seriesRange[s][S].overlaps).indexOf(_)>-1&&(o=(u=v.barWidth/y.length)*this.visibleI+m*(100-parseInt(this.barOptions.barWidth,10))/100/2+u*(this.visibleI+y.indexOf(_))+m*M)),{barYPosition:r,barXPosition:o,barHeight:f,barWidth:u}}},{key:"drawRangeColumnPaths",value:function(i){var s=i.indexes,a=i.x,r=i.xDivision,o=i.barWidth,l=i.barXPosition,d=i.zeroH,f=this.w,u=s.i,p=s.j,m=s.realIndex,v=s.translationsIndex,x=this.yRatio[v],y=this.getRangeValue(m,p),_=Math.min(y.start,y.end),k=Math.max(y.start,y.end);this.series[u][p]===void 0||this.series[u][p]===null?_=d:(_=d-_/x,k=d-k/x);var C=Math.abs(k-_),M=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:_,y2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:m,i:m,j:p,w:f});if(f.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:a,j:p,realIndex:m,barWidth:o});a=S.x,l=S.barXPosition}else a+=r;return{pathTo:M.pathTo,pathFrom:M.pathFrom,barHeight:C,x:a,y:y.start<0&&y.end<0?_:k,goalY:this.barHelpers.getGoalValues("y",null,d,u,p,v),barXPosition:l}}},{key:"preventBarOverflow",value:function(i){var s=this.w;return i<0&&(i=0),i>s.globals.gridWidth&&(i=s.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var s=i.indexes,a=i.y,r=i.y1,o=i.y2,l=i.yDivision,d=i.barHeight,f=i.barYPosition,u=i.zeroW,p=this.w,m=s.realIndex,v=s.j,x=this.preventBarOverflow(u+r/this.invertedYRatio),y=this.preventBarOverflow(u+o/this.invertedYRatio),_=this.getRangeValue(m,v),k=Math.abs(y-x),C=this.barHelpers.getBarpaths({barYPosition:f,barHeight:d,x1:x,x2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:m,realIndex:m,j:v,w:p});return p.globals.isXNumeric||(a+=l),{pathTo:C.pathTo,pathFrom:C.pathFrom,barWidth:k,x:_.start<0&&_.end<0?x:y,goalX:this.barHelpers.getGoalValues("x",u,null,m,v),y:a}}},{key:"getRangeValue",value:function(i,s){var a=this.w;return{start:a.globals.seriesRangeStart[i][s],end:a.globals.seriesRangeEnd[i][s]}}}]),e}(),sc=function(){function h(t){$(this,h),this.w=t.w,this.lineCtx=t}return K(h,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[t]==="gradient")&&new zt(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var s=e[t].slice();s[s.length-1]=s[s.length-1]+1e-6,e[t]=s}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,s=t.x,a=t.y,r=t.i,o=t.j,l=t.prevY,d=this.w,f=[],u=[];if(o===0){var p=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;d.globals.isXNumeric&&(p=(d.globals.seriesX[i][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),f.push(p),u.push(O.isNumber(e[r][0])?l+d.config.markers.offsetY:null),f.push(s+d.config.markers.offsetX),u.push(O.isNumber(e[r][o+1])?a+d.config.markers.offsetY:null)}else f.push(s+d.config.markers.offsetX),u.push(O.isNumber(e[r][o+1])?a+d.config.markers.offsetY:null);return{x:f,y:u}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,s=t.realIndex,a=this.w,r=0;r<a.globals.previousPaths.length;r++){var o=a.globals.previousPaths[r];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(s,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[r].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[r].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[r].paths[1]&&(e=a.globals.previousPaths[r].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i,s,a=t.i,r=t.realIndex,o=t.series,l=t.prevY,d=t.lineYPosition,f=t.translationsIndex,u=this.w,p=u.config.chart.stacked&&!u.globals.comboCharts||u.config.chart.stacked&&u.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((e=this.w.config.series[r])===null||e===void 0?void 0:e.type)==="bar"||((i=this.w.config.series[r])===null||i===void 0?void 0:i.type)==="column");if(((s=o[a])===null||s===void 0?void 0:s[0])!==void 0)l=(d=p&&a>0?this.lineCtx.prevSeriesY[a-1][0]:this.lineCtx.zeroY)-o[a][0]/this.lineCtx.yRatio[f]+2*(this.lineCtx.isReversed?o[a][0]/this.lineCtx.yRatio[f]:0);else if(p&&a>0&&o[a][0]===void 0){for(var m=a-1;m>=0;m--)if(o[m][0]!==null&&o[m][0]!==void 0){l=d=this.lineCtx.prevSeriesY[m][0];break}}return{prevY:l,lineYPosition:d}}}]),h}(),ac=function(h){for(var t,e,i,s,a=function(f){for(var u=[],p=f[0],m=f[1],v=u[0]=ya(p,m),x=1,y=f.length-1;x<y;x++)p=m,m=f[x+1],u[x]=.5*(v+(v=ya(p,m)));return u[x]=v,u}(h),r=h.length-1,o=[],l=0;l<r;l++)i=ya(h[l],h[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(s=(t=a[l]/i)*t+(e=a[l+1]/i)*e)>9&&(s=3*i/Math.sqrt(s),a[l]=s*t,a[l+1]=s*e);for(var d=0;d<=r;d++)s=(h[Math.min(r,d+1)][0]-h[Math.max(0,d-1)][0])/(6*(1+a[d]*a[d])),o.push([s||0,a[d]*s||0]);return o},nc=function(h){var t=ac(h),e=h[1],i=h[0],s=[],a=t[1],r=t[0];s.push(i,[i[0]+r[0],i[1]+r[1],e[0]-a[0],e[1]-a[1],e[0],e[1]]);for(var o=2,l=t.length;o<l;o++){var d=h[o],f=t[o];s.push([d[0]-f[0],d[1]-f[1],d[0],d[1]])}return s},rc=function(h,t,e){var i=h.slice(t,e);if(t){if(e-t>1&&i[1].length<6){var s=i[0].length;i[1]=[2*i[0][s-2]-i[0][s-4],2*i[0][s-1]-i[0][s-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function ya(h,t){return(t[1]-h[1])/(t[0]-h[0])}var _a=function(){function h(t,e,i){$(this,h),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new mo(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new sc(this),this.markers=new xi(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return K(h,[{key:"draw",value:function(t,e,i,s){var a,r=this.w,o=new Y(this.ctx),l=r.globals.comboCharts?e:r.config.chart.type,d=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),f=new zt(this.ctx,r);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=f.getLogSeries(t),this.yRatio=f.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var u=[],p=0;p<t.length;p++){t=this.lineHelpers.sameValueSeriesFix(p,t);var m=r.globals.comboCharts?i[p]:p,v=this.yRatio.length>1?m:0;this._initSerieVariables(t,p,m);var x=[],y=[],_=[],k=r.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,m),r.globals.isXNumeric&&r.globals.seriesX.length>0&&(k=(r.globals.seriesX[m][0]-r.globals.minX)/this.xRatio),_.push(k);var C,M=k,S=void 0,I=M,P=this.zeroY,T=this.zeroY;P=this.lineHelpers.determineFirstPrevY({i:p,realIndex:m,series:t,prevY:P,lineYPosition:0,translationsIndex:v}).prevY,r.config.stroke.curve==="monotoneCubic"&&t[p][0]===null?x.push(null):x.push(P),C=P,l==="rangeArea"&&(S=T=this.lineHelpers.determineFirstPrevY({i:p,realIndex:m,series:s,prevY:T,lineYPosition:0,translationsIndex:v}).prevY,y.push(x[0]!==null?T:null));var E=this._calculatePathsFrom({type:l,series:t,i:p,realIndex:m,translationsIndex:v,prevX:I,prevY:P,prevY2:T}),R=[x[0]],B=[y[0]],H={type:l,series:t,realIndex:m,translationsIndex:v,i:p,x:k,y:1,pX:M,pY:C,pathsFrom:E,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:_,yArrj:x,y2Arrj:y,seriesRangeEnd:s},X=this._iterateOverDataPoints(U(U({},H),{},{iterations:l==="rangeArea"?t[p].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var N=this._calculatePathsFrom({series:s,i:p,realIndex:m,prevX:I,prevY:T}),q=this._iterateOverDataPoints(U(U({},H),{},{series:s,xArrj:[k],yArrj:R,y2Arrj:B,pY:S,areaPaths:X.areaPaths,pathsFrom:N,iterations:s[p].length-1,isRangeStart:!1})),V=X.linePaths.length/2,tt=0;tt<V;tt++)X.linePaths[tt]=q.linePaths[tt+V]+X.linePaths[tt];X.linePaths.splice(V),X.pathFromLine=q.pathFromLine+X.pathFromLine}else X.pathFromArea+="z";this._handlePaths({type:l,realIndex:m,i:p,paths:X}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),u.push(this.elSeries)}if(((a=r.config.series[0])===null||a===void 0?void 0:a.zIndex)!==void 0&&u.sort(function(Z,J){return Number(Z.node.getAttribute("zIndex"))-Number(J.node.getAttribute("zIndex"))}),r.config.chart.stacked)for(var G=u.length-1;G>=0;G--)d.add(u[G]);else for(var at=0;at<u.length;at++)d.add(u[at]);return d}},{key:"_initSerieVariables",value:function(t,e,i){var s=this.w,a=new Y(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-(s.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width;var r=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[i],r=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[r]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[r]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||s.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",zIndex:s.config.series[i].zIndex!==void 0?s.config.series[i].zIndex:i,seriesName:O.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var o=t[e].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":o,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,s,a,r=t.type,o=t.series,l=t.i,d=t.realIndex,f=t.translationsIndex,u=t.prevX,p=t.prevY,m=t.prevY2,v=this.w,x=new Y(this.ctx);if(o[l][0]===null){for(var y=0;y<o[l].length;y++)if(o[l][y]!==null){u=this.xDivision*y,p=this.zeroY-o[l][y]/this.yRatio[f],e=x.move(u,p),i=x.move(u,this.areaBottomY);break}}else e=x.move(u,p),r==="rangeArea"&&(e=x.move(u,m)+x.line(u,p)),i=x.move(u,this.areaBottomY)+x.line(u,p);if(s=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),a=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),v.globals.previousPaths.length>0){var _=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:d});s=_.pathFromLine,a=_.pathFromArea}return{prevX:u,prevY:p,linePath:e,areaPath:i,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,s=t.i,a=t.paths,r=this.w,o=new Y(this.ctx),l=new pe(this.ctx);this.prevSeriesY.push(a.yArrj),r.globals.seriesXvalues[i]=a.xArrj,r.globals.seriesYvalues[i]=a.yArrj;var d=r.config.forecastDataPoints;if(d.count>0&&e!=="rangeArea"){var f=r.globals.seriesXvalues[i][r.globals.seriesXvalues[i].length-d.count-1],u=o.drawRect(f,0,r.globals.gridWidth,r.globals.gridHeight,0);r.globals.dom.elForecastMask.appendChild(u.node);var p=o.drawRect(0,0,f,r.globals.gridHeight,0);r.globals.dom.elNonForecastMask.appendChild(p.node)}this.pointsChart||r.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var m={i:s,realIndex:i,animationDelay:s,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if(e==="area")for(var v=l.fillPath({seriesNumber:i}),x=0;x<a.areaPaths.length;x++){var y=o.renderPaths(U(U({},m),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[x],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:v}));this.elSeries.add(y)}if(r.config.stroke.show&&!this.pointsChart){var _=null;if(e==="line")_=l.fillPath({seriesNumber:i,i:s});else if(r.config.stroke.fill.type==="solid")_=r.globals.stroke.colors[i];else{var k=r.config.fill;r.config.fill=r.config.stroke.fill,_=l.fillPath({seriesNumber:i,i:s}),r.config.fill=k}for(var C=0;C<a.linePaths.length;C++){var M=_;e==="rangeArea"&&(M=l.fillPath({seriesNumber:i}));var S=U(U({},m),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[C],stroke:_,strokeWidth:this.strokeWidth,strokeLineCap:r.config.stroke.lineCap,fill:e==="rangeArea"?M:"none"}),I=o.renderPaths(S);if(this.elSeries.add(I),I.attr("fill-rule","evenodd"),d.count>0&&e!=="rangeArea"){var P=o.renderPaths(S);P.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&P.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(P),P.attr("clip-path","url(#forecastMask".concat(r.globals.cuid,")")),I.attr("clip-path","url(#nonForecastMask".concat(r.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e,i,s=this,a=t.type,r=t.series,o=t.iterations,l=t.realIndex,d=t.translationsIndex,f=t.i,u=t.x,p=t.y,m=t.pX,v=t.pY,x=t.pathsFrom,y=t.linePaths,_=t.areaPaths,k=t.seriesIndex,C=t.lineYPosition,M=t.xArrj,S=t.yArrj,I=t.y2Arrj,P=t.isRangeStart,T=t.seriesRangeEnd,E=this.w,R=new Y(this.ctx),B=this.yRatio,H=x.prevY,X=x.linePath,N=x.areaPath,q=x.pathFromLine,V=x.pathFromArea,tt=O.isNumber(E.globals.minYArr[l])?E.globals.minYArr[l]:E.globals.minY;o||(o=E.globals.dataPoints>1?E.globals.dataPoints-1:E.globals.dataPoints);var G=function(Xt,Bt){return Bt-Xt/B[d]+2*(s.isReversed?Xt/B[d]:0)},at=p,Z=E.config.chart.stacked&&!E.globals.comboCharts||E.config.chart.stacked&&E.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((e=this.w.config.series[l])===null||e===void 0?void 0:e.type)==="bar"||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="column"),J=E.config.stroke.curve;Array.isArray(J)&&(J=Array.isArray(k)?J[k[f]]:J[f]);for(var ft,pt=0,rt=0;rt<o;rt++){var lt=r[f][rt+1]===void 0||r[f][rt+1]===null;if(E.globals.isXNumeric){var et=E.globals.seriesX[l][rt+1];E.globals.seriesX[l][rt+1]===void 0&&(et=E.globals.seriesX[l][o-1]),u=(et-E.globals.minX)/this.xRatio}else u+=this.xDivision;Z?f>0&&E.globals.collapsedSeries.length<E.config.series.length-1?C=this.prevSeriesY[function(Xt){for(var Bt=Xt;Bt>0;Bt--){if(!(E.globals.collapsedSeriesIndices.indexOf(k?.[Bt]||Bt)>-1))return Bt;Bt--}return 0}(f-1)][rt+1]:C=this.zeroY:C=this.zeroY,lt?p=G(tt,C):(p=G(r[f][rt+1],C),a==="rangeArea"&&(at=G(T[f][rt+1],C))),M.push(u),!lt||E.config.stroke.curve!=="smooth"&&E.config.stroke.curve!=="monotoneCubic"?(S.push(p),I.push(at)):(S.push(null),I.push(null));var ct=this.lineHelpers.calculatePoints({series:r,x:u,y:p,realIndex:l,i:f,j:rt,prevY:H}),mt=this._createPaths({type:a,series:r,i:f,realIndex:l,j:rt,x:u,y:p,y2:at,xArrj:M,yArrj:S,y2Arrj:I,pX:m,pY:v,pathState:pt,segmentStartX:ft,linePath:X,areaPath:N,linePaths:y,areaPaths:_,curve:J,isRangeStart:P});_=mt.areaPaths,y=mt.linePaths,m=mt.pX,v=mt.pY,pt=mt.pathState,ft=mt.segmentStartX,N=mt.areaPath,X=mt.linePath,!this.appendPathFrom||E.globals.hasNullValues||J==="monotoneCubic"&&a==="rangeArea"||(q+=R.line(u,this.areaBottomY),V+=R.line(u,this.areaBottomY)),this.handleNullDataPoints(r,ct,f,rt,l),this._handleMarkersAndLabels({type:a,pointsPos:ct,i:f,j:rt,realIndex:l,isRangeStart:P})}return{yArrj:S,xArrj:M,pathFromArea:V,areaPaths:_,pathFromLine:q,linePaths:y,linePath:X,areaPath:N}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,s=t.isRangeStart,a=t.i,r=t.j,o=t.realIndex,l=this.w,d=new di(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,r,{realIndex:o,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var f=this.markers.plotChartMarkers(i,o,r+1);f!==null&&this.elPointsMain.add(f)}var u=d.drawDataLabel({type:e,isRangeStart:s,pos:i,i:o,j:r+1});u!==null&&this.elDataLabelsWrap.add(u)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,s=t.i;t.realIndex;var a,r=t.j,o=t.x,l=t.y,d=t.xArrj,f=t.yArrj,u=t.y2,p=t.y2Arrj,m=t.pX,v=t.pY,x=t.pathState,y=t.segmentStartX,_=t.linePath,k=t.areaPath,C=t.linePaths,M=t.areaPaths,S=t.curve,I=t.isRangeStart,P=new Y(this.ctx),T=this.areaBottomY,E=e==="rangeArea",R=e==="rangeArea"&&I;switch(S){case"monotoneCubic":var B=I?f:p;switch(x){case 0:if(B[r+1]===null)break;x=1;case 1:if(!(E?d.length===i[s].length:r===i[s].length-2))break;case 2:var H=I?d:d.slice().reverse(),X=I?B:B.slice().reverse(),N=(a=X,H.map(function(et,ct){return[et,a[ct]]}).filter(function(et){return et[1]!==null})),q=N.length>1?nc(N):N,V=[];E&&(R?M=N:V=M.reverse());var tt=0,G=0;if(function(et,ct){for(var mt=function(he){var Nt=[],ce=0;return he.forEach(function(ji){ji!==null?ce++:ce>0&&(Nt.push(ce),ce=0)}),ce>0&&Nt.push(ce),Nt}(et),Xt=[],Bt=0,Kt=0;Bt<mt.length;Kt+=mt[Bt++])Xt[Bt]=rc(ct,Kt,Kt+mt[Bt]);return Xt}(X,q).forEach(function(et){tt++;var ct=function(Bt){for(var Kt="",he=0;he<Bt.length;he++){var Nt=Bt[he],ce=Nt.length;ce>4?(Kt+="C".concat(Nt[0],", ").concat(Nt[1]),Kt+=", ".concat(Nt[2],", ").concat(Nt[3]),Kt+=", ".concat(Nt[4],", ").concat(Nt[5])):ce>2&&(Kt+="S".concat(Nt[0],", ").concat(Nt[1]),Kt+=", ".concat(Nt[2],", ").concat(Nt[3]))}return Kt}(et),mt=G,Xt=(G+=et.length)-1;R?_=P.move(N[mt][0],N[mt][1])+ct:E?_=P.move(V[mt][0],V[mt][1])+P.line(N[mt][0],N[mt][1])+ct+P.line(V[Xt][0],V[Xt][1]):(_=P.move(N[mt][0],N[mt][1])+ct,k=_+P.line(N[Xt][0],T)+P.line(N[mt][0],T)+"z",M.push(k)),C.push(_)}),E&&tt>1&&!R){var at=C.slice(tt).reverse();C.splice(tt),at.forEach(function(et){return C.push(et)})}x=0}break;case"smooth":var Z=.35*(o-m);if(i[s][r]===null)x=0;else switch(x){case 0:if(y=m,_=R?P.move(m,p[r])+P.line(m,v):P.move(m,v),k=P.move(m,v),i[s][r+1]===null){C.push(_),M.push(k);break}if(x=1,r<i[s].length-2){var J=P.curve(m+Z,v,o-Z,l,o,l);_+=J,k+=J;break}case 1:if(i[s][r+1]===null)_+=R?P.line(m,u):P.move(m,v),k+=P.line(m,T)+P.line(y,T)+"z",C.push(_),M.push(k),x=-1;else{var ft=P.curve(m+Z,v,o-Z,l,o,l);_+=ft,k+=ft,r>=i[s].length-2&&(R&&(_+=P.curve(o,l,o,l,o,u)+P.move(o,u)),k+=P.curve(o,l,o,l,o,T)+P.line(y,T)+"z",C.push(_),M.push(k),x=-1)}}m=o,v=l;break;default:var pt=function(et,ct,mt){var Xt=[];switch(et){case"stepline":Xt=P.line(ct,null,"H")+P.line(null,mt,"V");break;case"linestep":Xt=P.line(null,mt,"V")+P.line(ct,null,"H");break;case"straight":Xt=P.line(ct,mt)}return Xt};if(i[s][r]===null)x=0;else switch(x){case 0:if(y=m,_=R?P.move(m,p[r])+P.line(m,v):P.move(m,v),k=P.move(m,v),i[s][r+1]===null){C.push(_),M.push(k);break}if(x=1,r<i[s].length-2){var rt=pt(S,o,l);_+=rt,k+=rt;break}case 1:if(i[s][r+1]===null)_+=R?P.line(m,u):P.move(m,v),k+=P.line(m,T)+P.line(y,T)+"z",C.push(_),M.push(k),x=-1;else{var lt=pt(S,o,l);_+=lt,k+=lt,r>=i[s].length-2&&(R&&(_+=P.line(o,u)),k+=P.line(o,T)+P.line(y,T)+"z",C.push(_),M.push(k),x=-1)}}m=o,v=l}return{linePaths:C,areaPaths:M,pX:m,pY:v,pathState:x,segmentStartX:y,linePath:_,areaPath:k}}},{key:"handleNullDataPoints",value:function(t,e,i,s,a){var r=this.w;if(t[i][s]===null&&r.config.markers.showNullDataPoints||t[i].length===1){var o=this.strokeWidth-r.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers(e,a,s+1,o,!0);l!==null&&this.elPointsMain.add(l)}}}]),h}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function h(o,l,d,f){this.xoffset=o,this.yoffset=l,this.height=f,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(u){var p,m=[],v=this.xoffset,x=this.yoffset,y=a(u)/this.height,_=a(u)/this.width;if(this.width>=this.height)for(p=0;p<u.length;p++)m.push([v,x,v+y,x+u[p]/y]),x+=u[p]/y;else for(p=0;p<u.length;p++)m.push([v,x,v+u[p]/_,x+_]),v+=u[p]/_;return m},this.cutArea=function(u){var p;if(this.width>=this.height){var m=u/this.height,v=this.width-m;p=new h(this.xoffset+m,this.yoffset,v,this.height)}else{var x=u/this.width,y=this.height-x;p=new h(this.xoffset,this.yoffset+x,this.width,y)}return p}}function t(o,l,d,f,u){f=f===void 0?0:f,u=u===void 0?0:u;var p=e(function(m,v){var x,y=[],_=v/a(m);for(x=0;x<m.length;x++)y[x]=m[x]*_;return y}(o,l*d),[],new h(f,u,l,d),[]);return function(m){var v,x,y=[];for(v=0;v<m.length;v++)for(x=0;x<m[v].length;x++)y.push(m[v][x]);return y}(p)}function e(o,l,d,f){var u,p,m;if(o.length!==0)return u=d.shortestEdge(),function(v,x,y){var _;if(v.length===0)return!0;(_=v.slice()).push(x);var k=i(v,y),C=i(_,y);return k>=C}(l,p=o[0],u)?(l.push(p),e(o.slice(1),l,d,f)):(m=d.cutArea(a(l),f),f.push(d.getCoordinates(l)),e(o,[],m,f)),f;f.push(d.getCoordinates(l))}function i(o,l){var d=Math.min.apply(Math,o),f=Math.max.apply(Math,o),u=a(o);return Math.max(Math.pow(l,2)*f/Math.pow(u,2),Math.pow(u,2)/(Math.pow(l,2)*d))}function s(o){return o&&o.constructor===Array}function a(o){var l,d=0;for(l=0;l<o.length;l++)d+=o[l];return d}function r(o){var l,d=0;if(s(o[0]))for(l=0;l<o.length;l++)d+=r(o[l]);else d=a(o);return d}return function o(l,d,f,u,p){u=u===void 0?0:u,p=p===void 0?0:p;var m,v,x=[],y=[];if(s(l[0])){for(v=0;v<l.length;v++)x[v]=r(l[v]);for(m=t(x,d,f,u,p),v=0;v<l.length;v++)y.push(o(l[v],m[v][2]-m[v][0],m[v][3]-m[v][1],m[v][0],m[v][1]))}else y=t(l,d,f,u,p);return y}}();var oc=function(){function h(t,e){$(this,h),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ko(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return K(h,[{key:"draw",value:function(t){var e=this,i=this.w,s=new Y(this.ctx),a=new pe(this.ctx),r=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return r;var o=[];return t.forEach(function(l){var d=l.map(function(f){return Math.abs(f)});o.push(d)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(l,d){l.data.forEach(function(f){Array.isArray(e.labels[d])||(e.labels[d]=[]),e.labels[d].push(f.x)})}),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach(function(l,d){var f=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:O.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(i.config.chart.dropShadow.enabled){var u=i.config.chart.dropShadow;new jt(e.ctx).dropShadow(r,u,d)}var p=s.group({class:"apexcharts-data-labels"});l.forEach(function(m,v){var x=m[0],y=m[1],_=m[2],k=m[3],C=s.drawRect(x,y,_-x,k-y,i.config.plotOptions.treemap.borderRadius,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?S:i.globals.stroke.colors[d]);C.attr({cx:x,cy:y,index:d,i:d,j:v,width:_-x,height:k-y});var M=e.helpers.getShadeColor(i.config.chart.type,d,v,e.negRange),S=M.color,I=a.fillPath({color:S,seriesNumber:d,dataPointIndex:v});C.node.classList.add("apexcharts-treemap-rect"),C.attr({fill:I}),e.helpers.addListeners(C);var P={x:x+(_-x)/2,y:y+(k-y)/2,width:0,height:0},T={x,y,width:_-x,height:k-y};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var E=1;i.globals.resized||(E=i.config.chart.animations.speed),e.animateTreemap(C,P,T,E)}if(i.globals.dataChanged){var R=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(R=e.dynamicAnim.speed,i.globals.previousPaths[d]&&i.globals.previousPaths[d][v]&&i.globals.previousPaths[d][v].rect&&(P=i.globals.previousPaths[d][v].rect),e.animateTreemap(C,P,T,R))}var B=e.getFontSize(m),H=i.config.dataLabels.formatter(e.labels[d][v],{value:i.globals.series[d][v],seriesIndex:d,dataPointIndex:v,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(B=parseInt(i.config.dataLabels.style.fontSize,10),H=e.truncateLabels(H,B,x,y,_,k));var X=null;i.globals.series[d][v]&&(X=e.helpers.calculateDataLabels({text:H,x:(x+_)/2,y:(y+k)/2+e.strokeWidth/2+B/3,i:d,j:v,colorProps:M,fontSize:B,series:t})),i.config.dataLabels.enabled&&X&&e.rotateToFitLabel(X,B,H,x,y,_,k),f.add(C),X!==null&&f.add(X)}),f.add(p),r.add(f)}),r}},{key:"getFontSize",value:function(t){var e=this.w,i=function s(a){var r,o=0;if(Array.isArray(a[0]))for(r=0;r<a.length;r++)o+=s(a[r]);else for(r=0;r<a.length;r++)o+=a[r].length;return o}(this.labels)/function s(a){var r,o=0;if(Array.isArray(a[0]))for(r=0;r<a.length;r++)o+=s(a[r]);else for(r=0;r<a.length;r++)o+=1;return o}(this.labels);return function(s,a){var r=s*a,o=Math.pow(r,.5);return Math.min(o/i,parseInt(e.config.dataLabels.style.fontSize,10))}(t[2]-t[0],t[3]-t[1])}},{key:"rotateToFitLabel",value:function(t,e,i,s,a,r,o){var l=new Y(this.ctx),d=l.getTextRects(i,e);if(d.width+this.w.config.stroke.width+5>r-s&&d.width<=o-a){var f=l.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(f.x," ").concat(f.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(t,e,i,s,a,r){var o=new Y(this.ctx),l=o.getTextRects(t,e).width+this.w.config.stroke.width+5>a-i&&r-s>a-i?r-s:a-i,d=o.getTextBasedOnMaxWidth({text:t,maxWidth:l,fontSize:e});return t.length!==d.length&&l/e<5?"":d}},{key:"animateTreemap",value:function(t,e,i,s){var a=new fi(this.ctx);a.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},s,function(){a.animationCompleted(t)})}}]),h}(),Lo=86400,lc=10/Lo,hc=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return K(h,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new Zt(this.ctx),r=(e-t)/864e5;this.determineInterval(r),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,r<lc?s.globals.disableZoomIn=!0:r>5e4&&(s.globals.disableZoomOut=!0);var o=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=s.globals.gridWidth/r,d=l/24,f=d/60,u=f/60,p=Math.floor(24*r),m=Math.floor(1440*r),v=Math.floor(r*Lo),x=Math.floor(r),y=Math.floor(r/30),_=Math.floor(r/365),k={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},C={firstVal:k,currentMillisecond:k.minMillisecond,currentSecond:k.minSecond,currentMinute:k.minMinute,currentHour:k.minHour,currentMonthDate:k.minDate,currentDate:k.minDate,currentMonth:k.minMonth,currentYear:k.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:d,minutesWidthOnXAxis:f,secondsWidthOnXAxis:u,numberOfSeconds:v,numberOfMinutes:m,numberOfHours:p,numberOfDays:x,numberOfMonths:y,numberOfYears:_};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var M=this.timeScaleArray.map(function(S){var I={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?U(U({},I),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?U(U({},I),{},{value:S.value}):S.unit==="minute"?U(U({},I),{},{value:S.value,minute:S.value}):S.unit==="second"?U(U({},I),{},{value:S.value,minute:S.minute,second:S.second}):S});return M.filter(function(S){var I=1,P=Math.ceil(s.globals.gridWidth/120),T=S.value;s.config.xaxis.tickAmount!==void 0&&(P=s.config.xaxis.tickAmount),M.length>P&&(I=Math.floor(M.length/P));var E=!1,R=!1;switch(i.tickInterval){case"years":S.unit==="year"&&(E=!0);break;case"half_year":I=7,S.unit==="year"&&(E=!0);break;case"months":I=1,S.unit==="year"&&(E=!0);break;case"months_fortnight":I=15,S.unit!=="year"&&S.unit!=="month"||(E=!0),T===30&&(R=!0);break;case"months_days":I=10,S.unit==="month"&&(E=!0),T===30&&(R=!0);break;case"week_days":I=8,S.unit==="month"&&(E=!0);break;case"days":I=1,S.unit==="month"&&(E=!0);break;case"hours":S.unit==="day"&&(E=!0);break;case"minutes_fives":case"seconds_fives":T%5!=0&&(R=!0);break;case"seconds_tens":T%10!=0&&(R=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!R)return!0}else if((T%I==0||E)&&!R)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,s=this.formatDates(t),a=this.removeOverlappingTS(s);i.globals.timescaleLabels=a.slice(),new Cs(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.daysWidthOnXAxis,r=t.numberOfYears,o=e.minYear,l=0,d=new Zt(this.ctx),f="year";if(e.minDate>1||e.minMonth>0){var u=d.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);l=(d.determineDaysOfYear(e.minYear)-u+1)*a,o=e.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:f,year:o,month:O.monthMod(i+1)})}else e.minDate===1&&e.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:f,year:s,month:O.monthMod(i+1)});for(var p=o,m=l,v=0;v<r;v++)p++,m=d.determineDaysOfYear(p-1)*a+m,this.timeScaleArray.push({position:m,value:p,unit:f,year:p,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,s=t.currentMonth,a=t.currentYear,r=t.daysWidthOnXAxis,o=t.numberOfMonths,l=s,d=0,f=new Zt(this.ctx),u="month",p=0;if(e.minDate>1){d=(f.determineDaysOfMonths(s+1,e.minYear)-i+1)*r,l=O.monthMod(s+1);var m=a+p,v=O.monthMod(l),x=l;l===0&&(u="year",x=m,v=1,m+=p+=1),this.timeScaleArray.push({position:d,value:x,unit:u,year:m,month:v})}else this.timeScaleArray.push({position:d,value:l,unit:u,year:a,month:O.monthMod(s)});for(var y=l+1,_=d,k=0,C=1;k<o;k++,C++){(y=O.monthMod(y))===0?(u="year",p+=1):u="month";var M=this._getYear(a,y,p);_=f.determineDaysOfMonths(y,M)*r+_;var S=y===0?M:y;this.timeScaleArray.push({position:_,value:S,unit:u,year:M,month:y===0?1:y}),y++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,s=t.currentYear,a=t.hoursWidthOnXAxis,r=t.numberOfDays,o=new Zt(this.ctx),l="day",d=e.minDate+1,f=d,u=function(C,M,S){return C>o.determineDaysOfMonths(M+1,S)&&(f=1,l="month",m=M+=1),M},p=(24-e.minHour)*a,m=d,v=u(f,i,s);e.minHour===0&&e.minDate===1?(p=0,m=O.monthMod(e.minMonth),l="month",f=e.minDate):e.minDate!==1&&e.minHour===0&&e.minMinute===0&&(p=0,d=e.minDate,m=d,v=u(f=d,i,s),m!==1&&(l="day")),this.timeScaleArray.push({position:p,value:m,unit:l,year:this._getYear(s,v,0),month:O.monthMod(v),day:f});for(var x=p,y=0;y<r;y++){l="day",v=u(f+=1,v,this._getYear(s,v,0));var _=this._getYear(s,v,0);x=24*a+x;var k=f===1?O.monthMod(v):f;this.timeScaleArray.push({position:x,value:k,unit:l,year:_,month:O.monthMod(v),day:k})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,s=t.currentMonth,a=t.currentYear,r=t.minutesWidthOnXAxis,o=t.numberOfHours,l=new Zt(this.ctx),d="hour",f=function(I,P){return I>l.determineDaysOfMonths(P+1,a)&&(y=1,P+=1),{month:P,date:y}},u=function(I,P){return I>l.determineDaysOfMonths(P+1,a)?P+=1:P},p=60-(e.minMinute+e.minSecond/60),m=p*r,v=e.minHour+1,x=v;p===60&&(m=0,x=v=e.minHour);var y=i;x>=24&&(x=0,d="day",v=y+=1);var _=f(y,s).month;_=u(y,_),this.timeScaleArray.push({position:m,value:v,unit:d,day:y,hour:x,year:a,month:O.monthMod(_)}),x++;for(var k=m,C=0;C<o;C++){d="hour",x>=24&&(x=0,d="day",_=f(y+=1,_).month,_=u(y,_));var M=this._getYear(a,_,0);k=60*r+k;var S=x===0?y:x;this.timeScaleArray.push({position:k,value:S,unit:d,hour:x,day:y,year:M,month:O.monthMod(_)}),x++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,r=t.currentDate,o=t.currentMonth,l=t.currentYear,d=t.minutesWidthOnXAxis,f=t.secondsWidthOnXAxis,u=t.numberOfMinutes,p=s+1,m=r,v=o,x=l,y=a,_=(60-i-e/1e3)*f,k=0;k<u;k++)p>=60&&(p=0,(y+=1)===24&&(y=0)),this.timeScaleArray.push({position:_,value:p,unit:"minute",hour:y,minute:p,day:m,year:this._getYear(x,v,0),month:O.monthMod(v)}),_+=d,p++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,s=t.currentMinute,a=t.currentHour,r=t.currentDate,o=t.currentMonth,l=t.currentYear,d=t.secondsWidthOnXAxis,f=t.numberOfSeconds,u=i+1,p=s,m=r,v=o,x=l,y=a,_=(1e3-e)/1e3*d,k=0;k<f;k++)u>=60&&(u=0,++p>=60&&(p=0,++y===24&&(y=0))),this.timeScaleArray.push({position:_,value:u,unit:"second",hour:y,minute:p,second:u,day:m,year:this._getYear(x,v,0),month:O.monthMod(v)}),_+=d,u++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return t.month===0&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),t.unit==="day"?i+=t.unit==="day"?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),t.unit==="hour"?i+=t.unit==="hour"?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),t.unit==="minute"?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),t.unit==="second"?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map(function(s){var a=s.value.toString(),r=new Zt(e.ctx),o=e.createRawDateString(s,a),l=r.getDate(r.parseDate(o));if(e.utc||(l=r.getDate(r.parseDateWithTimezone(o))),i.config.xaxis.labels.format===void 0){var d="dd MMM",f=i.config.xaxis.labels.datetimeFormatter;s.unit==="year"&&(d=f.year),s.unit==="month"&&(d=f.month),s.unit==="day"&&(d=f.day),s.unit==="hour"&&(d=f.hour),s.unit==="minute"&&(d=f.minute),s.unit==="second"&&(d=f.second),a=r.formatDate(l,d)}else a=r.formatDate(l,i.config.xaxis.labels.format);return{dateString:o,position:s.position,value:a,unit:s.unit,year:s.year,month:s.month}})}},{key:"removeOverlappingTS",value:function(t){var e,i=this,s=new Y(this.ctx),a=!1;t.length>0&&t[0].value&&t.every(function(l){return l.value.length===t[0].value.length})&&(a=!0,e=s.getTextRects(t[0].value).width);var r=0,o=t.map(function(l,d){if(d>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var f=a?e:s.getTextRects(t[r].value).width,u=t[r].position;return l.position>u+f+10?(r=d,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),h}(),cc=function(){function h(t,e){$(this,h),this.ctx=e,this.w=e.w,this.el=t}return K(h,[{key:"setupElements",value:function(){var t=this.w,e=t.globals,i=t.config,s=i.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(s),e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(s),e.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(s)&&i.plotOptions.bar.horizontal,e.chartClass=".apexcharts".concat(e.chartID),e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),Y.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas ".concat(e.chartClass.substring(1))}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=window.SVG().addTo(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),e.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#424242",this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),Y.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,s=this.ctx,a=i.config,r=i.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=a.chart.type||"line",d=null,f=0;r.series.forEach(function(I,P){var T=t[P].type||l;o[T]?(T==="rangeArea"?(o[T].series.push(r.seriesRangeStart[P]),o[T].seriesRangeEnd.push(r.seriesRangeEnd[P])):o[T].series.push(I),o[T].i.push(P),T!=="column"&&T!=="bar"||(i.globals.columnSeries=o.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(T)?d=T:T==="bar"?(o.column.series.push(I),o.column.i.push(P)):console.warn("You have specified an unrecognized series type (".concat(T,").")),l!==T&&T!=="scatter"&&f++}),f>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),o.column.series.length>0&&a.plotOptions.bar.horizontal&&(f-=o.column.series.length,o.column={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),r.comboCharts||(r.comboCharts=f>0);var u=new _a(s,e),p=new ba(s,e);s.pie=new Ao(s);var m=new ec(s);s.rangeBar=new ic(s,e);var v=new tc(s),x=[];if(r.comboCharts){var y,_,k=new zt(s);if(o.area.series.length>0&&(y=x).push.apply(y,Yt(k.drawSeriesByGroup(o.area,r.areaGroups,"area",u))),o.column.series.length>0)if(a.chart.stacked){var C=new Lr(s,e);x.push(C.draw(o.column.series,o.column.i))}else s.bar=new ui(s,e),x.push(s.bar.draw(o.column.series,o.column.i));if(o.rangeArea.series.length>0&&x.push(u.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(_=x).push.apply(_,Yt(k.drawSeriesByGroup(o.line,r.lineGroups,"line",u))),o.candlestick.series.length>0&&x.push(p.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&x.push(p.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&x.push(s.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var M=new _a(s,e,!0);x.push(M.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var S=new _a(s,e,!0);x.push(S.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(a.chart.type){case"line":x=u.draw(r.series,"line");break;case"area":x=u.draw(r.series,"area");break;case"bar":a.chart.stacked?x=new Lr(s,e).draw(r.series):(s.bar=new ui(s,e),x=s.bar.draw(r.series));break;case"candlestick":x=new ba(s,e).draw(r.series,"candlestick");break;case"boxPlot":x=new ba(s,e).draw(r.series,a.chart.type);break;case"rangeBar":x=s.rangeBar.draw(r.series);break;case"rangeArea":x=u.draw(r.seriesRangeStart,"rangeArea",void 0,r.seriesRangeEnd);break;case"heatmap":x=new Qh(s,e).draw(r.series);break;case"treemap":x=new oc(s,e).draw(r.series);break;case"pie":case"donut":case"polarArea":x=s.pie.draw(r.series);break;case"radialBar":x=m.draw(r.series);break;case"radar":x=v.draw(r.series);break;default:x=u.draw(r.series)}return x}},{key:"setSVGDimensions",value:function(){var t=this.w,e=t.globals,i=t.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",e.svgWidth=i.chart.width,e.svgHeight=i.chart.height;var s=O.getDimensions(this.el),a=i.chart.width.toString().split(/[0-9]+/g).pop();a==="%"?O.isNumber(s[0])&&(s[0].width===0&&(s=O.getDimensions(this.el.parentNode)),e.svgWidth=s[0]*parseInt(i.chart.width,10)/100):a!=="px"&&a!==""||(e.svgWidth=parseInt(i.chart.width,10));var r=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(e.svgHeight!=="auto"&&e.svgHeight!=="")if(r==="%"){var o=O.getDimensions(this.el.parentNode);e.svgHeight=o[1]*parseInt(i.chart.height,10)/100}else e.svgHeight=parseInt(i.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;if(e.svgWidth=Math.max(e.svgWidth,0),e.svgHeight=Math.max(e.svgHeight,0),Y.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),r!=="%"){var l=i.chart.sparkline.enabled?0:e.axisCharts?i.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(e.svgHeight+l,"px")}e.dom.elWrap.style.width="".concat(e.svgWidth,"px"),e.dom.elWrap.style.height="".concat(e.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i=t.translateX;Y.setAttrs(t.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(e,")")})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,s=t.config.chart.sparkline.enabled?1:15;s+=t.config.grid.padding.bottom,["top","bottom"].includes(t.config.legend.position)&&t.config.legend.show&&!t.config.legend.floating&&(i=new bo(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),r=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&t.config.plotOptions.radialBar.startAngle!==0){var o=O.getBoundingClientRect(a);r=o.bottom;var l=o.bottom-o.top;r=Math.max(2.05*t.globals.radialSize,l)}var d=Math.ceil(r+e.translateY+i+s);e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",d),t.config.chart.height&&String(t.config.chart.height).includes("%")||(e.dom.elWrap.style.height="".concat(d,"px"),Y.setAttrs(e.dom.Paper.node,{height:d}),e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new Ba(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map(function(){return[]})},i=new po,s=this.w.globals;i.initGlobalVars(s),s.seriesXvalues=e(),s.seriesYvalues=e()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var t=this.w,e=null;if(t.globals.axisCharts){if(t.config.xaxis.crosshairs.position==="back"&&new Da(this.ctx).drawXCrosshairs(),t.config.yaxis[0].crosshairs.position==="back"&&new Da(this.ctx).drawYCrosshairs(),t.config.xaxis.type==="datetime"&&t.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new hc(this.ctx);var i=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}e=new zt(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&typeof e.config.chart.events.selection!="function"){var i=Array.isArray(e.config.chart.brush.targets)?e.config.chart.brush.targets:[e.config.chart.brush.target];i.forEach(function(s){var a=ApexCharts.getChartByID(s);a.w.globals.brushSource=t.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return t.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return t.updateSourceChart(a)})}),e.config.chart.events.selection=function(s,a){i.forEach(function(r){ApexCharts.getChartByID(r).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),h}(),dc=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach(function(d,f){var u=d.w;if(u.globals.shouldAnimate=s,i||(u.globals.resized=!0,u.globals.dataChanged=!0,s&&d.series.getPreviousPaths()),t&&ci(t)==="object"&&(d.config=new Hi(t),t=zt.extendArrayProps(d.config,t,u),d.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,u.config=O.extend(u.config,t),r&&(u.globals.lastXAxis=t.xaxis?O.clone(t.xaxis):[],u.globals.lastYAxis=t.yaxis?O.clone(t.yaxis):[],u.globals.initialConfig=O.extend({},u.config),u.globals.initialSeries=O.clone(u.config.series),t.series))){for(var p=0;p<u.globals.collapsedSeriesIndices.length;p++){var m=u.config.series[u.globals.collapsedSeriesIndices[p]];u.globals.collapsedSeries[p].data=u.globals.axisCharts?m.data.slice():m}for(var v=0;v<u.globals.ancillaryCollapsedSeriesIndices.length;v++){var x=u.config.series[u.globals.ancillaryCollapsedSeriesIndices[v]];u.globals.ancillaryCollapsedSeries[v].data=u.globals.axisCharts?x.data.slice():x}d.series.emptyCollapsedSeries(u.config.series)}return d.update(t).then(function(){f===l.length-1&&o(d)})})})}},{key:"_updateSeries",value:function(t,e){var i=this,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(a){var r,o=i.w;return o.globals.shouldAnimate=e,o.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),o.globals.axisCharts?((r=t.map(function(l,d){return i._extendSeries(l,d)})).length===0&&(r=[{data:[]}]),o.config.series=r):o.config.series=t.slice(),s&&(o.globals.initialConfig.series=O.clone(o.config.series),o.globals.initialSeries=O.clone(o.config.series)),i.ctx.update().then(function(){a(i.ctx)})})}},{key:"_extendSeries",value:function(t,e){var i=this.w,s=i.config.series[e];return U(U({},i.config.series[e]),{},{name:t.name?t.name:s?.name,color:t.color?t.color:s?.color,type:t.type?t.type:s?.type,group:t.group?t.group:s?.group,hidden:t.hidden!==void 0?t.hidden:s?.hidden,data:t.data?t.data:s?.data,zIndex:t.zIndex!==void 0?t.zIndex:e})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.findOne("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")):e===void 0&&(s=i.globals.dom.Paper.findOne("".concat(a," path[j='").concat(t,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(t)),s?(new Y(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach(function(s){t.xaxis[s]!==void 0&&(e.config.xaxis[s]=t.xaxis[s],e.globals.lastXAxis[s]=t.xaxis[s])}),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new Di(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&t.chart.stackType==="100%"&&(Array.isArray(t.yaxis)?t.yaxis.forEach(function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100}):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,s=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(s=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var r=function(o){a[o]!==void 0&&(i.config.yaxis[o].min=a[o].min,i.config.yaxis[o].max=a[o].max)};i.config.yaxis.map(function(o,l){i.globals.zoomed||a[l]!==void 0?r(l):e.ctx.opts.yaxis[l]!==void 0&&(o.min=e.ctx.opts.yaxis[l].min,o.max=e.ctx.opts.yaxis[l].max)})}}]),h}();(function(){function h(){for(var a=arguments.length>0&&arguments[0]!==u?arguments[0]:[],r=arguments.length>1?arguments[1]:u,o=arguments.length>2?arguments[2]:u,l=arguments.length>3?arguments[3]:u,d=arguments.length>4?arguments[4]:u,f=arguments.length>5?arguments[5]:u,u=arguments.length>6?arguments[6]:u,p=a.slice(r,o||u),m=l.slice(d,f||u),v=0,x={pos:[0,0],start:[0,0]},y={pos:[0,0],start:[0,0]};p[v]=t.call(x,p[v]),m[v]=t.call(y,m[v]),p[v][0]!=m[v][0]||p[v][0]=="M"||p[v][0]=="A"&&(p[v][4]!=m[v][4]||p[v][5]!=m[v][5])?(Array.prototype.splice.apply(p,[v,1].concat(i.call(x,p[v]))),Array.prototype.splice.apply(m,[v,1].concat(i.call(y,m[v])))):(p[v]=e.call(x,p[v]),m[v]=e.call(y,m[v])),!(++v==p.length&&v==m.length);)v==p.length&&p.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]),v==m.length&&m.push(["C",y.pos[0],y.pos[1],y.pos[0],y.pos[1],y.pos[0],y.pos[1]]);return{start:p,dest:m}}function t(a){switch(a[0]){case"z":case"Z":a[0]="L",a[1]=this.start[0],a[2]=this.start[1];break;case"H":a[0]="L",a[2]=this.pos[1];break;case"V":a[0]="L",a[2]=a[1],a[1]=this.pos[0];break;case"T":a[0]="Q",a[3]=a[1],a[4]=a[2],a[1]=this.reflection[1],a[2]=this.reflection[0];break;case"S":a[0]="C",a[6]=a[4],a[5]=a[3],a[4]=a[2],a[3]=a[1],a[2]=this.reflection[1],a[1]=this.reflection[0]}return a}function e(a){var r=a.length;return this.pos=[a[r-2],a[r-1]],"SCQT".indexOf(a[0])!=-1&&(this.reflection=[2*this.pos[0]-a[r-4],2*this.pos[1]-a[r-3]]),a}function i(a){var r=[a];switch(a[0]){case"M":return this.pos=this.start=[a[1],a[2]],r;case"L":a[5]=a[3]=a[1],a[6]=a[4]=a[2],a[1]=this.pos[0],a[2]=this.pos[1];break;case"Q":a[6]=a[4],a[5]=a[3],a[4]=1*a[4]/3+2*a[2]/3,a[3]=1*a[3]/3+2*a[1]/3,a[2]=1*this.pos[1]/3+2*a[2]/3,a[1]=1*this.pos[0]/3+2*a[1]/3;break;case"A":r=function(o,l){var d,f,u,p,m,v,x,y,_,k,C,M,S,I,P,T,E,R,B,H,X,N,q,V,tt,G,at=Math.abs(l[1]),Z=Math.abs(l[2]),J=l[3]%360,ft=l[4],pt=l[5],rt=l[6],lt=l[7],et=new kt(o),ct=new kt(rt,lt),mt=[];if(at===0||Z===0||et.x===ct.x&&et.y===ct.y)return[["C",et.x,et.y,ct.x,ct.y,ct.x,ct.y]];for(d=new kt((et.x-ct.x)/2,(et.y-ct.y)/2).transform(new it().rotate(J)),f=d.x*d.x/(at*at)+d.y*d.y/(Z*Z),f>1&&(at*=f=Math.sqrt(f),Z*=f),u=new it().rotate(J).scale(1/at,1/Z).rotate(-J),et=et.transform(u),ct=ct.transform(u),p=[ct.x-et.x,ct.y-et.y],v=p[0]*p[0]+p[1]*p[1],m=Math.sqrt(v),p[0]/=m,p[1]/=m,x=v<4?Math.sqrt(1-v/4):0,ft===pt&&(x*=-1),y=new kt((ct.x+et.x)/2+x*-p[1],(ct.y+et.y)/2+x*p[0]),_=new kt(et.x-y.x,et.y-y.y),k=new kt(ct.x-y.x,ct.y-y.y),C=Math.acos(_.x/Math.sqrt(_.x*_.x+_.y*_.y)),_.y<0&&(C*=-1),M=Math.acos(k.x/Math.sqrt(k.x*k.x+k.y*k.y)),k.y<0&&(M*=-1),pt&&C>M&&(M+=2*Math.PI),!pt&&C<M&&(M-=2*Math.PI),I=Math.ceil(2*Math.abs(C-M)/Math.PI),T=[],E=C,S=(M-C)/I,P=4*Math.tan(S/4)/3,X=0;X<=I;X++)B=Math.cos(E),R=Math.sin(E),H=new kt(y.x+B,y.y+R),T[X]=[new kt(H.x+P*R,H.y-P*B),H,new kt(H.x-P*R,H.y+P*B)],E+=S;for(T[0][0]=T[0][1].clone(),T[T.length-1][2]=T[T.length-1][1].clone(),u=new it().rotate(J).scale(at,Z).rotate(-J),X=0,N=T.length;X<N;X++)T[X][0]=T[X][0].transform(u),T[X][1]=T[X][1].transform(u),T[X][2]=T[X][2].transform(u);for(X=1,N=T.length;X<N;X++)q=(H=T[X-1][2]).x,V=H.y,tt=(H=T[X][0]).x,G=H.y,rt=(H=T[X][1]).x,lt=H.y,mt.push(["C",q,V,tt,G,rt,lt]);return mt}(this.pos,a),a=r[0]}return a[0]="C",this.pos=[a[5],a[6]],this.reflection=[2*a[5]-a[3],2*a[6]-a[4]],r}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(r===!1)return!1;for(var o=r,l=a.length;o<l;++o)if(a[o][0]=="M")return o;return!1}nt(fe,{morph:function(a,r,o,l,d){for(var f=this.parse(a),u=this.parse(r),p=0,m=0,v=!1,x=!1;p!==!1||m!==!1;){var y;v=s(f,p!==!1&&p+1),x=s(u,m!==!1&&m+1),p===!1&&(p=(y=new fe(_.start).bbox()).height==0||y.width==0?f.push(f[0])-1:f.push(["M",y.x+y.width/2,y.y+y.height/2])-1),m===!1&&(m=(y=new fe(_.dest).bbox()).height==0||y.width==0?u.push(u[0])-1:u.push(["M",y.x+y.width/2,y.y+y.height/2])-1);var _=h(f,p,v,u,m,x);f=f.slice(0,p).concat(_.start,v===!1?[]:f.slice(v)),u=u.slice(0,m).concat(_.dest,x===!1?[]:u.slice(x)),p=v!==!1&&p+_.start.length,m=x!==!1&&m+_.dest.length}this._array=f,this.destination=new fe,this.destination._array=u;var k=this.fromArray(f.map(function(C,M){var S=u[M].map(function(I,P){return P===0?I:l.step(C[P],u[M][P],o,d[M],d)});return S}));return k}})})();const Sr=h=>(h.changedTouches&&(h=h.changedTouches[0]),{x:h.clientX,y:h.clientY});class uc{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const e=!t.type.indexOf("mouse");if(e&&t.which!==1&&t.buttons!==0||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Sr(t));const i=(e?"mouseup":"touchend")+".drag";Ae(window,(e?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ae(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:e,lastClick:i}=this,s=this.el.point(Sr(t)),a=s.x-i.x,r=s.y-i.y;if(!a&&!r)return e;const o=e.x+a,l=e.y+r;this.box=new It(o,l,e.w,e.h),this.lastClick=s,this.el.dispatch("dragmove",{event:t,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(t,e){this.el.type==="svg"?Te.prototype.move.call(this.el,t,e):this.el.move(t,e)}endDrag(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),oe(window,"mousemove.drag"),oe(window,"touchmove.drag"),oe(window,"mouseup.drag"),oe(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Ha(h,t,e,i=null){return function(s){s.preventDefault(),s.stopPropagation();var a=s.pageX||s.touches[0].pageX,r=s.pageY||s.touches[0].pageY;t.fire(h,{x:a,y:r,event:s,index:i,points:e})}}function Fa([h,t],{a:e,b:i,c:s,d:a,e:r,f:o}){return[h*e+t*s+r,h*i+t*a+o]}nt(Vt,{draggable(h=!0){return(this.remember("_draggable")||new uc(this)).init(h),this}});let So=class{constructor(h){this.el=h,h.remember("_selectHandler",this),this.selection=new Te,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Yi();this.observer=new t.MutationObserver(this.mutationHandler)}init(h){this.createHandle=h.createHandle||this.createHandleFn,this.createRot=h.createRot||this.createRotFn,this.updateHandle=h.updateHandle||this.updateHandleFn,this.updateRot=h.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(h,t){if(!h)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((h,t,e)=>{const i=this.order[t];this.createHandle.call(this,this.selection,h,t,e,i),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",Ha(i,this.el,this.handlePoints,t))})}createHandleFn(h){h.polyline()}updateHandleFn(h,t,e,i){const s=i.at(e-1),a=i[(e+1)%i.length],r=t,o=[r[0]-s[0],r[1]-s[1]],l=[r[0]-a[0],r[1]-a[1]],d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=[o[0]/d,o[1]/d],p=[l[0]/f,l[1]/f],m=[r[0]-10*u[0],r[1]-10*u[1]],v=[r[0]-10*p[0],r[1]-10*p[1]];h.plot([m,r,v])}updateResizeHandles(){this.handlePoints.forEach((h,t,e)=>{const i=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),h,t,e,i)})}createRotFn(h){h.line(),h.circle(5)}getPoint(h){return this.handlePoints[this.order.indexOf(h)]}getPointHandle(h){return this.selection.get(this.order.indexOf(h)+1)}updateRotFn(h,t){const e=this.getPoint("t");h.get(0).plot(e[0],e[1],t[0],t[1]),h.get(1).center(t[0],t[1])}createRotationHandle(){const h=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Ha("rot",this.el,this.handlePoints));this.createRot.call(this,h)}updateRotationHandle(){const h=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(h,this.rotationPoint,this.handlePoints)}updatePoints(){const h=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(h).map(e=>Fa(e,t)),this.rotationPoint=Fa(this.getRotationPoint(h),t)}getHandlePoints({x:h,x2:t,y:e,y2:i,cx:s,cy:a}=this.el.bbox()){return[[h,e],[s,e],[t,e],[t,a],[t,i],[s,i],[h,i],[h,a]]}getRotationPoint({y:h,cx:t}=this.el.bbox()){return[t,h-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Pr=h=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let i=this.remember("_"+h.name);return i||(t.prototype instanceof So?(i=new t(this),t=!0):i=new h(this),this.remember("_"+h.name,i)),i.active(t,e),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Xa(h,t,e,i=null){return function(s){s.preventDefault(),s.stopPropagation();var a=s.pageX||s.touches[0].pageX,r=s.pageY||s.touches[0].pageY;t.fire(h,{x:a,y:r,event:s,index:i,points:e})}}function Na([h,t],{a:e,b:i,c:s,d:a,e:r,f:o}){return[h*e+t*s+r,h*i+t*a+o]}nt(Vt,{select:Pr(So)}),nt([We,Ge,Ye],{pointSelect:Pr(class{constructor(h){this.el=h,h.remember("_pointSelectHandler",this),this.selection=new Te,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Yi();this.observer=new t.MutationObserver(this.mutationHandler)}init(h){this.createHandle=h.createHandle||this.createHandleFn,this.updateHandle=h.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(h,t){if(!h)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((h,t,e)=>{this.createHandle.call(this,this.selection,h,t,e),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Ha("point",this.el,this.points,t))})}createHandleFn(h){h.circle(5)}updateHandleFn(h,t){h.center(t[0],t[1])}updatePointHandles(){this.points.forEach((h,t,e)=>{this.updateHandle.call(this,this.selection.get(t+1),h,t,e)})}updatePoints(){const h=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>Fa(t,h))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class Po{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Te,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Yi();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,i)=>{const s=this.order[e];this.createHandle.call(this,this.selection,t,e,i,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",Xa(s,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,i,s){const a=s.at(i-1),r=s[(i+1)%s.length],o=e,l=[o[0]-a[0],o[1]-a[1]],d=[o[0]-r[0],o[1]-r[1]],f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(d[0]*d[0]+d[1]*d[1]),p=[l[0]/f,l[1]/f],m=[d[0]/u,d[1]/u],v=[o[0]-10*p[0],o[1]-10*p[1]],x=[o[0]-10*m[0],o[1]-10*m[1]];t.plot([v,o,x])}updateResizeHandles(){this.handlePoints.forEach((t,e,i)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,i,s)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const i=this.getPoint("t");t.get(0).plot(i[0],i[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Xa("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(i=>Na(i,e)),this.rotationPoint=Na(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:i,y2:s,cx:a,cy:r}=this.el.bbox()){return[[t,i],[a,i],[e,i],[e,r],[e,s],[a,s],[t,s],[t,r]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Mr=h=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let i=this.remember("_"+h.name);return i||(t.prototype instanceof Po?(i=new t(this),t=!0):i=new h(this),this.remember("_"+h.name,i)),i.active(t,e),this};nt(Vt,{select:Mr(Po)}),nt([We,Ge,Ye],{pointSelect:Mr(class{constructor(h){this.el=h,h.remember("_pointSelectHandler",this),this.selection=new Te,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Yi();this.observer=new t.MutationObserver(this.mutationHandler)}init(h){this.createHandle=h.createHandle||this.createHandleFn,this.updateHandle=h.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(h,t){if(!h)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((h,t,e)=>{this.createHandle.call(this,this.selection,h,t,e),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Xa("point",this.el,this.points,t))})}createHandleFn(h){h.circle(5)}updateHandleFn(h,t){h.center(t[0],t[1])}updatePointHandles(){this.points.forEach((h,t,e)=>{this.updateHandle.call(this,this.selection.get(t+1),h,t,e)})}updatePoints(){const h=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>Na(t,h))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const fs=h=>(h.changedTouches&&(h=h.changedTouches[0]),{x:h.clientX,y:h.clientY}),Tr=h=>{let t=1/0,e=1/0,i=-1/0,s=-1/0;for(let a=0;a<h.length;a++){const r=h[a];t=Math.min(t,r[0]),e=Math.min(e,r[1]),i=Math.max(i,r[0]),s=Math.max(s,r[1])}return new It(t,e,i-t,s-e)};class Ir{constructor(t){this.el=t,t.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(t,e){this.preserveAspectRatio=e.preserveAspectRatio??!1,this.aroundCenter=e.aroundCenter??!1,this.grid=e.grid??0,this.degree=e.degree??0,this.el.off(".resize"),t&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(t){this.eventType=t.type;const{event:e,index:i,points:s}=t.detail,a=!e.type.indexOf("mouse");if(a&&(e.which||e.buttons)!==1||this.el.dispatch("beforeresize",{event:t,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(fs(e)),this.index=i,this.points=s.slice();const r=(a?"mousemove":"touchmove")+".resize",o=(a?"mouseup":"touchcancel.resize touchend")+".resize";t.type==="point"?Ae(window,r,this.movePoint):t.type==="rot"?Ae(window,r,this.rotate):Ae(window,r,this.resize),Ae(window,o,this.endResize)}resize(t){this.lastEvent=t;const e=this.snapToGrid(this.el.point(fs(t)));let i=e.x-this.startPoint.x,s=e.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,s*=2);const a=this.box.x+i,r=this.box.y+s,o=this.box.x2+i,l=this.box.y2+s;let d=new It(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(a,this.box.x2),d.x2=Math.max(a,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(o,this.box.x),d.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(r,this.box.y2),d.y2=Math.max(r,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(l,this.box.y),d.y2=Math.max(l,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const f=d.width/this.box.width,u=d.height/this.box.height,p=["lt","t","rt","r","rb","b","lb","l"],m=(p.indexOf(this.eventType)+4)%p.length,v=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[m];let x=this.eventType.includes("t")||this.eventType.includes("b")?u:f;x=this.eventType.length===2?Math.max(f,u):x,d=function(y,_,k){const C=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]].map(([M,S])=>{const I=M-_[0],P=(S-_[1])*k;return[I*k+_[0],P+_[1]]});return Tr(C)}(this.box,v,x)}this.el.dispatch("resize",{box:new It(d),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(t){this.lastEvent=t;const{x:e,y:i}=this.snapToGrid(this.el.point(fs(t))),s=this.el.array().slice();s[this.index]=[e,i],this.el.dispatch("resize",{box:Tr(s),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.plot(s)}rotate(t){this.lastEvent=t;const e=this.startPoint,i=this.el.point(fs(t)),{cx:s,cy:a}=this.box,r=e.x-s,o=e.y-a,l=i.x-s,d=i.y-a,f=Math.sqrt(r*r+o*o)*Math.sqrt(l*l+d*d);if(f===0)return;let u=Math.acos((r*l+o*d)/f)/Math.PI*180;if(!u)return;i.x<e.x&&(u=-u);const p=new it(this.el),{x:m,y:v}=new kt(s,a).transformO(p),{rotate:x}=p.decompose(),y=this.snapToAngle(x+u)-x;this.el.dispatch("resize",{box:this.box,angle:y,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.transform(p.rotateO(y,m,v))}endResize(t){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(t),this.lastEvent=null,this.eventType="",oe(window,"mousemove.resize touchmove.resize"),oe(window,"mouseup.resize touchend.resize")}snapToGrid(t){return this.grid&&(t.x=Math.round(t.x/this.grid)*this.grid,t.y=Math.round(t.y/this.grid)*this.grid),t}snapToAngle(t){return this.degree&&(t=Math.round(t/this.degree)*this.degree),t}}nt(Vt,{resize:function(h=!0,t={}){typeof h=="object"&&(t=h,h=!0);let e=this.remember("_ResizeHandler");return e||(h.prototype instanceof Ir?(e=new h(this),h=!0):e=new Ir(this),this.remember("_resizeHandler",e)),e.active(h,t),this}}),window.SVG===void 0&&(window.SVG=Sh),window.Apex===void 0&&(window.Apex={});var zr=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new fi(this.ctx),this.ctx.axes=new Dh(this.ctx),this.ctx.core=new cc(this.ctx.el,this.ctx),this.ctx.config=new Hi({}),this.ctx.data=new en(this.ctx),this.ctx.grid=new xo(this.ctx),this.ctx.graphics=new Y(this.ctx),this.ctx.coreUtils=new zt(this.ctx),this.ctx.crosshairs=new Da(this.ctx),this.ctx.events=new Rh(this.ctx),this.ctx.exports=new ks(this.ctx),this.ctx.fill=new pe(this.ctx),this.ctx.localization=new Bh(this.ctx),this.ctx.options=new Ne,this.ctx.responsive=new Hh(this.ctx),this.ctx.series=new le(this.ctx),this.ctx.theme=new Fh(this.ctx),this.ctx.formatters=new Zi(this.ctx),this.ctx.titleSubtitle=new Xh(this.ctx),this.ctx.legend=new bo(this.ctx),this.ctx.toolbar=new yo(this.ctx),this.ctx.tooltip=new Ar(this.ctx),this.ctx.dimensions=new Cs(this.ctx),this.ctx.updateHelpers=new dc(this.ctx),this.ctx.zoomPanSelection=new jh(this.ctx),this.ctx.w.globals.tooltip=new Ar(this.ctx)}}]),h}(),Er=function(){function h(t){$(this,h),this.ctx=t,this.w=t.w}return K(h,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each(function(){this.removeClass("*"),this.off()},!0),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach(function(o){a.removeEventListener(o,e.ctx.events.documentEvent)});var r=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(r.Paper),r.Paper.remove(),r.elWrap=null,r.elGraphical=null,r.elLegendWrap=null,r.elLegendForeign=null,r.baseEl=null,r.elGridRect=null,r.elGridRectMask=null,r.elGridRectBarMask=null,r.elGridRectMarkerMask=null,r.elForecastMask=null,r.elNonForecastMask=null,r.elDefs=null}}]),h}(),wa=new WeakMap,fc=function(){function h(t,e){$(this,h),this.opts=e,this.ctx=this,this.w=new Oh(e).init(),this.el=t,this.w.globals.cuid=O.randomId(),this.w.globals.chartID=this.w.config.chart.id?O.escapeString(this.w.config.chart.id):this.w.globals.cuid,new zr(this).initModules(),this.create=O.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return K(h,[{key:"render",value:function(){var t=this;return new Promise(function(e,i){if(O.elementExists(t.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var s=t.w.config.chart.events.beforeMount;typeof s=="function"&&s(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(p,m){var v=!1;if(p.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var x=p.getBoundingClientRect();p.style.display!=="none"&&x.width!==0||(v=!0)}var y=new ResizeObserver(function(_){v&&m.call(p,_),v=!0});p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(p.children).forEach(function(_){return y.observe(_)}):y.observe(p),wa.set(m,y)}(t.el.parentNode,t.parentResizeHandler);var a=t.el.getRootNode&&t.el.getRootNode(),r=O.is("ShadowRoot",a),o=t.el.ownerDocument,l=r?a.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var d;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var f=((d=t.opts.chart)===null||d===void 0?void 0:d.nonce)||t.w.config.chart.nonce;f&&l.setAttribute("nonce",f),r?a.prepend(l):o.head.appendChild(l)}var u=t.create(t.w.config.series,{});if(!u)return e(t);t.mount(u).then(function(){typeof t.w.config.chart.events.mounted=="function"&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(u)}).catch(function(p){i(p)})}else i(new Error("Element not found"))})}},{key:"create",value:function(t,e){var i=this,s=this.w;new zr(this).initModules();var a=this.w.globals;if(a.noData=!1,a.animationEnded=!1,!O.elementExists(this.el))return a.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(e),s.config.xaxis.convertedCatToNumeric&&new Di(s.config).convertCatToNumericXaxis(s.config,this.ctx),this.core.setupElements(),s.config.chart.type==="treemap"&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),a.svgWidth===0)return a.animationEnded=!0,null;var r=t;t.forEach(function(p,m){p.hidden&&(r=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:m}))});var o=zt.checkComboSeries(r,s.config.chart.type);a.comboCharts=o.comboCharts,a.comboBarCount=o.comboBarCount;var l=r.every(function(p){return p.data&&p.data.length===0});(r.length===0||l&&a.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(r),this.theme.init(),new xi(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==a.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),s.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new zt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var f=this.core.plotChartType(r,d),u=new di(this);return u.bringForward(),s.config.dataLabels.background.enabled&&u.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:f,xyRatios:d,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,s=i.w;return new Promise(function(a,r){if(i.el===null)return r(new Error("Not enough data to display or target element not found"));(e===null||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new xo(i);var o,l,d=i.grid.drawGrid();if(i.annotations=new Eh(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),s.config.grid.position==="back"&&(d&&s.globals.dom.elGraphical.add(d.el),d!=null&&(o=d.elGridBorders)!==null&&o!==void 0&&o.node&&s.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(e.elGraph))for(var f=0;f<e.elGraph.length;f++)s.globals.dom.elGraphical.add(e.elGraph[f]);else s.globals.dom.elGraphical.add(e.elGraph);s.config.grid.position==="front"&&(d&&s.globals.dom.elGraphical.add(d.el),d!=null&&(l=d.elGridBorders)!==null&&l!==void 0&&l.node&&s.globals.dom.elGraphical.add(d.elGridBorders)),s.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),s.config.chart.type!=="treemap"&&i.axes.drawAxis(s.config.chart.type,d);var u=new Fi(t.ctx,d),p=new sn(t.ctx,d);if(d!==null&&(u.xAxisLabelCorrections(d.xAxisTickWidth),p.setYAxisTextAlignments(),s.config.yaxis.map(function(v,x){s.globals.ignoreYAxisIndexes.indexOf(x)===-1&&p.yAxisTitleRotate(x,v.opposite)})),i.annotations.drawAxesAnnotations(),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var m=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(v){m[v]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(function(v){v.method(v.params,!1,v.context)}),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),a(i)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(e,i){var s=wa.get(i);s&&(s.disconnect(),wa.delete(i))}(this.el.parentNode,this.parentResizeHandler);var t=this.w.config.chart.id;t&&Apex._chartInstances.forEach(function(e,i){e.id===O.escapeString(t)&&Apex._chartInstances.splice(i,1)}),new Er(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return this.opts=t,o.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(l,d){return e.updateHelpers._extendSeries(l,d)})),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,s,a,r)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w.config.series.slice();return s.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),a=0;a<s.length;a++)if(t[a]!==null&&t[a]!==void 0)for(var r=0;r<t[a].data.length;r++)s[a].data.push(t[a].data[r]);return i.w.config.series=s,e&&(i.w.globals.initialSeries=O.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise(function(i,s){new Er(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then(function(){typeof e.w.config.chart.events.updated=="function"&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)}).catch(function(r){s(r)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach(function(i){e.push(i)})),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(e){return t.w.config.chart.group===e.group?e.chart:t})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"highlightSeries",value:function(t){this.series.highlightSeries(t)}},{key:"isSeriesHidden",value:function(t){this.series.isSeriesHidden(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(t,e,s)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(t,e,s)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(t,e,s)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ba(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ba(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new ks(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ks(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;typeof t=="function"&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=O.escapeString(t);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(s){return s.id===e})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new h(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var s=null;if(i.publicMethods.indexOf(e)!==-1){for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];s=i[e].apply(i,r)}return s}}},{key:"merge",value:function(t,e){return O.extend(t,e)}}]),h}(),gc=fc;const pc=Br(gc);let mc={render:function(h){let t=Ft.getPostBac(),e=Ft.getType4(),i=t.map(d=>{let f=e.find(u=>u.codePostal===d.codePostal);return{codePostal:d.codePostal.slice(0,-3),count:d.count,generale:f?f.generale:0,sti2d:f?f.sti2d:0,autres:f?f.autres:0,total:d.count+(f?f.generale+f.sti2d+f.autres:0)}}),s={codePostal:"Autres",count:0,generale:0,sti2d:0,autres:0,total:0};i=i.map(d=>d.total<h?(s.count+=d.count,s.generale+=d.generale,s.sti2d+=d.sti2d,s.autres+=d.autres,s.total+=d.total,null):d).filter(d=>d!==null),s.total>0&&i.push(s),i.sort((d,f)=>f.total-d.total);let a=i.map(d=>d.codePostal);var o={series:[{name:"Post Bac",data:i.map(d=>d.count)},{name:"Generale",data:i.map(d=>d.generale)},{name:"STI2D",data:i.map(d=>d.sti2d)},{name:"Autres",data:i.map(d=>d.autres)}],chart:{type:"bar",height:600,stacked:!0},plotOptions:{bar:{horizontal:!0}},stroke:{width:1,colors:["#fff"]},title:{text:"Candidats Data"},xaxis:{categories:a,labels:{formatter:function(d){return d}}},yaxis:{title:{text:void 0}},tooltip:{y:{formatter:function(d){return d}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:40}},l=new pc(document.querySelector("#chart"),o);l.render()}},Rt={};Rt.renderType4=function(h,t,e){const i=L.icon({iconUrl:"../asset/lycee.png",iconSize:[25,25],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:null});var s=L.markerClusterGroup();for(let a=0;a<t.length;a++){let r=t[a],o=e.find(l=>l.numero_uai===r.numero_uai);if(o){let l=L.marker([r.latitude,r.longitude],{icon:i}),d=`${r.nom} :<br>`;for(let f in o)f!=="numero_uai"&&(d+=`${f}: ${o[f]} candidats,<br>`);l.bindPopup(d),s.addLayer(l)}}s.options.spiderfyOnMaxZoom=!1,s.options.showCoverageOnHover=!1,s.options.zoomToBoundsOnClick=!1,s.on("clusterclick",function(a){let r={},o=a.layer.getAllChildMarkers();for(let d=0;d<o.length;d++)o[d].getPopup().getContent().match(/(\w+): (\d+) candidats/g).forEach(m=>{const[v,x]=m.split(": "),y=v.trim(),_=parseInt(x);r[y]||(r[y]=0),r[y]+=_});let l="Total candidats dans le cluster:<br>";for(let d in r)l+=`${d}: ${r[d]},<br>`;a.layer.bindPopup(l).openPopup()}),h.addLayer(s)};Rt.renderType1=function(h,t){const e=L.icon({iconUrl:"../asset/diplome.png",iconSize:[25,25],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:null});var i=L.markerClusterGroup({iconCreateFunction:function(s){return L.divIcon({html:`<div style="background-color: red; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; color: white;">${s.getChildCount()}</div>`,className:"custom-cluster-icon",iconSize:L.point(30,30)})}});i.options.spiderfyOnMaxZoom=!1,i.options.showCoverageOnHover=!1,i.options.zoomToBoundsOnClick=!1;for(let s=0;s<t.length;s++){let a=t[s];(async()=>{let r=await fetch(`https://api.zippopotam.us/fr/${a.codePostal}`);if(r.ok){let o=await r.json();if(o.places&&o.places.length>0){let l=o.places[0],d=L.marker([l.latitude,l.longitude],{icon:e}),f=`Code Postal: ${a.codePostal}<br>Nombre de candidats: ${a.count}`;d.bindPopup(f),i.addLayer(d)}else console.error(`No places found for postal code: ${a.codePostal}`)}else console.error(`Failed to fetch data for postal code: ${a.codePostal}`)})()}i.on("clusterclick",function(s){let a=0,r=s.layer.getAllChildMarkers();for(let l=0;l<r.length;l++){const u=r[l].getPopup().getContent().match(/Nombre de candidats: (\d+)/);u&&(a+=parseInt(u[1]))}let o=`Total candidats dans le cluster: ${a}`;s.layer.bindPopup(o).openPopup()}),h.addLayer(i)};Rt.hideMap=function(){let h=document.getElementById("map");h.style.display="none"};Rt.showMap=function(){let h=document.getElementById("map");h.style.display="flex"};Rt.removeMap=function(){document.getElementById("map").remove();let t=document.createElement("div");t.id="map";let e=document.querySelector("section");e?e.appendChild(t):console.error("Section element not found in the DOM.")};Rt.drawCircle=function(h,t){L.circle([45.833619,1.261105],{color:"blue",fillColor:"#0000FF",fillOpacity:.2,radius:t}).addTo(h)};let xc=function(h,t){let e=Math.PI/180,i=45.833619*e,s=h*e,a=1.261105*e,r=t*e,o=Math.sin(i)*Math.sin(s),l=Math.cos(i)*Math.cos(s),d=Math.cos(a-r),f=l*d,u=o+f;return(Math.atan(-u/Math.sqrt(-u*u+1))+2*Math.atan(1))*3437.74677*1.1508*1.6093470878864446};Rt.filterLyceesByDistance=function(h,t){let e=[];for(let i=0;i<h.length;i++){let s=h[i],a=xc(s.latitude,s.longitude);a*1e3<t&&e.push({numero_uai:s.numero_uai,distance:a,latitude:s.latitude,longitude:s.longitude,nom:s.nom})}return e};Rt.loadMarkers=function(h,t){};var Ya={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(h,t){(function(e,i){i(t)})(Rr,function(e){var i="1.9.4";function s(n){var c,g,b,w;for(g=1,b=arguments.length;g<b;g++){w=arguments[g];for(c in w)n[c]=w[c]}return n}var a=Object.create||function(){function n(){}return function(c){return n.prototype=c,new n}}();function r(n,c){var g=Array.prototype.slice;if(n.bind)return n.bind.apply(n,g.call(arguments,1));var b=g.call(arguments,2);return function(){return n.apply(c,b.length?b.concat(g.call(arguments)):arguments)}}var o=0;function l(n){return"_leaflet_id"in n||(n._leaflet_id=++o),n._leaflet_id}function d(n,c,g){var b,w,A,z;return z=function(){b=!1,w&&(A.apply(g,w),w=!1)},A=function(){b?w=arguments:(n.apply(g,arguments),setTimeout(z,c),b=!0)},A}function f(n,c,g){var b=c[1],w=c[0],A=b-w;return n===b&&g?n:((n-w)%A+A)%A+w}function u(){return!1}function p(n,c){if(c===!1)return n;var g=Math.pow(10,c===void 0?6:c);return Math.round(n*g)/g}function m(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function v(n){return m(n).split(/\s+/)}function x(n,c){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var g in c)n.options[g]=c[g];return n.options}function y(n,c,g){var b=[];for(var w in n)b.push(encodeURIComponent(g?w.toUpperCase():w)+"="+encodeURIComponent(n[w]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function k(n,c){return n.replace(_,function(g,b){var w=c[b];if(w===void 0)throw new Error("No value provided for variable "+g);return typeof w=="function"&&(w=w(c)),w})}var C=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function M(n,c){for(var g=0;g<n.length;g++)if(n[g]===c)return g;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var P=0;function T(n){var c=+new Date,g=Math.max(0,16-(c-P));return P=c+g,window.setTimeout(n,g)}var E=window.requestAnimationFrame||I("RequestAnimationFrame")||T,R=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function B(n,c,g){if(g&&E===T)n.call(c);else return E.call(window,r(n,c))}function H(n){n&&R.call(window,n)}var X={__proto__:null,extend:s,create:a,bind:r,get lastId(){return o},stamp:l,throttle:d,wrapNum:f,falseFn:u,formatNum:p,trim:m,splitWords:v,setOptions:x,getParamString:y,template:k,isArray:C,indexOf:M,emptyImageUrl:S,requestFn:E,cancelFn:R,requestAnimFrame:B,cancelAnimFrame:H};function N(){}N.extend=function(n){var c=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=c.__super__=this.prototype,b=a(g);b.constructor=c,c.prototype=b;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return n.statics&&s(c,n.statics),n.includes&&(q(n.includes),s.apply(null,[b].concat(n.includes))),s(b,n),delete b.statics,delete b.includes,b.options&&(b.options=g.options?a(g.options):{},s(b.options,n.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,z=b._initHooks.length;A<z;A++)b._initHooks[A].call(this)}},c},N.include=function(n){var c=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=c,this.mergeOptions(n.options)),this},N.mergeOptions=function(n){return s(this.prototype.options,n),this},N.addInitHook=function(n){var c=Array.prototype.slice.call(arguments,1),g=typeof n=="function"?n:function(){this[n].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function q(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=C(n)?n:[n];for(var c=0;c<n.length;c++)n[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(n,c,g){if(typeof n=="object")for(var b in n)this._on(b,n[b],c);else{n=v(n);for(var w=0,A=n.length;w<A;w++)this._on(n[w],c,g)}return this},off:function(n,c,g){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var b in n)this._off(b,n[b],c);else{n=v(n);for(var w=arguments.length===1,A=0,z=n.length;A<z;A++)w?this._off(n[A]):this._off(n[A],c,g)}return this},_on:function(n,c,g,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(n,c,g)===!1){g===this&&(g=void 0);var w={fn:c,ctx:g};b&&(w.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(w)}},_off:function(n,c,g){var b,w,A;if(this._events&&(b=this._events[n],!!b)){if(arguments.length===1){if(this._firingCount)for(w=0,A=b.length;w<A;w++)b[w].fn=u;delete this._events[n];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(n,c,g);if(z!==!1){var D=b[z];this._firingCount&&(D.fn=u,this._events[n]=b=b.slice()),b.splice(z,1)}}},fire:function(n,c,g){if(!this.listens(n,g))return this;var b=s({},c,{type:n,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[n];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,z=w.length;A<z;A++){var D=w[A],F=D.fn;D.once&&this.off(n,F,D.ctx),F.call(D.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(n,c,g,b){typeof n!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(b=!!c,w=void 0,g=void 0);var A=this._events&&this._events[n];if(A&&A.length&&this._listens(n,w,g)!==!1)return!0;if(b){for(var z in this._eventParents)if(this._eventParents[z].listens(n,c,g,b))return!0}return!1},_listens:function(n,c,g){if(!this._events)return!1;var b=this._events[n]||[];if(!c)return!!b.length;g===this&&(g=void 0);for(var w=0,A=b.length;w<A;w++)if(b[w].fn===c&&b[w].ctx===g)return w;return!1},once:function(n,c,g){if(typeof n=="object")for(var b in n)this._on(b,n[b],c,!0);else{n=v(n);for(var w=0,A=n.length;w<A;w++)this._on(n[w],c,g,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[l(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[l(n)],this},_propagateEvent:function(n){for(var c in this._eventParents)this._eventParents[c].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var tt=N.extend(V);function G(n,c,g){this.x=g?Math.round(n):n,this.y=g?Math.round(c):c}var at=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(n){return this.clone()._add(Z(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Z(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new G(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new G(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=at(this.x),this.y=at(this.y),this},distanceTo:function(n){n=Z(n);var c=n.x-this.x,g=n.y-this.y;return Math.sqrt(c*c+g*g)},equals:function(n){return n=Z(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Z(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function Z(n,c,g){return n instanceof G?n:C(n)?new G(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new G(n.x,n.y):new G(n,c,g)}function J(n,c){if(n)for(var g=c?[n,c]:n,b=0,w=g.length;b<w;b++)this.extend(g[b])}J.prototype={extend:function(n){var c,g;if(!n)return this;if(n instanceof G||typeof n[0]=="number"||"x"in n)c=g=Z(n);else if(n=ft(n),c=n.min,g=n.max,!c||!g)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=g.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(n){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var c,g;return typeof n[0]=="number"||n instanceof G?n=Z(n):n=ft(n),n instanceof J?(c=n.min,g=n.max):c=g=n,c.x>=this.min.x&&g.x<=this.max.x&&c.y>=this.min.y&&g.y<=this.max.y},intersects:function(n){n=ft(n);var c=this.min,g=this.max,b=n.min,w=n.max,A=w.x>=c.x&&b.x<=g.x,z=w.y>=c.y&&b.y<=g.y;return A&&z},overlaps:function(n){n=ft(n);var c=this.min,g=this.max,b=n.min,w=n.max,A=w.x>c.x&&b.x<g.x,z=w.y>c.y&&b.y<g.y;return A&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var c=this.min,g=this.max,b=Math.abs(c.x-g.x)*n,w=Math.abs(c.y-g.y)*n;return ft(Z(c.x-b,c.y-w),Z(g.x+b,g.y+w))},equals:function(n){return n?(n=ft(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ft(n,c){return!n||n instanceof J?n:new J(n,c)}function pt(n,c){if(n)for(var g=c?[n,c]:n,b=0,w=g.length;b<w;b++)this.extend(g[b])}pt.prototype={extend:function(n){var c=this._southWest,g=this._northEast,b,w;if(n instanceof lt)b=n,w=n;else if(n instanceof pt){if(b=n._southWest,w=n._northEast,!b||!w)return this}else return n?this.extend(et(n)||rt(n)):this;return!c&&!g?(this._southWest=new lt(b.lat,b.lng),this._northEast=new lt(w.lat,w.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),g.lat=Math.max(w.lat,g.lat),g.lng=Math.max(w.lng,g.lng)),this},pad:function(n){var c=this._southWest,g=this._northEast,b=Math.abs(c.lat-g.lat)*n,w=Math.abs(c.lng-g.lng)*n;return new pt(new lt(c.lat-b,c.lng-w),new lt(g.lat+b,g.lng+w))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof lt||"lat"in n?n=et(n):n=rt(n);var c=this._southWest,g=this._northEast,b,w;return n instanceof pt?(b=n.getSouthWest(),w=n.getNorthEast()):b=w=n,b.lat>=c.lat&&w.lat<=g.lat&&b.lng>=c.lng&&w.lng<=g.lng},intersects:function(n){n=rt(n);var c=this._southWest,g=this._northEast,b=n.getSouthWest(),w=n.getNorthEast(),A=w.lat>=c.lat&&b.lat<=g.lat,z=w.lng>=c.lng&&b.lng<=g.lng;return A&&z},overlaps:function(n){n=rt(n);var c=this._southWest,g=this._northEast,b=n.getSouthWest(),w=n.getNorthEast(),A=w.lat>c.lat&&b.lat<g.lat,z=w.lng>c.lng&&b.lng<g.lng;return A&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,c){return n?(n=rt(n),this._southWest.equals(n.getSouthWest(),c)&&this._northEast.equals(n.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function rt(n,c){return n instanceof pt?n:new pt(n,c)}function lt(n,c,g){if(isNaN(n)||isNaN(c))throw new Error("Invalid LatLng object: ("+n+", "+c+")");this.lat=+n,this.lng=+c,g!==void 0&&(this.alt=+g)}lt.prototype={equals:function(n,c){if(!n)return!1;n=et(n);var g=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return g<=(c===void 0?1e-9:c)},toString:function(n){return"LatLng("+p(this.lat,n)+", "+p(this.lng,n)+")"},distanceTo:function(n){return mt.distance(this,et(n))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(n){var c=180*n/40075017,g=c/Math.cos(Math.PI/180*this.lat);return rt([this.lat-c,this.lng-g],[this.lat+c,this.lng+g])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function et(n,c,g){return n instanceof lt?n:C(n)&&typeof n[0]!="object"?n.length===3?new lt(n[0],n[1],n[2]):n.length===2?new lt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new lt(n.lat,"lng"in n?n.lng:n.lon,n.alt):c===void 0?null:new lt(n,c,g)}var ct={latLngToPoint:function(n,c){var g=this.projection.project(n),b=this.scale(c);return this.transformation._transform(g,b)},pointToLatLng:function(n,c){var g=this.scale(c),b=this.transformation.untransform(n,g);return this.projection.unproject(b)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var c=this.projection.bounds,g=this.scale(n),b=this.transformation.transform(c.min,g),w=this.transformation.transform(c.max,g);return new J(b,w)},infinite:!1,wrapLatLng:function(n){var c=this.wrapLng?f(n.lng,this.wrapLng,!0):n.lng,g=this.wrapLat?f(n.lat,this.wrapLat,!0):n.lat,b=n.alt;return new lt(g,c,b)},wrapLatLngBounds:function(n){var c=n.getCenter(),g=this.wrapLatLng(c),b=c.lat-g.lat,w=c.lng-g.lng;if(b===0&&w===0)return n;var A=n.getSouthWest(),z=n.getNorthEast(),D=new lt(A.lat-b,A.lng-w),F=new lt(z.lat-b,z.lng-w);return new pt(D,F)}},mt=s({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(n,c){var g=Math.PI/180,b=n.lat*g,w=c.lat*g,A=Math.sin((c.lat-n.lat)*g/2),z=Math.sin((c.lng-n.lng)*g/2),D=A*A+Math.cos(b)*Math.cos(w)*z*z,F=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*F}}),Xt=6378137,Bt={R:Xt,MAX_LATITUDE:85.0511287798,project:function(n){var c=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,n.lat),-g),w=Math.sin(b*c);return new G(this.R*n.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(n){var c=180/Math.PI;return new lt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*c,n.x*c/this.R)},bounds:function(){var n=Xt*Math.PI;return new J([-n,-n],[n,n])}()};function Kt(n,c,g,b){if(C(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=c,this._c=g,this._d=b}Kt.prototype={transform:function(n,c){return this._transform(n.clone(),c)},_transform:function(n,c){return c=c||1,n.x=c*(this._a*n.x+this._b),n.y=c*(this._c*n.y+this._d),n},untransform:function(n,c){return c=c||1,new G((n.x/c-this._b)/this._a,(n.y/c-this._d)/this._c)}};function he(n,c,g,b){return new Kt(n,c,g,b)}var Nt=s({},mt,{code:"EPSG:3857",projection:Bt,transformation:function(){var n=.5/(Math.PI*Bt.R);return he(n,.5,-n,.5)}()}),ce=s({},Nt,{code:"EPSG:900913"});function ji(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function an(n,c){var g="",b,w,A,z,D,F;for(b=0,A=n.length;b<A;b++){for(D=n[b],w=0,z=D.length;w<z;w++)F=D[w],g+=(w?"L":"M")+F.x+" "+F.y;g+=c?st.svg?"z":"x":""}return g||"M0 0"}var Ps=document.documentElement.style,Vi="ActiveXObject"in window,Mo=Vi&&!document.addEventListener,nn="msLaunchUri"in navigator&&!("documentMode"in document),Ms=xe("webkit"),rn=xe("android"),on=xe("android 2")||xe("android 3"),To=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Io=rn&&xe("Google")&&To<537&&!("AudioNode"in window),Ts=!!window.opera,ln=!nn&&xe("chrome"),hn=xe("gecko")&&!Ms&&!Ts&&!Vi,zo=!ln&&xe("safari"),cn=xe("phantom"),dn="OTransition"in Ps,Eo=navigator.platform.indexOf("Win")===0,un=Vi&&"transition"in Ps,Is="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!on,fn="MozPerspective"in Ps,Oo=!window.L_DISABLE_3D&&(un||Is||fn)&&!dn&&!cn,vi=typeof orientation<"u"||xe("mobile"),Ro=vi&&Ms,Bo=vi&&Is,gn=!window.PointerEvent&&window.MSPointerEvent,pn=!!(window.PointerEvent||gn),mn="ontouchstart"in window||!!window.TouchEvent,Do=!window.L_NO_TOUCH&&(mn||pn),Ho=vi&&Ts,Fo=vi&&hn,Xo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,No=function(){var n=!1;try{var c=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",u,c),window.removeEventListener("testPassiveEventSupport",u,c)}catch{}return n}(),Yo=function(){return!!document.createElement("canvas").getContext}(),zs=!!(document.createElementNS&&ji("svg").createSVGRect),Wo=!!zs&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Go=!zs&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var c=n.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Zo=navigator.platform.indexOf("Mac")===0,jo=navigator.platform.indexOf("Linux")===0;function xe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var st={ie:Vi,ielt9:Mo,edge:nn,webkit:Ms,android:rn,android23:on,androidStock:Io,opera:Ts,chrome:ln,gecko:hn,safari:zo,phantom:cn,opera12:dn,win:Eo,ie3d:un,webkit3d:Is,gecko3d:fn,any3d:Oo,mobile:vi,mobileWebkit:Ro,mobileWebkit3d:Bo,msPointer:gn,pointer:pn,touch:Do,touchNative:mn,mobileOpera:Ho,mobileGecko:Fo,retina:Xo,passiveEvents:No,canvas:Yo,svg:zs,vml:Go,inlineSvg:Wo,mac:Zo,linux:jo},xn=st.msPointer?"MSPointerDown":"pointerdown",vn=st.msPointer?"MSPointerMove":"pointermove",bn=st.msPointer?"MSPointerUp":"pointerup",yn=st.msPointer?"MSPointerCancel":"pointercancel",Es={touchstart:xn,touchmove:vn,touchend:bn,touchcancel:yn},_n={touchstart:Jo,touchmove:Ui,touchend:Ui,touchcancel:Ui},$e={},wn=!1;function Vo(n,c,g){return c==="touchstart"&&Ko(),_n[c]?(g=_n[c].bind(this,g),n.addEventListener(Es[c],g,!1),g):(console.warn("wrong event specified:",c),u)}function Uo(n,c,g){if(!Es[c]){console.warn("wrong event specified:",c);return}n.removeEventListener(Es[c],g,!1)}function qo(n){$e[n.pointerId]=n}function $o(n){$e[n.pointerId]&&($e[n.pointerId]=n)}function kn(n){delete $e[n.pointerId]}function Ko(){wn||(document.addEventListener(xn,qo,!0),document.addEventListener(vn,$o,!0),document.addEventListener(bn,kn,!0),document.addEventListener(yn,kn,!0),wn=!0)}function Ui(n,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var g in $e)c.touches.push($e[g]);c.changedTouches=[c],n(c)}}function Jo(n,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Gt(c),Ui(n,c)}function Qo(n){var c={},g,b;for(b in n)g=n[b],c[b]=g&&g.bind?g.bind(n):g;return n=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var tl=200;function el(n,c){n.addEventListener("dblclick",c);var g=0,b;function w(A){if(A.detail!==1){b=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var z=Pn(A);if(!(z.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!z.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var D=Date.now();D-g<=tl?(b++,b===2&&c(Qo(A))):b=1,g=D}}}return n.addEventListener("click",w),{dblclick:c,simDblclick:w}}function il(n,c){n.removeEventListener("dblclick",c.dblclick),n.removeEventListener("click",c.simDblclick)}var Os=Ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bi=Ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cn=bi==="webkitTransition"||bi==="OTransition"?bi+"End":"transitionend";function An(n){return typeof n=="string"?document.getElementById(n):n}function yi(n,c){var g=n.style[c]||n.currentStyle&&n.currentStyle[c];if((!g||g==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(n,null);g=b?b[c]:null}return g==="auto"?null:g}function wt(n,c,g){var b=document.createElement(n);return b.className=c||"",g&&g.appendChild(b),b}function Tt(n){var c=n.parentNode;c&&c.removeChild(n)}function qi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ke(n){var c=n.parentNode;c&&c.lastChild!==n&&c.appendChild(n)}function Je(n){var c=n.parentNode;c&&c.firstChild!==n&&c.insertBefore(n,c.firstChild)}function Rs(n,c){if(n.classList!==void 0)return n.classList.contains(c);var g=$i(n);return g.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(g)}function gt(n,c){if(n.classList!==void 0)for(var g=v(c),b=0,w=g.length;b<w;b++)n.classList.add(g[b]);else if(!Rs(n,c)){var A=$i(n);Bs(n,(A?A+" ":"")+c)}}function Et(n,c){n.classList!==void 0?n.classList.remove(c):Bs(n,m((" "+$i(n)+" ").replace(" "+c+" "," ")))}function Bs(n,c){n.className.baseVal===void 0?n.className=c:n.className.baseVal=c}function $i(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ie(n,c){"opacity"in n.style?n.style.opacity=c:"filter"in n.style&&sl(n,c)}function sl(n,c){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=n.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),g?(g.Enabled=c!==100,g.Opacity=c):n.style.filter+=" progid:"+b+"(opacity="+c+")"}function Ki(n){for(var c=document.documentElement.style,g=0;g<n.length;g++)if(n[g]in c)return n[g];return!1}function Oe(n,c,g){var b=c||new G(0,0);n.style[Os]=(st.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function Dt(n,c){n._leaflet_pos=c,st.any3d?Oe(n,c):(n.style.left=c.x+"px",n.style.top=c.y+"px")}function Re(n){return n._leaflet_pos||new G(0,0)}var _i,wi,Ds;if("onselectstart"in document)_i=function(){dt(window,"selectstart",Gt)},wi=function(){Pt(window,"selectstart",Gt)};else{var ki=Ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_i=function(){if(ki){var n=document.documentElement.style;Ds=n[ki],n[ki]="none"}},wi=function(){ki&&(document.documentElement.style[ki]=Ds,Ds=void 0)}}function Hs(){dt(window,"dragstart",Gt)}function Fs(){Pt(window,"dragstart",Gt)}var Ji,Xs;function Ns(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Qi(),Ji=n,Xs=n.style.outlineStyle,n.style.outlineStyle="none",dt(window,"keydown",Qi))}function Qi(){Ji&&(Ji.style.outlineStyle=Xs,Ji=void 0,Xs=void 0,Pt(window,"keydown",Qi))}function Ln(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ys(n){var c=n.getBoundingClientRect();return{x:c.width/n.offsetWidth||1,y:c.height/n.offsetHeight||1,boundingClientRect:c}}var al={__proto__:null,TRANSFORM:Os,TRANSITION:bi,TRANSITION_END:Cn,get:An,getStyle:yi,create:wt,remove:Tt,empty:qi,toFront:Ke,toBack:Je,hasClass:Rs,addClass:gt,removeClass:Et,setClass:Bs,getClass:$i,setOpacity:ie,testProp:Ki,setTransform:Oe,setPosition:Dt,getPosition:Re,get disableTextSelection(){return _i},get enableTextSelection(){return wi},disableImageDrag:Hs,enableImageDrag:Fs,preventOutline:Ns,restoreOutline:Qi,getSizedParentNode:Ln,getScale:Ys};function dt(n,c,g,b){if(c&&typeof c=="object")for(var w in c)Gs(n,w,c[w],g);else{c=v(c);for(var A=0,z=c.length;A<z;A++)Gs(n,c[A],g,b)}return this}var ve="_leaflet_events";function Pt(n,c,g,b){if(arguments.length===1)Sn(n),delete n[ve];else if(c&&typeof c=="object")for(var w in c)Zs(n,w,c[w],g);else if(c=v(c),arguments.length===2)Sn(n,function(D){return M(c,D)!==-1});else for(var A=0,z=c.length;A<z;A++)Zs(n,c[A],g,b);return this}function Sn(n,c){for(var g in n[ve]){var b=g.split(/\d/)[0];(!c||c(b))&&Zs(n,b,null,null,g)}}var Ws={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gs(n,c,g,b){var w=c+l(g)+(b?"_"+l(b):"");if(n[ve]&&n[ve][w])return this;var A=function(D){return g.call(b||n,D||window.event)},z=A;!st.touchNative&&st.pointer&&c.indexOf("touch")===0?A=Vo(n,c,A):st.touch&&c==="dblclick"?A=el(n,A):"addEventListener"in n?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?n.addEventListener(Ws[c]||c,A,st.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(A=function(D){D=D||window.event,Vs(n,D)&&z(D)},n.addEventListener(Ws[c],A,!1)):n.addEventListener(c,z,!1):n.attachEvent("on"+c,A),n[ve]=n[ve]||{},n[ve][w]=A}function Zs(n,c,g,b,w){w=w||c+l(g)+(b?"_"+l(b):"");var A=n[ve]&&n[ve][w];if(!A)return this;!st.touchNative&&st.pointer&&c.indexOf("touch")===0?Uo(n,c,A):st.touch&&c==="dblclick"?il(n,A):"removeEventListener"in n?n.removeEventListener(Ws[c]||c,A,!1):n.detachEvent("on"+c,A),n[ve][w]=null}function Be(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function js(n){return Gs(n,"wheel",Be),this}function Ci(n){return dt(n,"mousedown touchstart dblclick contextmenu",Be),n._leaflet_disable_click=!0,this}function Gt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function De(n){return Gt(n),Be(n),this}function Pn(n){if(n.composedPath)return n.composedPath();for(var c=[],g=n.target;g;)c.push(g),g=g.parentNode;return c}function Mn(n,c){if(!c)return new G(n.clientX,n.clientY);var g=Ys(c),b=g.boundingClientRect;return new G((n.clientX-b.left)/g.x-c.clientLeft,(n.clientY-b.top)/g.y-c.clientTop)}var nl=st.linux&&st.chrome?window.devicePixelRatio:st.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tn(n){return st.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/nl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Vs(n,c){var g=c.relatedTarget;if(!g)return!0;try{for(;g&&g!==n;)g=g.parentNode}catch{return!1}return g!==n}var rl={__proto__:null,on:dt,off:Pt,stopPropagation:Be,disableScrollPropagation:js,disableClickPropagation:Ci,preventDefault:Gt,stop:De,getPropagationPath:Pn,getMousePosition:Mn,getWheelDelta:Tn,isExternalTarget:Vs,addListener:dt,removeListener:Pt},In=tt.extend({run:function(n,c,g,b){this.stop(),this._el=n,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Re(n),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(n){var c=+new Date-this._startTime,g=this._duration*1e3;c<g?this._runFrame(this._easeOut(c/g),n):(this._runFrame(1),this._complete())},_runFrame:function(n,c){var g=this._startPos.add(this._offset.multiplyBy(n));c&&g._round(),Dt(this._el,g),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),bt=tt.extend({options:{crs:Nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,c){c=x(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(et(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bi&&st.any3d&&!st.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),dt(this._proxy,Cn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,c,g){if(c=c===void 0?this._zoom:this._limitZoom(c),n=this._limitCenter(et(n),c,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=s({animate:g.animate},g.zoom),g.pan=s({animate:g.animate,duration:g.duration},g.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,c,g.zoom):this._tryAnimatedPan(n,g.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(n,c,g.pan&&g.pan.noMoveStart),this},setZoom:function(n,c){return this._loaded?this.setView(this.getCenter(),n,{zoom:c}):(this._zoom=n,this)},zoomIn:function(n,c){return n=n||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,c)},zoomOut:function(n,c){return n=n||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,c)},setZoomAround:function(n,c,g){var b=this.getZoomScale(c),w=this.getSize().divideBy(2),A=n instanceof G?n:this.latLngToContainerPoint(n),z=A.subtract(w).multiplyBy(1-1/b),D=this.containerPointToLatLng(w.add(z));return this.setView(D,c,{zoom:g})},_getBoundsCenterZoom:function(n,c){c=c||{},n=n.getBounds?n.getBounds():rt(n);var g=Z(c.paddingTopLeft||c.padding||[0,0]),b=Z(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(n,!1,g.add(b));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:n.getCenter(),zoom:w};var A=b.subtract(g).divideBy(2),z=this.project(n.getSouthWest(),w),D=this.project(n.getNorthEast(),w),F=this.unproject(z.add(D).divideBy(2).add(A),w);return{center:F,zoom:w}},fitBounds:function(n,c){if(n=rt(n),!n.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(n,c);return this.setView(g.center,g.zoom,c)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,c){return this.setView(n,this._zoom,{pan:c})},panBy:function(n,c){if(n=Z(n).round(),c=c||{},!n.x&&!n.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new In,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){gt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,g,c.duration||.25,c.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,c,g){if(g=g||{},g.animate===!1||!st.any3d)return this.setView(n,c,g);this._stop();var b=this.project(this.getCenter()),w=this.project(n),A=this.getSize(),z=this._zoom;n=et(n),c=c===void 0?z:c;var D=Math.max(A.x,A.y),F=D*this.getZoomScale(z,c),W=w.distanceTo(b)||1,Q=1.42,ot=Q*Q;function xt(Ht){var ds=Ht?-1:1,Ul=Ht?F:D,ql=F*F-D*D+ds*ot*ot*W*W,$l=2*Ul*ot*W,aa=ql/$l,dr=Math.sqrt(aa*aa+1)-aa,Kl=dr<1e-9?-18:Math.log(dr);return Kl}function Ut(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Wt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}function ae(Ht){return Ut(Ht)/Wt(Ht)}var Jt=xt(0);function ai(Ht){return D*(Wt(Jt)/Wt(Jt+Q*Ht))}function Gl(Ht){return D*(Wt(Jt)*ae(Jt+Q*Ht)-Ut(Jt))/ot}function Zl(Ht){return 1-Math.pow(1-Ht,1.5)}var jl=Date.now(),hr=(xt(1)-Jt)/Q,Vl=g.duration?1e3*g.duration:1e3*hr*.8;function cr(){var Ht=(Date.now()-jl)/Vl,ds=Zl(Ht)*hr;Ht<=1?(this._flyToFrame=B(cr,this),this._move(this.unproject(b.add(w.subtract(b).multiplyBy(Gl(ds)/W)),z),this.getScaleZoom(D/ai(ds),z),{flyTo:!0})):this._move(n,c)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),cr.call(this),this},flyToBounds:function(n,c){var g=this._getBoundsCenterZoom(n,c);return this.flyTo(g.center,g.zoom,c)},setMaxBounds:function(n){return n=rt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var c=this.options.minZoom;return this.options.minZoom=n,this._loaded&&c!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var c=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&c!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,c){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,rt(n));return g.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(n,c){c=c||{};var g=Z(c.paddingTopLeft||c.padding||[0,0]),b=Z(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(n),z=this.getPixelBounds(),D=ft([z.min.add(g),z.max.subtract(b)]),F=D.getSize();if(!D.contains(A)){this._enforcingBounds=!0;var W=A.subtract(D.getCenter()),Q=D.extend(A).getSize().subtract(F);w.x+=W.x<0?-Q.x:Q.x,w.y+=W.y<0?-Q.y:Q.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=c.divideBy(2).round(),w=g.divideBy(2).round(),A=b.subtract(w);return!A.x&&!A.y?this:(n.animate&&n.pan?this.panBy(A):(n.pan&&this._rawPanBy(A),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=r(this._handleGeolocationResponse,this),g=r(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,g,n):navigator.geolocation.getCurrentPosition(c,g,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var c=n.code,g=n.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var c=n.coords.latitude,g=n.coords.longitude,b=new lt(c,g),w=b.toBounds(n.coords.accuracy*2),A=this._locateOptions;if(A.setView){var z=this.getBoundsZoom(w);this.setView(b,A.maxZoom?Math.min(z,A.maxZoom):z)}var D={latlng:b,bounds:w,timestamp:n.timestamp};for(var F in n.coords)typeof n.coords[F]=="number"&&(D[F]=n.coords[F]);this.fire("locationfound",D)}},addHandler:function(n,c){if(!c)return this;var g=this[n]=new c(this);return this._handlers.push(g),this.options[n]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Tt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,c){var g="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),b=wt("div",g,c||this._mapPane);return n&&(this._panes[n]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),c=this.unproject(n.getBottomLeft()),g=this.unproject(n.getTopRight());return new pt(c,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,c,g){n=rt(n),g=Z(g||[0,0]);var b=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),z=n.getNorthWest(),D=n.getSouthEast(),F=this.getSize().subtract(g),W=ft(this.project(D,b),this.project(z,b)).getSize(),Q=st.any3d?this.options.zoomSnap:1,ot=F.x/W.x,xt=F.y/W.y,Ut=c?Math.max(ot,xt):Math.min(ot,xt);return b=this.getScaleZoom(Ut,b),Q&&(b=Math.round(b/(Q/100))*(Q/100),b=c?Math.ceil(b/Q)*Q:Math.floor(b/Q)*Q),Math.max(w,Math.min(A,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,c){var g=this._getTopLeftPoint(n,c);return new J(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,c){var g=this.options.crs;return c=c===void 0?this._zoom:c,g.scale(n)/g.scale(c)},getScaleZoom:function(n,c){var g=this.options.crs;c=c===void 0?this._zoom:c;var b=g.zoom(n*g.scale(c));return isNaN(b)?1/0:b},project:function(n,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(et(n),c)},unproject:function(n,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Z(n),c)},layerPointToLatLng:function(n){var c=Z(n).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(n){var c=this.project(et(n))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(et(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(rt(n))},distance:function(n,c){return this.options.crs.distance(et(n),et(c))},containerPointToLayerPoint:function(n){return Z(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Z(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var c=this.containerPointToLayerPoint(Z(n));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(et(n)))},mouseEventToContainerPoint:function(n){return Mn(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var c=this._container=An(n);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");dt(c,"scroll",this._onScroll,this),this._containerId=l(c)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&st.any3d,gt(n,"leaflet-container"+(st.touch?" leaflet-touch":"")+(st.retina?" leaflet-retina":"")+(st.ielt9?" leaflet-oldie":"")+(st.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=yi(n,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dt(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(n.markerPane,"leaflet-zoom-hide"),gt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,c,g){Dt(this._mapPane,new G(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,g)._move(n,c)._moveEnd(w),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(n,c){return n&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(n,c,g,b){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),b?g&&g.pinch&&this.fire("zoom",g):((w||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Dt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[l(this._container)]=this;var c=n?Pt:dt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),st.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,c){for(var g=[],b,w=c==="mouseout"||c==="mouseover",A=n.target||n.srcElement,z=!1;A;){if(b=this._targets[l(A)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){z=!0;break}if(b&&b.listens(c,!0)&&(w&&!Vs(A,n)||(g.push(b),w))||A===this._container)break;A=A.parentNode}return!g.length&&!z&&!w&&this.listens(c,!0)&&(g=[this]),g},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var c=n.target||n.srcElement;if(!(!this._loaded||c._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(c))){var g=n.type;g==="mousedown"&&Ns(c),this._fireDOMEvent(n,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,c,g){if(n.type==="click"){var b=s({},n);b.type="preclick",this._fireDOMEvent(b,b.type,g)}var w=this._findEventTargets(n,c);if(g){for(var A=[],z=0;z<g.length;z++)g[z].listens(c,!0)&&A.push(g[z]);w=A.concat(w)}if(w.length){c==="contextmenu"&&Gt(n);var D=w[0],F={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var W=D.getLatLng&&(!D._radius||D._radius<=10);F.containerPoint=W?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=W?D.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(z=0;z<w.length;z++)if(w[z].fire(c,F,!0),F.originalEvent._stopped||w[z].options.bubblingMouseEvents===!1&&M(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,c=this._handlers.length;n<c;n++)this._handlers[n].disable()},whenReady:function(n,c){return this._loaded?n.call(c||this,{target:this}):this.on("load",n,c),this},_getMapPanePos:function(){return Re(this._mapPane)||new G(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,c){var g=n&&c!==void 0?this._getNewPixelOrigin(n,c):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,c){var g=this.getSize()._divideBy(2);return this.project(n,c)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,c,g){var b=this._getNewPixelOrigin(g,c);return this.project(n,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(n,c,g){var b=this._getNewPixelOrigin(g,c);return ft([this.project(n.getSouthWest(),c)._subtract(b),this.project(n.getNorthWest(),c)._subtract(b),this.project(n.getSouthEast(),c)._subtract(b),this.project(n.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,c,g){if(!g)return n;var b=this.project(n,c),w=this.getSize().divideBy(2),A=new J(b.subtract(w),b.add(w)),z=this._getBoundsOffset(A,g,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?n:this.unproject(b.add(z),c)},_limitOffset:function(n,c){if(!c)return n;var g=this.getPixelBounds(),b=new J(g.min.add(n),g.max.add(n));return n.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(n,c,g){var b=ft(this.project(c.getNorthEast(),g),this.project(c.getSouthWest(),g)),w=b.min.subtract(n.min),A=b.max.subtract(n.max),z=this._rebound(w.x,-A.x),D=this._rebound(w.y,-A.y);return new G(z,D)},_rebound:function(n,c){return n+c>0?Math.round(n-c)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(c))},_limitZoom:function(n){var c=this.getMinZoom(),g=this.getMaxZoom(),b=st.any3d?this.options.zoomSnap:1;return b&&(n=Math.round(n/b)*b),Math.max(c,Math.min(g,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Et(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,c){var g=this._getCenterOffset(n)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,c),!0)},_createAnimProxy:function(){var n=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(c){var g=Os,b=this._proxy.style[g];Oe(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),c=this.getZoom();Oe(this._proxy,this.project(n,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,c,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),w=this._getCenterOffset(n)._divideBy(1-1/b);return g.animate!==!0&&!this.getSize().contains(w)?!1:(B(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(n,c,!0)},this),!0)},_animateZoom:function(n,c,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=c,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Et(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ol(n,c){return new bt(n,c)}var de=N.extend({options:{position:"topright"},initialize:function(n){x(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var c=this._map;return c&&c.removeControl(this),this.options.position=n,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var c=this._container=this.onAdd(n),g=this.getPosition(),b=n._controlCorners[g];return gt(c,"leaflet-control"),g.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ai=function(n){return new de(n)};bt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},c="leaflet-",g=this._controlContainer=wt("div",c+"control-container",this._container);function b(w,A){var z=c+w+" "+c+A;n[w+A]=wt("div",z,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Tt(this._controlCorners[n]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zn=de.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,c,g,b){return g<b?-1:b<g?1:0}},initialize:function(n,c,g){x(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in n)this._addLayer(n[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return de.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,c){return this._addLayer(n,c),this._map?this._update():this},addOverlay:function(n,c){return this._addLayer(n,c,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var c=this._getLayer(l(n));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Et(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Et(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",c=this._container=wt("div",n),g=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ci(c),js(c);var b=this._section=wt("section",n+"-list");g&&(this._map.on("click",this.collapse,this),dt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=wt("a",n+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),dt(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Gt(A),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=wt("div",n+"-base",b),this._separator=wt("div",n+"-separator",b),this._overlaysList=wt("div",n+"-overlays",b),c.appendChild(b)},_getLayer:function(n){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&l(this._layers[c].layer)===n)return this._layers[c]},_addLayer:function(n,c,g){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:c,overlay:g}),this.options.sortLayers&&this._layers.sort(r(function(b,w){return this.options.sortFunction(b.layer,w.layer,b.name,w.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qi(this._baseLayersList),qi(this._overlaysList),this._layerControlInputs=[];var n,c,g,b,w=0;for(g=0;g<this._layers.length;g++)b=this._layers[g],this._addItem(b),c=c||b.overlay,n=n||!b.overlay,w+=b.overlay?0:1;return this.options.hideSingleBase&&(n=n&&w>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=c&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var c=this._getLayer(l(n.target)),g=c.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;g&&this._map.fire(g,c)},_createRadioElement:function(n,c){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(n){var c=document.createElement("label"),g=this._map.hasLayer(n.layer),b;n.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+l(this),g),this._layerControlInputs.push(b),b.layerId=l(n.layer),dt(b,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+n.name;var A=document.createElement("span");c.appendChild(A),A.appendChild(b),A.appendChild(w);var z=n.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,c,g,b=[],w=[];this._handlingClick=!0;for(var A=n.length-1;A>=0;A--)c=n[A],g=this._getLayer(c.layerId).layer,c.checked?b.push(g):c.checked||w.push(g);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<b.length;A++)this._map.hasLayer(b[A])||this._map.addLayer(b[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,c,g,b=this._map.getZoom(),w=n.length-1;w>=0;w--)c=n[w],g=this._getLayer(c.layerId).layer,c.disabled=g.options.minZoom!==void 0&&b<g.options.minZoom||g.options.maxZoom!==void 0&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,dt(n,"click",Gt),this.expand();var c=this;setTimeout(function(){Pt(n,"click",Gt),c._preventClick=!1})}}),ll=function(n,c,g){return new zn(n,c,g)},Us=de.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var c="leaflet-control-zoom",g=wt("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",g,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,c,g,b,w){var A=wt("a",g,b);return A.innerHTML=n,A.href="#",A.title=c,A.setAttribute("role","button"),A.setAttribute("aria-label",c),Ci(A),dt(A,"click",De),dt(A,"click",w,this),dt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var n=this._map,c="leaflet-disabled";Et(this._zoomInButton,c),Et(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(gt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(gt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))});var hl=function(n){return new Us(n)},En=de.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var c="leaflet-control-scale",g=wt("div",c),b=this.options;return this._addScales(b,c+"-line",g),n.on(b.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),g},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,c,g){n.metric&&(this._mScale=wt("div",c,g)),n.imperial&&(this._iScale=wt("div",c,g))},_update:function(){var n=this._map,c=n.getSize().y/2,g=n.distance(n.containerPointToLatLng([0,c]),n.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(g)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var c=this._getRoundNum(n),g=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,g,c/n)},_updateImperial:function(n){var c=n*3.2808399,g,b,w;c>5280?(g=c/5280,b=this._getRoundNum(g),this._updateScale(this._iScale,b+" mi",b/g)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(n,c,g){n.style.width=Math.round(this.options.maxWidth*g)+"px",n.innerHTML=c},_getRoundNum:function(n){var c=Math.pow(10,(Math.floor(n)+"").length-1),g=n/c;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,c*g}}),cl=function(n){return new En(n)},dl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qs=de.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(st.inlineSvg?dl+" ":"")+"Leaflet</a>"},initialize:function(n){x(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),Ci(this._container);for(var c in n._layers)n._layers[c].getAttribution&&this.addAttribution(n._layers[c].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var c in this._attributions)this._attributions[c]&&n.push(c);var g=[];this.options.prefix&&g.push(this.options.prefix),n.length&&g.push(n.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new qs().addTo(this)});var ul=function(n){return new qs(n)};de.Layers=zn,de.Zoom=Us,de.Scale=En,de.Attribution=qs,Ai.layers=ll,Ai.zoom=hl,Ai.scale=cl,Ai.attribution=ul;var be=N.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});be.addTo=function(n,c){return n.addHandler(c,this),this};var fl={Events:V},On=st.touch?"touchstart mousedown":"mousedown",Se=tt.extend({options:{clickTolerance:3},initialize:function(n,c,g,b){x(this,b),this._element=n,this._dragStartTarget=c||n,this._preventOutline=g},enable:function(){this._enabled||(dt(this._dragStartTarget,On,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Se._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,On,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Rs(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Se._dragging===this&&this.finishDrag();return}if(!(Se._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Se._dragging=this,this._preventOutline&&Ns(this._element),Hs(),_i(),!this._moving)){this.fire("down");var c=n.touches?n.touches[0]:n,g=Ln(this._element);this._startPoint=new G(c.clientX,c.clientY),this._startPos=Re(this._element),this._parentScale=Ys(g);var b=n.type==="mousedown";dt(document,b?"mousemove":"touchmove",this._onMove,this),dt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var c=n.touches&&n.touches.length===1?n.touches[0]:n,g=new G(c.clientX,c.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Gt(n),this._moved||(this.fire("dragstart"),this._moved=!0,gt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Dt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Et(document.body,"leaflet-dragging"),this._lastTarget&&(Et(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),Fs(),wi();var c=this._moved&&this._moving;this._moving=!1,Se._dragging=!1,c&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Rn(n,c,g){var b,w=[1,4,2,8],A,z,D,F,W,Q,ot,xt;for(A=0,Q=n.length;A<Q;A++)n[A]._code=He(n[A],c);for(D=0;D<4;D++){for(ot=w[D],b=[],A=0,Q=n.length,z=Q-1;A<Q;z=A++)F=n[A],W=n[z],F._code&ot?W._code&ot||(xt=ts(W,F,ot,c,g),xt._code=He(xt,c),b.push(xt)):(W._code&ot&&(xt=ts(W,F,ot,c,g),xt._code=He(xt,c),b.push(xt)),b.push(F));n=b}return n}function Bn(n,c){var g,b,w,A,z,D,F,W,Q;if(!n||n.length===0)throw new Error("latlngs not passed");se(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ot=et([0,0]),xt=rt(n),Ut=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Ut<1700&&(ot=$s(n));var Wt=n.length,ae=[];for(g=0;g<Wt;g++){var Jt=et(n[g]);ae.push(c.project(et([Jt.lat-ot.lat,Jt.lng-ot.lng])))}for(D=F=W=0,g=0,b=Wt-1;g<Wt;b=g++)w=ae[g],A=ae[b],z=w.y*A.x-A.y*w.x,F+=(w.x+A.x)*z,W+=(w.y+A.y)*z,D+=z*3;D===0?Q=ae[0]:Q=[F/D,W/D];var ai=c.unproject(Z(Q));return et([ai.lat+ot.lat,ai.lng+ot.lng])}function $s(n){for(var c=0,g=0,b=0,w=0;w<n.length;w++){var A=et(n[w]);c+=A.lat,g+=A.lng,b++}return et([c/b,g/b])}var gl={__proto__:null,clipPolygon:Rn,polygonCenter:Bn,centroid:$s};function Dn(n,c){if(!c||!n.length)return n.slice();var g=c*c;return n=xl(n,g),n=ml(n,g),n}function Hn(n,c,g){return Math.sqrt(Li(n,c,g,!0))}function pl(n,c,g){return Li(n,c,g)}function ml(n,c){var g=n.length,b=typeof Uint8Array<"u"?Uint8Array:Array,w=new b(g);w[0]=w[g-1]=1,Ks(n,w,c,0,g-1);var A,z=[];for(A=0;A<g;A++)w[A]&&z.push(n[A]);return z}function Ks(n,c,g,b,w){var A=0,z,D,F;for(D=b+1;D<=w-1;D++)F=Li(n[D],n[b],n[w],!0),F>A&&(z=D,A=F);A>g&&(c[z]=1,Ks(n,c,g,b,z),Ks(n,c,g,z,w))}function xl(n,c){for(var g=[n[0]],b=1,w=0,A=n.length;b<A;b++)vl(n[b],n[w])>c&&(g.push(n[b]),w=b);return w<A-1&&g.push(n[A-1]),g}var Fn;function Xn(n,c,g,b,w){var A=b?Fn:He(n,g),z=He(c,g),D,F,W;for(Fn=z;;){if(!(A|z))return[n,c];if(A&z)return!1;D=A||z,F=ts(n,c,D,g,w),W=He(F,g),D===A?(n=F,A=W):(c=F,z=W)}}function ts(n,c,g,b,w){var A=c.x-n.x,z=c.y-n.y,D=b.min,F=b.max,W,Q;return g&8?(W=n.x+A*(F.y-n.y)/z,Q=F.y):g&4?(W=n.x+A*(D.y-n.y)/z,Q=D.y):g&2?(W=F.x,Q=n.y+z*(F.x-n.x)/A):g&1&&(W=D.x,Q=n.y+z*(D.x-n.x)/A),new G(W,Q,w)}function He(n,c){var g=0;return n.x<c.min.x?g|=1:n.x>c.max.x&&(g|=2),n.y<c.min.y?g|=4:n.y>c.max.y&&(g|=8),g}function vl(n,c){var g=c.x-n.x,b=c.y-n.y;return g*g+b*b}function Li(n,c,g,b){var w=c.x,A=c.y,z=g.x-w,D=g.y-A,F=z*z+D*D,W;return F>0&&(W=((n.x-w)*z+(n.y-A)*D)/F,W>1?(w=g.x,A=g.y):W>0&&(w+=z*W,A+=D*W)),z=n.x-w,D=n.y-A,b?z*z+D*D:new G(w,A)}function se(n){return!C(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Nn(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),se(n)}function Yn(n,c){var g,b,w,A,z,D,F,W;if(!n||n.length===0)throw new Error("latlngs not passed");se(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Q=et([0,0]),ot=rt(n),xt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());xt<1700&&(Q=$s(n));var Ut=n.length,Wt=[];for(g=0;g<Ut;g++){var ae=et(n[g]);Wt.push(c.project(et([ae.lat-Q.lat,ae.lng-Q.lng])))}for(g=0,b=0;g<Ut-1;g++)b+=Wt[g].distanceTo(Wt[g+1])/2;if(b===0)W=Wt[0];else for(g=0,A=0;g<Ut-1;g++)if(z=Wt[g],D=Wt[g+1],w=z.distanceTo(D),A+=w,A>b){F=(A-b)/w,W=[D.x-F*(D.x-z.x),D.y-F*(D.y-z.y)];break}var Jt=c.unproject(Z(W));return et([Jt.lat+Q.lat,Jt.lng+Q.lng])}var bl={__proto__:null,simplify:Dn,pointToSegmentDistance:Hn,closestPointOnSegment:pl,clipSegment:Xn,_getEdgeIntersection:ts,_getBitCode:He,_sqClosestPointOnSegment:Li,isFlat:se,_flat:Nn,polylineCenter:Yn},Js={project:function(n){return new G(n.lng,n.lat)},unproject:function(n){return new lt(n.y,n.x)},bounds:new J([-180,-90],[180,90])},Qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var c=Math.PI/180,g=this.R,b=n.lat*c,w=this.R_MINOR/g,A=Math.sqrt(1-w*w),z=A*Math.sin(b),D=Math.tan(Math.PI/4-b/2)/Math.pow((1-z)/(1+z),A/2);return b=-g*Math.log(Math.max(D,1e-10)),new G(n.lng*c*g,b)},unproject:function(n){for(var c=180/Math.PI,g=this.R,b=this.R_MINOR/g,w=Math.sqrt(1-b*b),A=Math.exp(-n.y/g),z=Math.PI/2-2*Math.atan(A),D=0,F=.1,W;D<15&&Math.abs(F)>1e-7;D++)W=w*Math.sin(z),W=Math.pow((1-W)/(1+W),w/2),F=Math.PI/2-2*Math.atan(A*W)-z,z+=F;return new lt(z*c,n.x*c/g)}},yl={__proto__:null,LonLat:Js,Mercator:Qs,SphericalMercator:Bt},_l=s({},mt,{code:"EPSG:3395",projection:Qs,transformation:function(){var n=.5/(Math.PI*Qs.R);return he(n,.5,-n,.5)}()}),Wn=s({},mt,{code:"EPSG:4326",projection:Js,transformation:he(1/180,1,-1/180,.5)}),wl=s({},ct,{projection:Js,transformation:he(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,c){var g=c.lng-n.lng,b=c.lat-n.lat;return Math.sqrt(g*g+b*b)},infinite:!0});ct.Earth=mt,ct.EPSG3395=_l,ct.EPSG3857=Nt,ct.EPSG900913=ce,ct.EPSG4326=Wn,ct.Simple=wl;var ue=tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[l(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[l(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var c=n.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var g=this.getEvents();c.on(g,this),this.once("remove",function(){c.off(g,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var c=l(n);return this._layers[c]?this:(this._layers[c]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var c=l(n);return this._layers[c]?(this._loaded&&n.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return l(n)in this._layers},eachLayer:function(n,c){for(var g in this._layers)n.call(c,this._layers[g]);return this},_addLayers:function(n){n=n?C(n)?n:[n]:[];for(var c=0,g=n.length;c<g;c++)this.addLayer(n[c])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[l(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var c=l(n);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,c=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var w=this._zoomBoundLayers[b].options;n=w.minZoom===void 0?n:Math.min(n,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=n===1/0?void 0:n,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qe=ue.extend({initialize:function(n,c){x(this,c),this._layers={};var g,b;if(n)for(g=0,b=n.length;g<b;g++)this.addLayer(n[g])},addLayer:function(n){var c=this.getLayerId(n);return this._layers[c]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var c=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(n){var c=typeof n=="number"?n:this.getLayerId(n);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var c=Array.prototype.slice.call(arguments,1),g,b;for(g in this._layers)b=this._layers[g],b[n]&&b[n].apply(b,c);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,c){for(var g in this._layers)n.call(c,this._layers[g]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return l(n)}}),kl=function(n,c){return new Qe(n,c)},_e=Qe.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Qe.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Qe.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new pt;for(var c in this._layers){var g=this._layers[c];n.extend(g.getBounds?g.getBounds():g.getLatLng())}return n}}),Cl=function(n,c){return new _e(n,c)},ti=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){x(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,c){var g=this._getIconUrl(n);if(!g){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(n,c){var g=this.options,b=g[c+"Size"];typeof b=="number"&&(b=[b,b]);var w=Z(b),A=Z(c==="shadow"&&g.shadowAnchor||g.iconAnchor||w&&w.divideBy(2,!0));n.className="leaflet-marker-"+c+" "+(g.className||""),A&&(n.style.marginLeft=-A.x+"px",n.style.marginTop=-A.y+"px"),w&&(n.style.width=w.x+"px",n.style.height=w.y+"px")},_createImg:function(n,c){return c=c||document.createElement("img"),c.src=n,c},_getIconUrl:function(n){return st.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Al(n){return new ti(n)}var Si=ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Si.imagePath!="string"&&(Si.imagePath=this._detectIconPath()),(this.options.imagePath||Si.imagePath)+ti.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var c=function(g,b,w){var A=b.exec(g);return A&&A[w]};return n=c(n,/^url\((['"])?(.+)\1\)$/,2),n&&c(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=wt("div","leaflet-default-icon-path",document.body),c=yi(n,"background-image")||yi(n,"backgroundImage");if(document.body.removeChild(n),c=this._stripUrl(c),c)return c;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Gn=be.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Se(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Et(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var c=this._marker,g=c._map,b=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=Re(c._icon),z=g.getPixelBounds(),D=g.getPixelOrigin(),F=ft(z.min._subtract(D).add(w),z.max._subtract(D).subtract(w));if(!F.contains(A)){var W=Z((Math.max(F.max.x,A.x)-F.max.x)/(z.max.x-F.max.x)-(Math.min(F.min.x,A.x)-F.min.x)/(z.min.x-F.min.x),(Math.max(F.max.y,A.y)-F.max.y)/(z.max.y-F.max.y)-(Math.min(F.min.y,A.y)-F.min.y)/(z.min.y-F.min.y)).multiplyBy(b);g.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),Dt(c._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=B(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,n)))},_onDrag:function(n){var c=this._marker,g=c._shadow,b=Re(c._icon),w=c._map.layerPointToLatLng(b);g&&Dt(g,b),c._latlng=w,n.latlng=w,n.oldLatLng=this._oldLatLng,c.fire("move",n).fire("drag",n)},_onDragEnd:function(n){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),es=ue.extend({options:{icon:new Si,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,c){x(this,c),this._latlng=et(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var c=this._latlng;return this._latlng=et(n),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=n.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,n.title&&(g.title=n.title),g.tagName==="IMG"&&(g.alt=n.alt||"")),gt(g,c),n.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(g,"focus",this._panOnFocus,this);var w=n.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(gt(w,c),w.alt=""),this._shadow=w,n.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Dt(this._icon,n),this._shadow&&Dt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var c=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gn)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gn(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ie(this._icon,n),this._shadow&&ie(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var c=this.options.icon.options,g=c.iconSize?Z(c.iconSize):Z(0,0),b=c.iconAnchor?Z(c.iconAnchor):Z(0,0);n.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:g.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ll(n,c){return new es(n,c)}var Pe=ue.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return x(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),is=Pe.extend({options:{fill:!0,radius:10},initialize:function(n,c){x(this,c),this._latlng=et(n),this._radius=this.options.radius},setLatLng:function(n){var c=this._latlng;return this._latlng=et(n),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var c=n&&n.radius||this._radius;return Pe.prototype.setStyle.call(this,n),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,c=this._radiusY||n,g=this._clickTolerance(),b=[n+g,c+g];this._pxBounds=new J(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sl(n,c){return new is(n,c)}var ta=is.extend({initialize:function(n,c,g){if(typeof c=="number"&&(c=s({},g,{radius:c})),x(this,c),this._latlng=et(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Pe.prototype.setStyle,_project:function(){var n=this._latlng.lng,c=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===mt.distance){var w=Math.PI/180,A=this._mRadius/mt.R/w,z=g.project([c+A,n]),D=g.project([c-A,n]),F=z.add(D).divideBy(2),W=g.unproject(F).lat,Q=Math.acos((Math.cos(A*w)-Math.sin(c*w)*Math.sin(W*w))/(Math.cos(c*w)*Math.cos(W*w)))/w;(isNaN(Q)||Q===0)&&(Q=A/Math.cos(Math.PI/180*c)),this._point=F.subtract(g.getPixelOrigin()),this._radius=isNaN(Q)?0:F.x-g.project([W,n-Q]).x,this._radiusY=F.y-z.y}else{var ot=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(ot).x}this._updateBounds()}});function Pl(n,c,g){return new ta(n,c,g)}var we=Pe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,c){x(this,c),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var c=1/0,g=null,b=Li,w,A,z=0,D=this._parts.length;z<D;z++)for(var F=this._parts[z],W=1,Q=F.length;W<Q;W++){w=F[W-1],A=F[W];var ot=b(n,w,A,!0);ot<c&&(c=ot,g=b(n,w,A))}return g&&(g.distance=Math.sqrt(c)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,c){return c=c||this._defaultShape(),n=et(n),c.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new pt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return se(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var c=[],g=se(n),b=0,w=n.length;b<w;b++)g?(c[b]=et(n[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(n[b]);return c},_project:function(){var n=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),c=new G(n,n);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(n,c,g){var b=n[0]instanceof lt,w=n.length,A,z;if(b){for(z=[],A=0;A<w;A++)z[A]=this._map.latLngToLayerPoint(n[A]),g.extend(z[A]);c.push(z)}else for(A=0;A<w;A++)this._projectLatlngs(n[A],c,g)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,g,b,w,A,z,D,F;for(g=0,w=0,A=this._rings.length;g<A;g++)for(F=this._rings[g],b=0,z=F.length;b<z-1;b++)D=Xn(F[b],F[b+1],n,b,!0),D&&(c[w]=c[w]||[],c[w].push(D[0]),(D[1]!==F[b+1]||b===z-2)&&(c[w].push(D[1]),w++))}},_simplifyPoints:function(){for(var n=this._parts,c=this.options.smoothFactor,g=0,b=n.length;g<b;g++)n[g]=Dn(n[g],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,c){var g,b,w,A,z,D,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(g=0,A=this._parts.length;g<A;g++)for(D=this._parts[g],b=0,z=D.length,w=z-1;b<z;w=b++)if(!(!c&&b===0)&&Hn(n,D[w],D[b])<=F)return!0;return!1}});function Ml(n,c){return new we(n,c)}we._flat=Nn;var ei=we.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var c=we.prototype._convertLatLngs.call(this,n),g=c.length;return g>=2&&c[0]instanceof lt&&c[0].equals(c[g-1])&&c.pop(),c},_setLatLngs:function(n){we.prototype._setLatLngs.call(this,n),se(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return se(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,c=this.options.weight,g=new G(c,c);if(n=new J(n.min.subtract(g),n.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,w=this._rings.length,A;b<w;b++)A=Rn(this._rings[b],n,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var c=!1,g,b,w,A,z,D,F,W;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(A=0,F=this._parts.length;A<F;A++)for(g=this._parts[A],z=0,W=g.length,D=W-1;z<W;D=z++)b=g[z],w=g[D],b.y>n.y!=w.y>n.y&&n.x<(w.x-b.x)*(n.y-b.y)/(w.y-b.y)+b.x&&(c=!c);return c||we.prototype._containsPoint.call(this,n,!0)}});function Tl(n,c){return new ei(n,c)}var ke=_e.extend({initialize:function(n,c){x(this,c),this._layers={},n&&this.addData(n)},addData:function(n){var c=C(n)?n:n.features,g,b,w;if(c){for(g=0,b=c.length;g<b;g++)w=c[g],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(n))return this;var z=ss(n,A);return z?(z.feature=rs(n),z.defaultOptions=z.options,this.resetStyle(z),A.onEachFeature&&A.onEachFeature(n,z),this.addLayer(z)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(c){this._setLayerStyle(c,n)},this)},_setLayerStyle:function(n,c){n.setStyle&&(typeof c=="function"&&(c=c(n.feature)),n.setStyle(c))}});function ss(n,c){var g=n.type==="Feature"?n.geometry:n,b=g?g.coordinates:null,w=[],A=c&&c.pointToLayer,z=c&&c.coordsToLatLng||ea,D,F,W,Q;if(!b&&!g)return null;switch(g.type){case"Point":return D=z(b),Zn(A,n,D,c);case"MultiPoint":for(W=0,Q=b.length;W<Q;W++)D=z(b[W]),w.push(Zn(A,n,D,c));return new _e(w);case"LineString":case"MultiLineString":return F=as(b,g.type==="LineString"?0:1,z),new we(F,c);case"Polygon":case"MultiPolygon":return F=as(b,g.type==="Polygon"?1:2,z),new ei(F,c);case"GeometryCollection":for(W=0,Q=g.geometries.length;W<Q;W++){var ot=ss({geometry:g.geometries[W],type:"Feature",properties:n.properties},c);ot&&w.push(ot)}return new _e(w);case"FeatureCollection":for(W=0,Q=g.features.length;W<Q;W++){var xt=ss(g.features[W],c);xt&&w.push(xt)}return new _e(w);default:throw new Error("Invalid GeoJSON object.")}}function Zn(n,c,g,b){return n?n(c,g):new es(g,b&&b.markersInheritOptions&&b)}function ea(n){return new lt(n[1],n[0],n[2])}function as(n,c,g){for(var b=[],w=0,A=n.length,z;w<A;w++)z=c?as(n[w],c-1,g):(g||ea)(n[w]),b.push(z);return b}function ia(n,c){return n=et(n),n.alt!==void 0?[p(n.lng,c),p(n.lat,c),p(n.alt,c)]:[p(n.lng,c),p(n.lat,c)]}function ns(n,c,g,b){for(var w=[],A=0,z=n.length;A<z;A++)w.push(c?ns(n[A],se(n[A])?0:c-1,g,b):ia(n[A],b));return!c&&g&&w.length>0&&w.push(w[0].slice()),w}function ii(n,c){return n.feature?s({},n.feature,{geometry:c}):rs(c)}function rs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var sa={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:ia(this.getLatLng(),n)})}};es.include(sa),ta.include(sa),is.include(sa),we.include({toGeoJSON:function(n){var c=!se(this._latlngs),g=ns(this._latlngs,c?1:0,!1,n);return ii(this,{type:(c?"Multi":"")+"LineString",coordinates:g})}}),ei.include({toGeoJSON:function(n){var c=!se(this._latlngs),g=c&&!se(this._latlngs[0]),b=ns(this._latlngs,g?2:c?1:0,!0,n);return c||(b=[b]),ii(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),Qe.include({toMultiPoint:function(n){var c=[];return this.eachLayer(function(g){c.push(g.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(n){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(n);var g=c==="GeometryCollection",b=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(n);if(g)b.push(A.geometry);else{var z=rs(A);z.type==="FeatureCollection"?b.push.apply(b,z.features):b.push(z)}}}),g?ii(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function jn(n,c){return new ke(n,c)}var Il=jn,os=ue.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,c,g){this._url=n,this._bounds=rt(c),x(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ke(this._image),this},bringToBack:function(){return this._map&&Je(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=rt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",c=this._image=n?this._url:wt("img");if(gt(c,"leaflet-image-layer"),this._zoomAnimated&&gt(c,"leaflet-zoom-animated"),this.options.className&&gt(c,this.options.className),c.onselectstart=u,c.onmousemove=u,c.onload=r(this.fire,this,"load"),c.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(n){var c=this._map.getZoomScale(n.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Oe(this._image,g,c)},_reset:function(){var n=this._image,c=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=c.getSize();Dt(n,c.min),n.style.width=g.x+"px",n.style.height=g.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),zl=function(n,c,g){return new os(n,c,g)},Vn=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",c=this._image=n?this._url:wt("video");if(gt(c,"leaflet-image-layer"),this._zoomAnimated&&gt(c,"leaflet-zoom-animated"),this.options.className&&gt(c,this.options.className),c.onselectstart=u,c.onmousemove=u,c.onloadeddata=r(this.fire,this,"load"),n){for(var g=c.getElementsByTagName("source"),b=[],w=0;w<g.length;w++)b.push(g[w].src);this._url=g.length>0?b:[c.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var z=wt("source");z.src=this._url[A],c.appendChild(z)}}});function El(n,c,g){return new Vn(n,c,g)}var Un=os.extend({_initImage:function(){var n=this._image=this._url;gt(n,"leaflet-image-layer"),this._zoomAnimated&&gt(n,"leaflet-zoom-animated"),this.options.className&&gt(n,this.options.className),n.onselectstart=u,n.onmousemove=u}});function Ol(n,c,g){return new Un(n,c,g)}var ye=ue.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,c){n&&(n instanceof lt||C(n))?(this._latlng=et(n),x(this,c)):(x(this,n),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ie(this._container,1),this.bringToFront(),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(r(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=et(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ke(this._container),this},bringToBack:function(){return this._map&&Je(this._container),this},_prepareOpen:function(n){var c=this._source;if(!c._map)return!1;if(c instanceof _e){c=null;var g=this._source._layers;for(var b in g)if(g[b]._map){c=g[b];break}if(!c)return!1;this._source=c}if(!n)if(c.getCenter)n=c.getCenter();else if(c.getLatLng)n=c.getLatLng();else if(c.getBounds)n=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")n.innerHTML=c;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),c=Z(this.options.offset),g=this._getAnchor();this._zoomAnimated?Dt(this._container,n.add(g)):c=c.add(n).add(g);var b=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(n,c,g,b){var w=c;return w instanceof n||(w=new n(b).setContent(c)),g&&w.setLatLng(g),w}}),ue.include({_initOverlay:function(n,c,g,b){var w=g;return w instanceof n?(x(w,b),w._source=this):(w=c&&!b?c:new n(b,this),w.setContent(g)),w}});var ls=ye.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ye.prototype.openOn.call(this,n)},onAdd:function(n){ye.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pe||this._source.on("preclick",Be))},onRemove:function(n){ye.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pe||this._source.off("preclick",Be))},getEvents:function(){var n=ye.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",c=this._container=wt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=wt("div",n+"-content-wrapper",c);if(this._contentNode=wt("div",n+"-content",g),Ci(c),js(this._contentNode),dt(c,"contextmenu",Be),this._tipContainer=wt("div",n+"-tip-container",c),this._tip=wt("div",n+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=wt("a",n+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',dt(b,"click",function(w){Gt(w),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,c=n.style;c.width="",c.whiteSpace="nowrap";var g=n.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),c.width=g+1+"px",c.whiteSpace="",c.height="";var b=n.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&b>w?(c.height=w+"px",gt(n,A)):Et(n,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var c=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),g=this._getAnchor();Dt(this._container,c.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,c=parseInt(yi(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+c,b=this._containerWidth,w=new G(this._containerLeft,-g-this._containerBottom);w._add(Re(this._container));var A=n.layerPointToContainerPoint(w),z=Z(this.options.autoPanPadding),D=Z(this.options.autoPanPaddingTopLeft||z),F=Z(this.options.autoPanPaddingBottomRight||z),W=n.getSize(),Q=0,ot=0;A.x+b+F.x>W.x&&(Q=A.x+b-W.x+F.x),A.x-Q-D.x<0&&(Q=A.x-D.x),A.y+g+F.y>W.y&&(ot=A.y+g-W.y+F.y),A.y-ot-D.y<0&&(ot=A.y-D.y),(Q||ot)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Q,ot]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rl=function(n,c){return new ls(n,c)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(n,c,g){return this._initOverlay(ls,n,c,g).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),ue.include({bindPopup:function(n,c){return this._popup=this._initOverlay(ls,this._popup,n,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof _e||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){De(n);var c=n.layer||n.target;if(this._popup._source===c&&!(c instanceof Pe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=c,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var hs=ye.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ye.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ye.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ye.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",c=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var c,g,b=this._map,w=this._container,A=b.latLngToContainerPoint(b.getCenter()),z=b.layerPointToContainerPoint(n),D=this.options.direction,F=w.offsetWidth,W=w.offsetHeight,Q=Z(this.options.offset),ot=this._getAnchor();D==="top"?(c=F/2,g=W):D==="bottom"?(c=F/2,g=0):D==="center"?(c=F/2,g=W/2):D==="right"?(c=0,g=W/2):D==="left"?(c=F,g=W/2):z.x<A.x?(D="right",c=0,g=W/2):(D="left",c=F+(Q.x+ot.x)*2,g=W/2),n=n.subtract(Z(c,g,!0)).add(Q).add(ot),Et(w,"leaflet-tooltip-right"),Et(w,"leaflet-tooltip-left"),Et(w,"leaflet-tooltip-top"),Et(w,"leaflet-tooltip-bottom"),gt(w,"leaflet-tooltip-"+D),Dt(w,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ie(this._container,n)},_animateZoom:function(n){var c=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(c)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bl=function(n,c){return new hs(n,c)};bt.include({openTooltip:function(n,c,g){return this._initOverlay(hs,n,c,g).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),ue.include({bindTooltip:function(n,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hs,this._tooltip,n,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var c=n?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[c](g),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof _e||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var c=typeof n.getElement=="function"&&n.getElement();c&&(dt(c,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),dt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var c=typeof n.getElement=="function"&&n.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var c=n.latlng,g,b;this._tooltip.options.sticky&&n.originalEvent&&(g=this._map.mouseEventToContainerPoint(n.originalEvent),b=this._map.containerPointToLayerPoint(g),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var qn=ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var c=n&&n.tagName==="DIV"?n:document.createElement("div"),g=this.options;if(g.html instanceof Element?(qi(c),c.appendChild(g.html)):c.innerHTML=g.html!==!1?g.html:"",g.bgPos){var b=Z(g.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Dl(n){return new qn(n)}ti.Default=Si;var Pi=ue.extend({options:{tileSize:256,opacity:1,updateWhenIdle:st.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){x(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Tt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Je(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof G?n:new G(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var c=this.getPane().children,g=-n(-1/0,1/0),b=0,w=c.length,A;b<w;b++)A=c[b].style.zIndex,c[b]!==this._container&&A&&(g=n(g,+A));isFinite(g)&&(this.options.zIndex=g+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!st.ielt9){ie(this._container,this.options.opacity);var n=+new Date,c=!1,g=!1;for(var b in this._tiles){var w=this._tiles[b];if(!(!w.current||!w.loaded)){var A=Math.min(1,(n-w.loaded)/200);ie(w.el,A),A<1?c=!0:(w.active?g=!0:this._onOpaqueTile(w),w.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),c&&(H(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,c=this.options.maxZoom;if(n!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===n?(this._levels[g].el.style.zIndex=c-Math.abs(n-g),this._onUpdateLevel(g)):(Tt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[n],w=this._map;return b||(b=this._levels[n]={},b.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=w.project(w.unproject(w.getPixelOrigin()),n).round(),b.zoom=n,this._setZoomTransform(b,w.getCenter(),w.getZoom()),u(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var n,c,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)c=this._tiles[n],c.retain=c.current;for(n in this._tiles)if(c=this._tiles[n],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var c in this._tiles)this._tiles[c].coords.z===n&&this._removeTile(c)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Tt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,c,g,b){var w=Math.floor(n/2),A=Math.floor(c/2),z=g-1,D=new G(+w,+A);D.z=+z;var F=this._tileCoordsToKey(D),W=this._tiles[F];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),z>b?this._retainParent(w,A,z,b):!1)},_retainChildren:function(n,c,g,b){for(var w=2*n;w<2*n+2;w++)for(var A=2*c;A<2*c+2;A++){var z=new G(w,A);z.z=g+1;var D=this._tileCoordsToKey(z),F=this._tiles[D];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);g+1<b&&this._retainChildren(w,A,g+1,b)}},_resetView:function(n){var c=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var c=this.options;return c.minNativeZoom!==void 0&&n<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<n?c.maxNativeZoom:n},_setView:function(n,c,g,b){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!b||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(n),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(n,c)},_setZoomTransforms:function(n,c){for(var g in this._levels)this._setZoomTransform(this._levels[g],n,c)},_setZoomTransform:function(n,c,g){var b=this._map.getZoomScale(g,n.zoom),w=n.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,g)).round();st.any3d?Oe(n.el,w,b):Dt(n.el,w)},_resetGrid:function(){var n=this._map,c=n.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,c.wrapLng[0]],b).x/g.x),Math.ceil(n.project([0,c.wrapLng[1]],b).x/g.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([c.wrapLat[0],0],b).y/g.x),Math.ceil(n.project([c.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var c=this._map,g=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(g,this._tileZoom),w=c.project(n,this._tileZoom).floor(),A=c.getSize().divideBy(b*2);return new J(w.subtract(A),w.add(A))},_update:function(n){var c=this._map;if(c){var g=this._clampZoom(c.getZoom());if(n===void 0&&(n=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(n),w=this._pxBoundsToTileRange(b),A=w.getCenter(),z=[],D=this.options.keepBuffer,F=new J(w.getBottomLeft().subtract([D,-D]),w.getTopRight().add([D,-D]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var Q=this._tiles[W].coords;(Q.z!==this._tileZoom||!F.contains(new G(Q.x,Q.y)))&&(this._tiles[W].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(n,g);return}for(var ot=w.min.y;ot<=w.max.y;ot++)for(var xt=w.min.x;xt<=w.max.x;xt++){var Ut=new G(xt,ot);if(Ut.z=this._tileZoom,!!this._isValidTile(Ut)){var Wt=this._tiles[this._tileCoordsToKey(Ut)];Wt?Wt.current=!0:z.push(Ut)}}if(z.sort(function(Jt,ai){return Jt.distanceTo(A)-ai.distanceTo(A)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ae=document.createDocumentFragment();for(xt=0;xt<z.length;xt++)this._addTile(z[xt],ae);this._level.el.appendChild(ae)}}}},_isValidTile:function(n){var c=this._map.options.crs;if(!c.infinite){var g=this._globalTileRange;if(!c.wrapLng&&(n.x<g.min.x||n.x>g.max.x)||!c.wrapLat&&(n.y<g.min.y||n.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(n);return rt(this.options.bounds).overlaps(b)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var c=this._map,g=this.getTileSize(),b=n.scaleBy(g),w=b.add(g),A=c.unproject(b,n.z),z=c.unproject(w,n.z);return[A,z]},_tileCoordsToBounds:function(n){var c=this._tileCoordsToNwSe(n),g=new pt(c[0],c[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var c=n.split(":"),g=new G(+c[0],+c[1]);return g.z=+c[2],g},_removeTile:function(n){var c=this._tiles[n];c&&(Tt(c.el),delete this._tiles[n],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){gt(n,"leaflet-tile");var c=this.getTileSize();n.style.width=c.x+"px",n.style.height=c.y+"px",n.onselectstart=u,n.onmousemove=u,st.ielt9&&this.options.opacity<1&&ie(n,this.options.opacity)},_addTile:function(n,c){var g=this._getTilePos(n),b=this._tileCoordsToKey(n),w=this.createTile(this._wrapCoords(n),r(this._tileReady,this,n));this._initTile(w),this.createTile.length<2&&B(r(this._tileReady,this,n,null,w)),Dt(w,g),this._tiles[b]={el:w,coords:n,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:n})},_tileReady:function(n,c,g){c&&this.fire("tileerror",{error:c,tile:g,coords:n});var b=this._tileCoordsToKey(n);g=this._tiles[b],g&&(g.loaded=+new Date,this._map._fadeAnimated?(ie(g.el,0),H(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),c||(gt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),st.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var c=new G(this._wrapX?f(n.x,this._wrapX):n.x,this._wrapY?f(n.y,this._wrapY):n.y);return c.z=n.z,c},_pxBoundsToTileRange:function(n){var c=this.getTileSize();return new J(n.min.unscaleBy(c).floor(),n.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Hl(n){return new Pi(n)}var si=Pi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,c){this._url=n,c=x(this,c),c.detectRetina&&st.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,c){return this._url===n&&c===void 0&&(c=!0),this._url=n,c||this.redraw(),this},createTile:function(n,c){var g=document.createElement("img");return dt(g,"load",r(this._tileOnLoad,this,c,g)),dt(g,"error",r(this._tileOnError,this,c,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(n),g},getTileUrl:function(n){var c={r:st.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-n.y;this.options.tms&&(c.y=g),c["-y"]=g}return k(this._url,s(c,this.options))},_tileOnLoad:function(n,c){st.ielt9?setTimeout(r(n,this,null,c),0):n(null,c)},_tileOnError:function(n,c,g){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),n(g,c)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,c=this.options.maxZoom,g=this.options.zoomReverse,b=this.options.zoomOffset;return g&&(n=c-n),n+b},_getSubdomain:function(n){var c=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var n,c;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(c=this._tiles[n].el,c.onload=u,c.onerror=u,!c.complete)){c.src=S;var g=this._tiles[n].coords;Tt(c),delete this._tiles[n],this.fire("tileabort",{tile:c,coords:g})}},_removeTile:function(n){var c=this._tiles[n];if(c)return c.el.setAttribute("src",S),Pi.prototype._removeTile.call(this,n)},_tileReady:function(n,c,g){if(!(!this._map||g&&g.getAttribute("src")===S))return Pi.prototype._tileReady.call(this,n,c,g)}});function $n(n,c){return new si(n,c)}var Kn=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,c){this._url=n;var g=s({},this.defaultWmsParams);for(var b in c)b in this.options||(g[b]=c[b]);c=x(this,c);var w=c.detectRetina&&st.retina?2:1,A=this.getTileSize();g.width=A.x*w,g.height=A.y*w,this.wmsParams=g},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,si.prototype.onAdd.call(this,n)},getTileUrl:function(n){var c=this._tileCoordsToNwSe(n),g=this._crs,b=ft(g.project(c[0]),g.project(c[1])),w=b.min,A=b.max,z=(this._wmsVersion>=1.3&&this._crs===Wn?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),D=si.prototype.getTileUrl.call(this,n);return D+y(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(n,c){return s(this.wmsParams,n),c||this.redraw(),this}});function Fl(n,c){return new Kn(n,c)}si.WMS=Kn,$n.wms=Fl;var Ce=ue.extend({options:{padding:.1},initialize:function(n){x(this,n),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,c){var g=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),A=b.multiplyBy(-g).add(w).subtract(this._map._getNewPixelOrigin(n,c));st.any3d?Oe(this._container,A,g):Dt(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,c=this._map.getSize(),g=this._map.containerPointToLayerPoint(c.multiplyBy(-n)).round();this._bounds=new J(g,g.add(c.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jn=Ce.extend({options:{tolerance:0},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ce.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");dt(n,"mousemove",this._onMouseMove,this),dt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),dt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Tt(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var c in this._layers)n=this._layers[c],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ce.prototype._update.call(this);var n=this._bounds,c=this._container,g=n.getSize(),b=st.retina?2:1;Dt(c,n.min),c.width=b*g.x,c.height=b*g.y,c.style.width=g.x+"px",c.style.height=g.y+"px",st.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ce.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[l(n)]=n;var c=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var c=n._order,g=c.next,b=c.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete n._order,delete this._layers[l(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var c=n.options.dashArray.split(/[, ]+/),g=[],b,w;for(w=0;w<c.length;w++){if(b=Number(c[w]),isNaN(b))return;g.push(b)}n.options._dashArray=g}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var c=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(n._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(n._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var c=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,c=this._redrawBounds;if(this._ctx.save(),c){var g=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)n=b.layer,(!c||n._pxBounds&&n._pxBounds.intersects(c))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,c){if(this._drawing){var g,b,w,A,z=n._parts,D=z.length,F=this._ctx;if(D){for(F.beginPath(),g=0;g<D;g++){for(b=0,w=z[g].length;b<w;b++)A=z[g][b],F[b?"lineTo":"moveTo"](A.x,A.y);c&&F.closePath()}this._fillStroke(F,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var c=n._point,g=this._ctx,b=Math.max(Math.round(n._radius),1),w=(Math.max(Math.round(n._radiusY),1)||b)/b;w!==1&&(g.save(),g.scale(1,w)),g.beginPath(),g.arc(c.x,c.y/w,b,0,Math.PI*2,!1),w!==1&&g.restore(),this._fillStroke(g,n)}},_fillStroke:function(n,c){var g=c.options;g.fill&&(n.globalAlpha=g.fillOpacity,n.fillStyle=g.fillColor||g.color,n.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(n.setLineDash&&n.setLineDash(c.options&&c.options._dashArray||[]),n.globalAlpha=g.opacity,n.lineWidth=g.weight,n.strokeStyle=g.color,n.lineCap=g.lineCap,n.lineJoin=g.lineJoin,n.stroke())},_onClick:function(n){for(var c=this._map.mouseEventToLayerPoint(n),g,b,w=this._drawFirst;w;w=w.next)g=w.layer,g.options.interactive&&g._containsPoint(c)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(g))&&(b=g);this._fireEvent(b?[b]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,c)}},_handleMouseOut:function(n){var c=this._hoveredLayer;c&&(Et(this._container,"leaflet-interactive"),this._fireEvent([c],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,c){if(!this._mouseHoverThrottled){for(var g,b,w=this._drawFirst;w;w=w.next)g=w.layer,g.options.interactive&&g._containsPoint(c)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(n),b&&(gt(this._container,"leaflet-interactive"),this._fireEvent([b],n,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,c,g){this._map._fireDOMEvent(c,g||c.type,n)},_bringToFront:function(n){var c=n._order;if(c){var g=c.next,b=c.prev;if(g)g.prev=b;else return;b?b.next=g:g&&(this._drawFirst=g),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(n)}},_bringToBack:function(n){var c=n._order;if(c){var g=c.next,b=c.prev;if(b)b.next=g;else return;g?g.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(n)}}});function Qn(n){return st.canvas?new Jn(n):null}var Mi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xl={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ce.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var c=n._container=Mi("shape");gt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",n._path=Mi("path"),c.appendChild(n._path),this._updateStyle(n),this._layers[l(n)]=n},_addPath:function(n){var c=n._container;this._container.appendChild(c),n.options.interactive&&n.addInteractiveTarget(c)},_removePath:function(n){var c=n._container;Tt(c),n.removeInteractiveTarget(c),delete this._layers[l(n)]},_updateStyle:function(n){var c=n._stroke,g=n._fill,b=n.options,w=n._container;w.stroked=!!b.stroke,w.filled=!!b.fill,b.stroke?(c||(c=n._stroke=Mi("stroke")),w.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=C(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(w.removeChild(c),n._stroke=null),b.fill?(g||(g=n._fill=Mi("fill")),w.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(w.removeChild(g),n._fill=null)},_updateCircle:function(n){var c=n._point.round(),g=Math.round(n._radius),b=Math.round(n._radiusY||g);this._setPath(n,n._empty()?"M0 0":"AL "+c.x+","+c.y+" "+g+","+b+" 0,"+65535*360)},_setPath:function(n,c){n._path.v=c},_bringToFront:function(n){Ke(n._container)},_bringToBack:function(n){Je(n._container)}},cs=st.vml?Mi:ji,Ti=Ce.extend({_initContainer:function(){this._container=cs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ce.prototype._update.call(this);var n=this._bounds,c=n.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,g.setAttribute("width",c.x),g.setAttribute("height",c.y)),Dt(g,n.min),g.setAttribute("viewBox",[n.min.x,n.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(n){var c=n._path=cs("path");n.options.className&&gt(c,n.options.className),n.options.interactive&&gt(c,"leaflet-interactive"),this._updateStyle(n),this._layers[l(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Tt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[l(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var c=n._path,g=n.options;c&&(g.stroke?(c.setAttribute("stroke",g.color),c.setAttribute("stroke-opacity",g.opacity),c.setAttribute("stroke-width",g.weight),c.setAttribute("stroke-linecap",g.lineCap),c.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?c.setAttribute("stroke-dasharray",g.dashArray):c.removeAttribute("stroke-dasharray"),g.dashOffset?c.setAttribute("stroke-dashoffset",g.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),g.fill?(c.setAttribute("fill",g.fillColor||g.color),c.setAttribute("fill-opacity",g.fillOpacity),c.setAttribute("fill-rule",g.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(n,c){this._setPath(n,an(n._parts,c))},_updateCircle:function(n){var c=n._point,g=Math.max(Math.round(n._radius),1),b=Math.max(Math.round(n._radiusY),1)||g,w="a"+g+","+b+" 0 1,0 ",A=n._empty()?"M0 0":"M"+(c.x-g)+","+c.y+w+g*2+",0 "+w+-g*2+",0 ";this._setPath(n,A)},_setPath:function(n,c){n._path.setAttribute("d",c)},_bringToFront:function(n){Ke(n._path)},_bringToBack:function(n){Je(n._path)}});st.vml&&Ti.include(Xl);function tr(n){return st.svg||st.vml?new Ti(n):null}bt.include({getRenderer:function(n){var c=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var c=this._paneRenderers[n];return c===void 0&&(c=this._createRenderer({pane:n}),this._paneRenderers[n]=c),c},_createRenderer:function(n){return this.options.preferCanvas&&Qn(n)||tr(n)}});var er=ei.extend({initialize:function(n,c){ei.prototype.initialize.call(this,this._boundsToLatLngs(n),c)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=rt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Nl(n,c){return new er(n,c)}Ti.create=cs,Ti.pointsToPath=an,ke.geometryToLayer=ss,ke.coordsToLatLng=ea,ke.coordsToLatLngs=as,ke.latLngToCoords=ia,ke.latLngsToCoords=ns,ke.getFeature=ii,ke.asFeature=rs,bt.mergeOptions({boxZoom:!0});var ir=be.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_i(),Hs(),this._startPoint=this._map.mouseEventToContainerPoint(n),dt(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var c=new J(this._point,this._startPoint),g=c.getSize();Dt(this._box,c.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Tt(this._box),Et(this._container,"leaflet-crosshair")),wi(),Fs(),Pt(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var c=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",ir),bt.mergeOptions({doubleClickZoom:!0});var sr=be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var c=this._map,g=c.getZoom(),b=c.options.zoomDelta,w=n.originalEvent.shiftKey?g-b:g+b;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(n.containerPoint,w)}});bt.addInitHook("addHandler","doubleClickZoom",sr),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ar=be.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Se(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Et(this._map._container,"leaflet-grab"),Et(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=rt(this._map.options.maxBounds);this._offsetLimit=ft(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var c=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(c),this._prunePositions(c)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,c){return n-(n-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;n.x<c.min.x&&(n.x=this._viscousLimit(n.x,c.min.x)),n.y<c.min.y&&(n.y=this._viscousLimit(n.y,c.min.y)),n.x>c.max.x&&(n.x=this._viscousLimit(n.x,c.max.x)),n.y>c.max.y&&(n.y=this._viscousLimit(n.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,c=Math.round(n/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,w=(b-c+g)%n+c-g,A=(b+c+g)%n-c-g,z=Math.abs(w+g)<Math.abs(A+g)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(n){var c=this._map,g=c.options,b=!g.inertia||n.noInertia||this._times.length<2;if(c.fire("dragend",n),b)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,z=g.easeLinearity,D=w.multiplyBy(z/A),F=D.distanceTo([0,0]),W=Math.min(g.inertiaMaxSpeed,F),Q=D.multiplyBy(W/F),ot=W/(g.inertiaDeceleration*z),xt=Q.multiplyBy(-ot/2).round();!xt.x&&!xt.y?c.fire("moveend"):(xt=c._limitOffset(xt,c.options.maxBounds),B(function(){c.panBy(xt,{duration:ot,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",ar),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nr=be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),dt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,c=document.documentElement,g=n.scrollTop||c.scrollTop,b=n.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var c=this._panKeys={},g=this.keyCodes,b,w;for(b=0,w=g.left.length;b<w;b++)c[g.left[b]]=[-1*n,0];for(b=0,w=g.right.length;b<w;b++)c[g.right[b]]=[n,0];for(b=0,w=g.down.length;b<w;b++)c[g.down[b]]=[0,n];for(b=0,w=g.up.length;b<w;b++)c[g.up[b]]=[0,-1*n]},_setZoomDelta:function(n){var c=this._zoomKeys={},g=this.keyCodes,b,w;for(b=0,w=g.zoomIn.length;b<w;b++)c[g.zoomIn[b]]=n;for(b=0,w=g.zoomOut.length;b<w;b++)c[g.zoomOut[b]]=-n},_addHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var c=n.keyCode,g=this._map,b;if(c in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(b=this._panKeys[c],n.shiftKey&&(b=Z(b).multiplyBy(3)),g.options.maxBounds&&(b=g._limitOffset(Z(b),g.options.maxBounds)),g.options.worldCopyJump){var w=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(b)));g.panTo(w)}else g.panBy(b)}else if(c in this._zoomKeys)g.setZoom(g.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;De(n)}}});bt.addInitHook("addHandler","keyboard",nr),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rr=be.extend({addHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var c=Tn(n),g=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),b),De(n)},_performZoom:function(){var n=this._map,c=n.getZoom(),g=this._map.options.zoomSnap||0;n._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,A=g?Math.ceil(w/g)*g:w,z=n._limitZoom(c+(this._delta>0?A:-A))-c;this._delta=0,this._startTime=null,z&&(n.options.scrollWheelZoom==="center"?n.setZoom(c+z):n.setZoomAround(this._lastMousePos,c+z))}});bt.addInitHook("addHandler","scrollWheelZoom",rr);var Yl=600;bt.mergeOptions({tapHold:st.touchNative&&st.safari&&st.mobile,tapTolerance:15});var or=be.extend({addHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var c=n.touches[0];this._startPos=this._newPos=new G(c.clientX,c.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(dt(document,"touchend",Gt),dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Yl),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Pt(document,"touchend",Gt),Pt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(n){var c=n.touches[0];this._newPos=new G(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,c){var g=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});g._simulated=!0,c.target.dispatchEvent(g)}});bt.addInitHook("addHandler","tapHold",or),bt.mergeOptions({touchZoom:st.touch,bounceAtZoomLimits:!0});var lr=be.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var c=this._map;if(!(!n.touches||n.touches.length!==2||c._animatingZoom||this._zooming)){var g=c.mouseEventToContainerPoint(n.touches[0]),b=c.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),Gt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var c=this._map,g=c.mouseEventToContainerPoint(n.touches[0]),b=c.mouseEventToContainerPoint(n.touches[1]),w=g.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var z=r(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(z,this,!0),Gt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",lr),bt.BoxZoom=ir,bt.DoubleClickZoom=sr,bt.Drag=ar,bt.Keyboard=nr,bt.ScrollWheelZoom=rr,bt.TapHold=or,bt.TouchZoom=lr,e.Bounds=J,e.Browser=st,e.CRS=ct,e.Canvas=Jn,e.Circle=ta,e.CircleMarker=is,e.Class=N,e.Control=de,e.DivIcon=qn,e.DivOverlay=ye,e.DomEvent=rl,e.DomUtil=al,e.Draggable=Se,e.Evented=tt,e.FeatureGroup=_e,e.GeoJSON=ke,e.GridLayer=Pi,e.Handler=be,e.Icon=ti,e.ImageOverlay=os,e.LatLng=lt,e.LatLngBounds=pt,e.Layer=ue,e.LayerGroup=Qe,e.LineUtil=bl,e.Map=bt,e.Marker=es,e.Mixin=fl,e.Path=Pe,e.Point=G,e.PolyUtil=gl,e.Polygon=ei,e.Polyline=we,e.Popup=ls,e.PosAnimation=In,e.Projection=yl,e.Rectangle=er,e.Renderer=Ce,e.SVG=Ti,e.SVGOverlay=Un,e.TileLayer=si,e.Tooltip=hs,e.Transformation=Kt,e.Util=X,e.VideoOverlay=Vn,e.bind=r,e.bounds=ft,e.canvas=Qn,e.circle=Pl,e.circleMarker=Sl,e.control=Ai,e.divIcon=Dl,e.extend=s,e.featureGroup=Cl,e.geoJSON=jn,e.geoJson=Il,e.gridLayer=Hl,e.icon=Al,e.imageOverlay=zl,e.latLng=et,e.latLngBounds=rt,e.layerGroup=kl,e.map=ol,e.marker=Ll,e.point=Z,e.polygon=Tl,e.polyline=Ml,e.popup=Rl,e.rectangle=Nl,e.setOptions=x,e.stamp=l,e.svg=tr,e.svgOverlay=Ol,e.tileLayer=$n,e.tooltip=Bl,e.transformation=he,e.version=i,e.videoOverlay=El;var Wl=window.L;e.noConflict=function(){return window.L=Wl,this},window.L=e})})(Ya,Ya.exports);var vc=Ya.exports;const As=Br(vc);var Or={exports:{}};(function(h,t){(function(e,i){i(t)})(Rr,function(e){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var r=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,r?this._withAnimation:this._noAnimation),this._markerCluster=r?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var r=a,o=this._zoom;if(a.__parent)for(;r.__parent._zoom>=o;)r=r.__parent;return this._currentShownBounds.contains(r.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,r):this._animationAddLayerNonAnimated(a,r)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,r){if(!L.Util.isArray(a))return this.addLayer(a);var o=this._featureGroup,l=this._nonPointGroup,d=this.options.chunkedLoading,f=this.options.chunkInterval,u=this.options.chunkProgress,p=a.length,m=0,v=!0,x;if(this._map){var y=new Date().getTime(),_=L.bind(function(){var C=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();m<p;m++){if(d&&m%200===0){var M=new Date().getTime()-C;if(M>f)break}if(x=a[m],x instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(x,a),p=a.length;continue}if(!x.getLatLng){l.addLayer(x),r||this.fire("layeradd",{layer:x});continue}if(!this.hasLayer(x)&&(this._addLayer(x,this._maxZoom),r||this.fire("layeradd",{layer:x}),x.__parent&&x.__parent.getChildCount()===2)){var S=x.__parent.getAllChildMarkers(),I=S[0]===x?S[1]:S[0];o.removeLayer(I)}}u&&u(m,p,new Date().getTime()-y),m===p?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(_,this.options.chunkDelay)},this);_()}else for(var k=this._needsClustering;m<p;m++){if(x=a[m],x instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(x,a),p=a.length;continue}if(!x.getLatLng){l.addLayer(x);continue}this.hasLayer(x)||k.push(x)}return this},removeLayers:function(a){var r,o,l=a.length,d=this._featureGroup,f=this._nonPointGroup,u=!0;if(!this._map){for(r=0;r<l;r++){if(o=a[r],o instanceof L.LayerGroup){u&&(a=a.slice(),u=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}this._arraySplice(this._needsClustering,o),f.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})}return this}if(this._unspiderfy){this._unspiderfy();var p=a.slice(),m=l;for(r=0;r<m;r++){if(o=p[r],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,p),m=p.length;continue}this._unspiderfyLayer(o)}}for(r=0;r<l;r++){if(o=a[r],o instanceof L.LayerGroup){u&&(a=a.slice(),u=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}if(!o.__parent){f.removeLayer(o),this.fire("layerremove",{layer:o});continue}this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),d.hasLayer(o)&&(d.removeLayer(o),o.clusterShow&&o.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var r=this._needsClustering.length-1;r>=0;r--)a.extend(this._needsClustering[r].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,r){var o=this._needsClustering.slice(),l=this._needsRemoving,d,f,u;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),f=o.length-1;f>=0;f--){for(d=!0,u=l.length-1;u>=0;u--)if(l[u].layer===o[f]){d=!1;break}d&&a.call(r,o[f])}this._nonPointGroup.eachLayer(a,r)},getLayers:function(){var a=[];return this.eachLayer(function(r){a.push(r)}),a},getLayer:function(a){var r=null;return a=parseInt(a,10),this.eachLayer(function(o){L.stamp(o)===a&&(r=o)}),r},hasLayer:function(a){if(!a)return!1;var r,o=this._needsClustering;for(r=o.length-1;r>=0;r--)if(o[r]===a)return!0;for(o=this._needsRemoving,r=o.length-1;r>=0;r--)if(o[r].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,r){var o=this._map;typeof r!="function"&&(r=function(){});var l=function(){(o.hasLayer(a)||o.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),o.hasLayer(a)?r():a.__parent._icon&&(this.once("spiderfied",r,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?r():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var r,o,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,r=0,o=this._needsRemoving.length;r<o;r++)l=this._needsRemoving[r],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(r=0,o=this._needsRemoving.length;r<o;r++)l=this._needsRemoving[r],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var r=a;r&&!r._icon;)r=r.__parent;return r||null},_arraySplice:function(a,r){for(var o=a.length-1;o>=0;o--)if(a[o]===r)return a.splice(o,1),!0},_removeFromGridUnclustered:function(a,r){for(var o=this._map,l=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());r>=d&&l[r].removeObject(a,o.project(a.getLatLng(),r));r--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var r=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),r&&a.target.openPopup()}},_moveChild:function(a,r,o){a._latlng=r,this.removeLayer(a),a._latlng=o,this.addLayer(a)},_childMarkerDragEnd:function(a){var r=a.target.__dragStart;delete a.target.__dragStart,r&&this._moveChild(a.target,r,a.target._latlng)},_removeLayer:function(a,r,o){var l=this._gridClusters,d=this._gridUnclustered,f=this._featureGroup,u=this._map,p=Math.floor(this._map.getMinZoom());r&&this._removeFromGridUnclustered(a,this._maxZoom);var m=a.__parent,v=m._markers,x;for(this._arraySplice(v,a);m&&(m._childCount--,m._boundsNeedUpdate=!0,!(m._zoom<p));)r&&m._childCount<=1?(x=m._markers[0]===a?m._markers[1]:m._markers[0],l[m._zoom].removeObject(m,u.project(m._cLatLng,m._zoom)),d[m._zoom].addObject(x,u.project(x.getLatLng(),m._zoom)),this._arraySplice(m.__parent._childClusters,m),m.__parent._markers.push(x),x.__parent=m.__parent,m._icon&&(f.removeLayer(m),o||f.addLayer(x))):m._iconNeedsUpdate=!0,m=m.__parent;delete a.__parent},_isOrIsParent:function(a,r){for(;r;){if(a===r)return!0;r=r.parentNode}return!1},fire:function(a,r,o){if(r&&r.layer instanceof L.MarkerCluster){if(r.originalEvent&&this._isOrIsParent(r.layer._icon,r.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,r,o)},listens:function(a,r){return L.FeatureGroup.prototype.listens.call(this,a,r)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,r)},_defaultIconCreateFunction:function(a){var r=a.getChildCount(),o=" marker-cluster-";return r<10?o+="small":r<100?o+="medium":o+="large",new L.DivIcon({html:"<div><span>"+r+"</span></div>",className:"marker-cluster"+o,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,r=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(r||l||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var r=a.layer,o=r;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;o._childClusters.length===1;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===r._childCount&&this.options.spiderfyOnMaxZoom?r.spiderfy():this.options.zoomToBoundsOnClick&&r.zoomToBounds(),this.options.spiderfyOnEveryZoom&&r.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var r=this._map;this._inZoomAnimation||(this._shownPolygon&&r.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),r.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,r=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,d=this._map;(a||o||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),r&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),r=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,l=o;typeof o!="function"&&(l=function(){return o}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var d=a;d>=r;d--)this._gridClusters[d]=new L.DistanceGrid(l(d)),this._gridUnclustered[d]=new L.DistanceGrid(l(d));this._topClusterLevel=new this._markerCluster(this,r-1)},_addLayer:function(a,r){var o=this._gridClusters,l=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),f,u;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);r>=d;r--){f=this._map.project(a.getLatLng(),r);var p=o[r].getNearObject(f);if(p){p._addChild(a),a.__parent=p;return}if(p=l[r].getNearObject(f),p){var m=p.__parent;m&&this._removeLayer(p,!1);var v=new this._markerCluster(this,r,p,a);o[r].addObject(v,this._map.project(v._cLatLng,r)),p.__parent=v,a.__parent=v;var x=v;for(u=r-1;u>m._zoom;u--)x=new this._markerCluster(this,u,x),o[u].addObject(x,this._map.project(p.getLatLng(),u));m._addChild(x),this._removeFromGridUnclustered(p,r);return}l[r].addObject(a,f)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var r=this._maxLat;return r!==void 0&&(a.getNorth()>=r&&(a._northEast.lat=1/0),a.getSouth()<=-r&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,r){if(r===a)this._featureGroup.addLayer(a);else if(r._childCount===2){r._addToMap();var o=r.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else r._updateIcon()},_extractNonGroupLayers:function(a,r){var o=a.getLayers(),l=0,d;for(r=r||[];l<o.length;l++){if(d=o[l],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,r);continue}r.push(d)}return r},_overrideMarkerIcon:function(a){var r=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return r}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,r){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,r,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,r){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,r,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,r){this._animationAddLayerNonAnimated(a,r)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,r){var o=this._getExpandedVisibleBounds(),l=this._featureGroup,d=Math.floor(this._map.getMinZoom()),f;this._ignoreMove=!0,this._topClusterLevel._recursively(o,a,d,function(u){var p=u._latlng,m=u._markers,v;for(o.contains(p)||(p=null),u._isSingleParent()&&a+1===r?(l.removeLayer(u),u._recursivelyAddChildrenToMap(null,r,o)):(u.clusterHide(),u._recursivelyAddChildrenToMap(p,r,o)),f=m.length-1;f>=0;f--)v=m[f],o.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,r),l.eachLayer(function(u){!(u instanceof L.MarkerCluster)&&u._icon&&u.clusterShow()}),this._topClusterLevel._recursively(o,a,r,function(u){u._recursivelyRestoreChildPositions(r)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,a,d,function(u){l.removeLayer(u),u.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,r){this._animationZoomOutSingle(this._topClusterLevel,a-1,r),this._topClusterLevel._recursivelyAddChildrenToMap(null,r,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,r){var o=this,l=this._featureGroup;l.addLayer(a),r!==a&&(r._childCount>2?(r._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(r.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),o._animationEnd()})):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(r,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,r,o){var l=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,d,r+1,o);var f=this;this._forceLayout(),a._recursivelyBecomeVisible(l,o),this._enqueue(function(){if(a._childCount===1){var u=a._markers[0];this._ignoreMove=!0,u.setLatLng(u.getLatLng()),this._ignoreMove=!1,u.clusterShow&&u.clusterShow()}else a._recursively(l,o,d,function(p){p._recursivelyRemoveChildrenFromMap(l,d,r+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,r,o,l){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=r,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),l&&this._addChild(l)},getAllChildMarkers:function(a,r){a=a||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(a,r);for(var l=this._markers.length-1;l>=0;l--)r&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var r=this._childClusters.slice(),o=this._group._map,l=o.getBoundsZoom(this._bounds),d=this._zoom+1,f=o.getZoom(),u;r.length>0&&l>d;){d++;var p=[];for(u=0;u<r.length;u++)p=p.concat(r[u]._childClusters);r=p}l>d?this._group._map.setView(this._latlng,d):l<=f?this._group._map.setView(this._latlng,f+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,r){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(r||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(r||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,r=this._childClusters,o=0,l=0,d=this._childCount,f,u,p,m;if(d!==0){for(this._resetBounds(),f=0;f<a.length;f++)p=a[f]._latlng,this._bounds.extend(p),o+=p.lat,l+=p.lng;for(f=0;f<r.length;f++)u=r[f],u._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),p=u._wLatLng,m=u._childCount,o+=p.lat*m,l+=p.lng*m;this._latlng=this._wLatLng=new L.LatLng(o/d,l/d),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,r,o){this._recursively(a,this._group._map.getMinZoom(),o-1,function(l){var d=l._markers,f,u;for(f=d.length-1;f>=0;f--)u=d[f],u._icon&&(u._setPos(r),u.clusterHide())},function(l){var d=l._childClusters,f,u;for(f=d.length-1;f>=0;f--)u=d[f],u._icon&&(u._setPos(r),u.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,r,o,l){this._recursively(a,l,r,function(d){d._recursivelyAnimateChildrenIn(a,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),o),d._isSingleParent()&&o-1===l?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(a,r,o)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(a,r){this._recursively(a,this._group._map.getMinZoom(),r,null,function(o){o.clusterShow()})},_recursivelyAddChildrenToMap:function(a,r,o){this._recursively(o,this._group._map.getMinZoom()-1,r,function(l){if(r!==l._zoom)for(var d=l._markers.length-1;d>=0;d--){var f=l._markers[d];o.contains(f._latlng)&&(a&&(f._backupLatlng=f.getLatLng(),f.setLatLng(a),f.clusterHide&&f.clusterHide()),l._group._featureGroup.addLayer(f))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var r=this._markers.length-1;r>=0;r--){var o=this._markers[r];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,r,o,l){var d,f;this._recursively(a,r-1,o-1,function(u){for(f=u._markers.length-1;f>=0;f--)d=u._markers[f],(!l||!l.contains(d._latlng))&&(u._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(u){for(f=u._childClusters.length-1;f>=0;f--)d=u._childClusters[f],(!l||!l.contains(d._latlng))&&(u._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(a,r,o,l,d){var f=this._childClusters,u=this._zoom,p,m;if(r<=u&&(l&&l(this),d&&u===o&&d(this)),u<r||u<o)for(p=f.length-1;p>=0;p--)m=f[p],m._boundsNeedUpdate&&m._recalculateBounds(),a.intersects(m._bounds)&&m._recursively(a,r,o,l,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,r){var o=this._getCoord(r.x),l=this._getCoord(r.y),d=this._grid,f=d[l]=d[l]||{},u=f[o]=f[o]||[],p=L.Util.stamp(a);this._objectPoint[p]=r,u.push(a)},updateObject:function(a,r){this.removeObject(a),this.addObject(a,r)},removeObject:function(a,r){var o=this._getCoord(r.x),l=this._getCoord(r.y),d=this._grid,f=d[l]=d[l]||{},u=f[o]=f[o]||[],p,m;for(delete this._objectPoint[L.Util.stamp(a)],p=0,m=u.length;p<m;p++)if(u[p]===a)return u.splice(p,1),m===1&&delete f[o],!0},eachObject:function(a,r){var o,l,d,f,u,p,m,v=this._grid;for(o in v){u=v[o];for(l in u)for(p=u[l],d=0,f=p.length;d<f;d++)m=a.call(r,p[d]),m&&(d--,f--)}},getNearObject:function(a){var r=this._getCoord(a.x),o=this._getCoord(a.y),l,d,f,u,p,m,v,x,y=this._objectPoint,_=this._sqCellSize,k=null;for(l=o-1;l<=o+1;l++)if(u=this._grid[l],u){for(d=r-1;d<=r+1;d++)if(p=u[d],p)for(f=0,m=p.length;f<m;f++)v=p[f],x=this._sqDist(y[L.Util.stamp(v)],a),(x<_||x<=_&&k===null)&&(_=x,k=v)}return k},_getCoord:function(a){var r=Math.floor(a/this._cellSize);return isFinite(r)?r:a},_sqDist:function(a,r){var o=r.x-a.x,l=r.y-a.y;return o*o+l*l}},function(){L.QuickHull={getDistant:function(a,r){var o=r[1].lat-r[0].lat,l=r[0].lng-r[1].lng;return l*(a.lat-r[0].lat)+o*(a.lng-r[0].lng)},findMostDistantPointFromBaseLine:function(a,r){var o=0,l=null,d=[],f,u,p;for(f=r.length-1;f>=0;f--){if(u=r[f],p=this.getDistant(u,a),p>0)d.push(u);else continue;p>o&&(o=p,l=u)}return{maxPoint:l,newPoints:d}},buildConvexHull:function(a,r){var o=[],l=this.findMostDistantPointFromBaseLine(a,r);return l.maxPoint?(o=o.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),o=o.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),o):[a[0]]},getConvexHull:function(a){var r=!1,o=!1,l=!1,d=!1,f=null,u=null,p=null,m=null,v=null,x=null,y;for(y=a.length-1;y>=0;y--){var _=a[y];(r===!1||_.lat>r)&&(f=_,r=_.lat),(o===!1||_.lat<o)&&(u=_,o=_.lat),(l===!1||_.lng>l)&&(p=_,l=_.lng),(d===!1||_.lng<d)&&(m=_,d=_.lng)}o!==r?(x=u,v=f):(x=m,v=p);var k=[].concat(this.buildConvexHull([x,v],a),this.buildConvexHull([v,x],a));return k}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),r=[],o,l;for(l=a.length-1;l>=0;l--)o=a[l].getLatLng(),r.push(o);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),r=this._group,o=r._map,l=o.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(a.length,l):(l.y+=10,d=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,d)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,r){var o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=o/this._2PI,d=this._2PI/a,f=[],u,p;for(l=Math.max(l,35),f.length=a,u=0;u<a;u++)p=this._circleStartAngle+u*d,f[u]=new L.Point(r.x+l*Math.cos(p),r.y+l*Math.sin(p))._round();return f},_generatePointsSpiral:function(a,r){var o=this._group.options.spiderfyDistanceMultiplier,l=o*this._spiralLengthStart,d=o*this._spiralFootSeparation,f=o*this._spiralLengthFactor*this._2PI,u=0,p=[],m;for(p.length=a,m=a;m>=0;m--)m<a&&(p[m]=new L.Point(r.x+l*Math.cos(u),r.y+l*Math.sin(u))._round()),u+=d/l+m*5e-4,l+=f/u;return p},_noanimationUnspiderfy:function(){var a=this._group,r=a._map,o=a._featureGroup,l=this.getAllChildMarkers(null,!0),d,f;for(a._ignoreMove=!0,this.setOpacity(1),f=l.length-1;f>=0;f--)d=l[f],o.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(r.removeLayer(d._spiderLeg),delete d._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,r){var o=this._group,l=o._map,d=o._featureGroup,f=this._group.options.spiderLegPolylineOptions,u,p,m,v;for(o._ignoreMove=!0,u=0;u<a.length;u++)v=l.layerPointToLatLng(r[u]),p=a[u],m=new L.Polyline([this._latlng,v],f),l.addLayer(m),p._spiderLeg=m,p._preSpiderfyLatlng=p._latlng,p.setLatLng(v),p.setZIndexOffset&&p.setZIndexOffset(1e6),d.addLayer(p);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,r){var o=this,l=this._group,d=l._map,f=l._featureGroup,u=this._latlng,p=d.latLngToLayerPoint(u),m=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),x=v.opacity,y,_,k,C,M,S;for(x===void 0&&(x=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=x,l._ignoreMove=!0,y=0;y<a.length;y++)_=a[y],S=d.layerPointToLatLng(r[y]),k=new L.Polyline([u,S],v),d.addLayer(k),_._spiderLeg=k,m&&(C=k._path,M=C.getTotalLength()+.1,C.style.strokeDasharray=M,C.style.strokeDashoffset=M),_.setZIndexOffset&&_.setZIndexOffset(1e6),_.clusterHide&&_.clusterHide(),f.addLayer(_),_._setPos&&_._setPos(p);for(l._forceLayout(),l._animationStart(),y=a.length-1;y>=0;y--)S=d.layerPointToLatLng(r[y]),_=a[y],_._preSpiderfyLatlng=_._latlng,_.setLatLng(S),_.clusterShow&&_.clusterShow(),m&&(k=_._spiderLeg,C=k._path,C.style.strokeDashoffset=0,k.setStyle({opacity:x}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:o,markers:a})},200)},_animationUnspiderfy:function(a){var r=this,o=this._group,l=o._map,d=o._featureGroup,f=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(null,!0),p=L.Path.SVG,m,v,x,y,_,k;for(o._ignoreMove=!0,o._animationStart(),this.setOpacity(1),v=u.length-1;v>=0;v--)m=u[v],m._preSpiderfyLatlng&&(m.closePopup(),m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng,k=!0,m._setPos&&(m._setPos(f),k=!1),m.clusterHide&&(m.clusterHide(),k=!1),k&&d.removeLayer(m),p&&(x=m._spiderLeg,y=x._path,_=y.getTotalLength()+.1,y.style.strokeDashoffset=_,x.setStyle({opacity:0})));o._ignoreMove=!1,setTimeout(function(){var C=0;for(v=u.length-1;v>=0;v--)m=u[v],m._spiderLeg&&C++;for(v=u.length-1;v>=0;v--)m=u[v],m._spiderLeg&&(m.clusterShow&&m.clusterShow(),m.setZIndexOffset&&m.setZIndexOffset(0),C>1&&d.removeLayer(m),l.removeLayer(m._spiderLeg),delete m._spiderLeg);o._animationEnd(),o.fire("unspiderfied",{cluster:r,markers:u})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var r,o;for(r in a)for(o=a[r].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(a){var r,o;for(r in a)o=a[r],this.hasLayer(o)&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(a,r){var o=this.options.icon;return L.setOptions(o,a),this.setIcon(o),r&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=i,e.MarkerCluster=s,Object.defineProperty(e,"__esModule",{value:!0})})})(Or,Or.exports);let Ot={};Ot.init=async function(){vt.init()};let vt={chart:document.querySelector("#chart"),optionChart:document.querySelector("#optionChart"),optionMap:document.querySelector("#optionMap"),distance:document.querySelector("#distance"),reset:document.querySelector("#resetcercle")};vt.init=function(){console.log(Ft.getLastFiliere()),vt.loadMaps("dark_all"),Ot.sliderValueChart(),Ot.clickOnBtnChart(),Ot.clickOnBtnMap(),Ot.toggleTheme(),Ot.sliderValueMap("dark_all"),Ot.clickOnResetMap("dark_all"),vt.loadMarkers(vt.mapInstance),vt.loadAllMarkers(vt.mapInstance)};Ot.sliderValueChart=function(){let h=document.getElementById("sliderChart");h.addEventListener("input",function(){vt.chart.innerHTML="",vt.renderChart(parseInt(h.value))})};Ot.clickOnBtnChart=function(){document.getElementById("showchart").addEventListener("click",function(){Rt.hideMap(),vt.optionMap.style.display="none",vt.reset.style.display="none",vt.chart.innerHTML="",vt.distance.innerHTML="",vt.renderChart(),vt.optionChart.style.display="flex"})};Ot.clickOnResetMap=function(h){document.getElementById("resetcercle").addEventListener("click",function(){Rt.removeMap(),vt.loadMaps(h),Ot.sliderValueMap(h),vt.loadMarkers(vt.mapInstance)})};Ot.clickOnBtnMap=function(){document.getElementById("showmap").addEventListener("click",function(){vt.chart.style.display="none",vt.optionChart.style.display="none",Rt.showMap(),vt.optionMap.style.display="flex",vt.reset.style.display="flex"})};Ot.toggleTheme=function(){let h=document.getElementById("toggleTheme");h.addEventListener("change",function(){h.checked?(console.log("light"),Rt.removeMap(),vt.loadMaps("light_all"),Ot.sliderValueMap("light_all"),Ot.clickOnResetMap("light_all")):(console.log("dark"),Rt.removeMap(),vt.loadMaps("dark_all"),Ot.sliderValueMap("dark_all"),Ot.clickOnResetMap("dark_all"))})};Ot.clickOnAll=function(h){document.getElementById("all").addEventListener("click",function(){vt.loadAllMarkers(h)})};vt.loadAllMarkers=function(h){let t=Ft.getLastFiliere(),e=je.getLycee(Ft.getLastLycees());Rt.renderType4(h,e,t);let i=Ft.getPostBac();Rt.renderType1(h,i)};vt.renderChart=function(h){vt.chart.style.display="flex",vt.innerHTML=mc.render(h)};Ot.sliderValueMap=function(h){let t=document.getElementById("sliderMap");t.addEventListener("input",function(){Rt.removeMap();var e=As.map("map",{maxZoom:19}).setView([45.833619,1.261105],5);As.tileLayer(`https://{s}.basemaps.cartocdn.com/${h}/{z}/{x}/{y}{r}.png`,{attribution:'&copy; <a href="https://www.carto.com/">Carto</a>',subdomains:"abcd",maxZoom:19}).addTo(e);let i=Rt.filterLyceesByDistance(je.getLycee(Ft.getLastLycees()),parseInt(t.value)),s=Ft.getLastFiliere();Rt.renderType4(e,i,s),Rt.drawCircle(e,parseInt(t.value)),document.getElementById("distance").innerText=t.value/1e3+" km",["postbacs","Générale","STI2D","autres"].forEach(function(r){document.getElementById(r).checked=!1})})};vt.loadMaps=function(h){vt.mapInstance&&(vt.mapInstance.off(),vt.mapInstance.remove());var t=As.map("map").setView([45.833619,1.261105],12);As.tileLayer(`https://{s}.basemaps.cartocdn.com/${h}/{z}/{x}/{y}{r}.png`,{attribution:'&copy; <a href="https://www.carto.com/">Carto</a>',subdomains:"abcd",maxZoom:19}).addTo(t),vt.mapInstance=t,vt.loadMarkers(t),Ot.clickOnAll(t,h);let e=["all","postbacs","Générale","STI2D","autres"];e.forEach(function(i){let s=document.getElementById(i);s.addEventListener("change",function(){s.checked&&(e.forEach(function(a){a!==i&&(document.getElementById(a).checked=!1)}),vt.loadMaps(h))})})};vt.loadMarkers=function(h){let t=je.getLycee(Ft.getLastLycees()),e=document.getElementById("postbacs").checked,i=document.getElementById("Générale").checked,s=document.getElementById("STI2D").checked,a=document.getElementById("autres").checked,r=[];if(e){let o=Ft.getPostBac();Rt.renderType1(h,o);return}if(i){let o=Ft.getByFiliere("Générale");r=r.concat(o)}if(s){let o=Ft.getByFiliere("STI2D");r=r.concat(o)}if(a){let o=Ft.getByFiliere("autres");r=r.concat(o)}Rt.renderType4(h,t,r)};Ot.init();
